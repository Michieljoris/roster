<!DOCTYPE html>  <html> <head>   <title>pouch.alpha.min.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="bootstrap.html">                 bootstrap.js               </a>                                           <a class="source" href="date.html">                 date.js               </a>                                           <a class="source" href="font.html">                 font.js               </a>                                           <a class="source" href="livepage.html">                 livepage.js               </a>                                           <a class="source" href="logger.html">                 logger.js               </a>                                           <a class="source" href="pouch.alpha.min.html">                 pouch.alpha.min.js               </a>                                           <a class="source" href="pouch.alphal.html">                 pouch.alphal.js               </a>                                           <a class="source" href="pouch.html">                 pouch.js               </a>                                           <a class="source" href="utils.html">                 utils.js               </a>                                           <a class="source" href="vow.html">                 vow.js               </a>                                           <a class="source" href="when.html">                 when.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               pouch.alpha.min.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<span class="cm">/*! jQuery v1.7.1 jquery.com | jquery.org/license */</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">function</span> <span class="nx">cy</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">9</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">defaultView</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentWindow</span><span class="o">:!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">cv</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">ck</span><span class="p">[</span><span class="nx">a</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;&gt;&quot;</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;display&quot;</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;none&quot;</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="p">){</span><span class="nx">cl</span><span class="o">||</span><span class="p">(</span><span class="nx">cl</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;iframe&quot;</span><span class="p">),</span><span class="nx">cl</span><span class="p">.</span><span class="nx">frameBorder</span><span class="o">=</span><span class="nx">cl</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">cl</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">cl</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">cm</span><span class="o">||!</span><span class="nx">cl</span><span class="p">.</span><span class="nx">createElement</span><span class="p">){</span><span class="nx">cm</span><span class="o">=</span><span class="p">(</span><span class="nx">cl</span><span class="p">.</span><span class="nx">contentWindow</span><span class="o">||</span><span class="nx">cl</span><span class="p">.</span><span class="nx">contentDocument</span><span class="p">).</span><span class="nb">document</span><span class="p">,</span><span class="nx">cm</span><span class="p">.</span><span class="nx">write</span><span class="p">((</span><span class="nx">c</span><span class="p">.</span><span class="nx">compatMode</span><span class="o">===</span><span class="s2">&quot;CSS1Compat&quot;</span><span class="o">?</span><span class="s2">&quot;&lt;!doctype html&gt;&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&lt;html&gt;&lt;body&gt;&quot;</span><span class="p">),</span><span class="nx">cm</span><span class="p">.</span><span class="nx">close</span><span class="p">()}</span><span class="nx">d</span><span class="o">=</span><span class="nx">cm</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">cm</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;display&quot;</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">cl</span><span class="p">)}</span><span class="nx">ck</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">}</span><span class="k">return</span> <span class="nx">ck</span><span class="p">[</span><span class="nx">a</span><span class="p">]}</span><span class="kd">function</span> <span class="nx">cu</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">{};</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">cq</span><span class="p">.</span><span class="nx">concat</span><span class="p">.</span><span class="nx">apply</span><span class="p">([],</span><span class="nx">cq</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">)),</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">[</span><span class="k">this</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">});</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ct</span><span class="p">(){</span><span class="nx">cr</span><span class="o">=</span><span class="nx">b</span><span class="p">}</span><span class="kd">function</span> <span class="nx">cs</span><span class="p">(){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">ct</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="nx">cr</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">now</span><span class="p">()}</span><span class="kd">function</span> <span class="nx">cj</span><span class="p">(){</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="k">new</span> <span class="nx">a</span><span class="p">.</span><span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Microsoft.XMLHTTP&quot;</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">b</span><span class="p">){}}</span><span class="kd">function</span> <span class="nx">ci</span><span class="p">(){</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="k">new</span> <span class="nx">a</span><span class="p">.</span><span class="nx">XMLHttpRequest</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">b</span><span class="p">){}}</span><span class="kd">function</span> <span class="nx">cc</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">dataFilter</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">dataFilter</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">dataType</span><span class="p">));</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="p">{},</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">a</span><span class="p">.</span><span class="nx">converters</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">h</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">converters</span><span class="p">[</span><span class="nx">h</span><span class="p">])}}</span><span class="nx">l</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">===</span><span class="s2">&quot;*&quot;</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">!==</span><span class="s2">&quot;*&quot;</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">!==</span><span class="nx">k</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="nx">l</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">k</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">||</span><span class="nx">e</span><span class="p">[</span><span class="s2">&quot;* &quot;</span><span class="o">+</span><span class="nx">k</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">n</span><span class="p">){</span><span class="nx">p</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span> <span class="k">in</span> <span class="nx">e</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="nx">l</span><span class="o">||</span><span class="nx">j</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;*&quot;</span><span class="p">){</span><span class="nx">p</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">k</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">o</span><span class="o">===!</span><span class="mi">0</span><span class="o">?</span><span class="nx">n</span><span class="o">=</span><span class="nx">p</span><span class="o">:</span><span class="nx">p</span><span class="o">===!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">o</span><span class="p">);</span><span class="k">break</span><span class="p">}}}}</span><span class="o">!</span><span class="nx">n</span><span class="o">&amp;&amp;!</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;No conversion from &quot;</span><span class="o">+</span><span class="nx">m</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="s2">&quot; to &quot;</span><span class="p">)),</span><span class="nx">n</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">n</span><span class="o">?</span><span class="nx">n</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">p</span><span class="p">(</span><span class="nx">o</span><span class="p">(</span><span class="nx">c</span><span class="p">)))}}}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">cb</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">contents</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">responseFields</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">g</span><span class="p">){</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">g</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">i</span><span class="p">])}</span><span class="k">while</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;*&quot;</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">h</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">mimeType</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span><span class="s2">&quot;content-type&quot;</span><span class="p">))}</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">test</span><span class="p">(</span><span class="nx">h</span><span class="p">)){</span><span class="nx">f</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">break</span><span class="p">}}}</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">in</span> <span class="nx">d</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">converters</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]]){</span><span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="nx">k</span><span class="o">||</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">i</span><span class="p">)}</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="o">||</span><span class="nx">k</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="nx">j</span><span class="o">!==</span><span class="nx">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">]}}</span><span class="kd">function</span> <span class="nx">ca</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">c</span><span class="o">||</span><span class="nx">bE</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">ca</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)})}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="nx">b</span><span class="p">){</span><span class="nx">ca</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="nx">d</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}}}</span><span class="kd">function</span> <span class="nx">b_</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">flatOptions</span><span class="o">||</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span> <span class="k">in</span> <span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">((</span><span class="nx">g</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">e</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="p">{}))[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">])}</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">b$</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="o">||</span><span class="p">{},</span><span class="nx">g</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">h</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="o">===</span><span class="nx">bT</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">||!</span><span class="nx">l</span><span class="p">);</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">l</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="nx">i</span><span class="p">](</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">typeof</span> <span class="nx">l</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">k</span><span class="o">||</span><span class="nx">g</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">?</span><span class="nx">l</span><span class="o">=</span><span class="nx">b</span><span class="o">:</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">l</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="nx">b$</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">g</span><span class="p">)))}(</span><span class="nx">k</span><span class="o">||!</span><span class="nx">l</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">g</span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">b$</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="s2">&quot;*&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">));</span><span class="k">return</span> <span class="nx">l</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bZ</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">c</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="nx">bP</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">j</span><span class="o">=</span><span class="sr">/^\+/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;*&quot;</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">||</span><span class="p">[],</span><span class="nx">i</span><span class="p">[</span><span class="nx">j</span><span class="o">?</span><span class="s2">&quot;unshift&quot;</span><span class="o">:</span><span class="s2">&quot;push&quot;</span><span class="p">](</span><span class="nx">c</span><span class="p">)}}}}</span><span class="kd">function</span> <span class="nx">bC</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;width&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;width&quot;</span><span class="o">?</span><span class="nx">bx</span><span class="o">:</span><span class="nx">by</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">!==</span><span class="s2">&quot;border&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="o">-=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;padding&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]))</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;margin&quot;</span><span class="o">?</span><span class="nx">d</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]))</span><span class="o">||</span><span class="mi">0</span><span class="o">:</span><span class="nx">d</span><span class="o">-=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;border&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;Width&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">}}</span><span class="k">return</span> <span class="nx">d</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">}</span><span class="nx">d</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">||</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">}</span><span class="nx">d</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;padding&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]))</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">!==</span><span class="s2">&quot;padding&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;border&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;Width&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;margin&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="o">+</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]))</span><span class="o">||</span><span class="mi">0</span><span class="p">)}}</span><span class="k">return</span> <span class="nx">d</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bp</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">src</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span><span class="nx">async</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">dataType</span><span class="o">:</span><span class="s2">&quot;script&quot;</span><span class="p">})</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">globalEval</span><span class="p">((</span><span class="nx">b</span><span class="p">.</span><span class="nx">text</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">textContent</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bf</span><span class="p">,</span><span class="s2">&quot;/*$0*/&quot;</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">bo</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span><span class="nx">bh</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHTML</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">}</span><span class="kd">function</span> <span class="nx">bn</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">?</span><span class="nx">bm</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="o">!==</span><span class="s2">&quot;script&quot;</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">),</span><span class="nx">bm</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">bm</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">===</span><span class="s2">&quot;checkbox&quot;</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">===</span><span class="s2">&quot;radio&quot;</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">defaultChecked</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">checked</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">bl</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="o">:</span><span class="p">[]}</span><span class="kd">function</span> <span class="nx">bk</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">clearAttributes</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">clearAttributes</span><span class="p">(),</span><span class="nx">b</span><span class="p">.</span><span class="nx">mergeAttributes</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">mergeAttributes</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">outerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHTML</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">!==</span><span class="s2">&quot;input&quot;</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">!==</span><span class="s2">&quot;checkbox&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">!==</span><span class="s2">&quot;radio&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;option&quot;</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">selected</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">defaultSelected</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">||</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;textarea&quot;</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">defaultValue</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">}}}</span><span class="k">else</span><span class="p">{</span><span class="nx">a</span><span class="p">.</span><span class="nx">checked</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">defaultChecked</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">checked</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">checked</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">value</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">)}}</span><span class="nx">b</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">bj</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;!!</span><span class="nx">f</span><span class="p">.</span><span class="nx">hasData</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">events</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">delete</span> <span class="nx">h</span><span class="p">.</span><span class="nx">handle</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">i</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">][</span><span class="nx">d</span><span class="p">].</span><span class="nx">namespace</span><span class="o">?</span><span class="s2">&quot;.&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">][</span><span class="nx">d</span><span class="p">].</span><span class="nx">namespace</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">][</span><span class="nx">d</span><span class="p">],</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">][</span><span class="nx">d</span><span class="p">].</span><span class="nx">data</span><span class="p">)}}}</span><span class="nx">h</span><span class="p">.</span><span class="nx">data</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">h</span><span class="p">.</span><span class="nx">data</span><span class="p">))}}</span><span class="kd">function</span> <span class="nx">bi</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;table&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;tbody&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;tbody&quot;</span><span class="p">))</span><span class="o">:</span><span class="nx">a</span><span class="p">}</span><span class="kd">function</span> <span class="nx">U</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">V</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">){</span><span class="k">while</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">pop</span><span class="p">())}}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">function</span> <span class="nx">T</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!!</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">===</span><span class="nx">c</span><span class="p">})}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="o">===</span><span class="nx">c</span><span class="p">})}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">});</span><span class="k">if</span><span class="p">(</span><span class="nx">O</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="nx">c</span><span class="p">)}</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">===</span><span class="nx">c</span><span class="p">})}</span><span class="kd">function</span> <span class="nx">S</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="nx">a</span><span class="o">||!</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">11</span><span class="p">}</span><span class="kd">function</span> <span class="nx">K</span><span class="p">(){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="kd">function</span> <span class="nx">J</span><span class="p">(){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;defer&quot;</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;queue&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;queue&quot;</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;mark&quot;</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">fire</span><span class="p">())},</span><span class="mi">0</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">m</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;data&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">])){</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">!==</span><span class="s2">&quot;toJSON&quot;</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="kd">function</span> <span class="nx">l</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="s2">&quot;data-&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="s2">&quot;-$1&quot;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">d</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;true&quot;</span><span class="o">?!</span><span class="mi">0</span><span class="o">:</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;false&quot;</span><span class="o">?!</span><span class="mi">1</span><span class="o">:</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;null&quot;</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">isNumeric</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">?</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">parseJSON</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">g</span><span class="p">){}</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">}}</span><span class="k">return</span> <span class="nx">d</span><span class="p">}</span><span class="kd">function</span> <span class="nx">h</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="p">{},</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]]</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">navigator</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">J</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">isReady</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">doScroll</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">J</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">()}}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">h</span><span class="p">)},</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">$</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="sr">/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="sr">/\S/</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="sr">/^\s+/</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="sr">/\s+$/</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="sr">/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;)?$/</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="sr">/^[\],:{}\s]*$/</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="sr">/\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]{4})/g</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="sr">/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="sr">/(?:^|:|,)(?:\s*\[)+/g</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="sr">/(webkit)[ \/]([\w.]+)/</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="sr">/(opera)(?:.*version)?[ \/]([\w.]+)/</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="sr">/(msie) ([\w.]+)/</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="sr">/(mozilla)(?:.*? rv:([\w.]+))?/</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="sr">/-([a-z]|[0-9])/ig</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="sr">/^-ms-/</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()},</span><span class="nx">y</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">,</span><span class="nx">z</span><span class="p">,</span><span class="nx">A</span><span class="p">,</span><span class="nx">B</span><span class="p">,</span><span class="nx">C</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span><span class="nx">D</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">,</span><span class="nx">E</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">,</span><span class="nx">F</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">,</span><span class="nx">G</span><span class="o">=</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span><span class="p">,</span><span class="nx">H</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">,</span><span class="nx">I</span><span class="o">=</span><span class="p">{};</span><span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">constructor</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">init</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="s2">&quot;body&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">body</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;&lt;&quot;</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;&gt;&quot;</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">?</span><span class="nx">g</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">g</span><span class="o">=</span><span class="p">[</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="kc">null</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||!</span><span class="nx">d</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]){</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="o">?</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">d</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">j</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">])],</span><span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">attr</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">))</span><span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="p">[</span><span class="nx">k</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span><span class="o">:</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">buildFragment</span><span class="p">([</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]],[</span><span class="nx">k</span><span class="p">]),</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">cacheable</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">fragment</span><span class="p">)</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">fragment</span><span class="p">).</span><span class="nx">childNodes</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)}</span><span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">id</span><span class="o">!==</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">return</span> <span class="o">!</span><span class="nx">d</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">jquery</span><span class="o">?</span><span class="p">(</span><span class="nx">d</span><span class="o">||</span><span class="nx">f</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="nx">a</span><span class="p">.</span><span class="nx">selector</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">context</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">)},</span><span class="nx">selector</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">jquery</span><span class="o">:</span><span class="s2">&quot;1.7.1&quot;</span><span class="p">,</span><span class="nx">length</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">size</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">},</span><span class="nx">toArray</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">F</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="mi">0</span><span class="p">)},</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">toArray</span><span class="p">()</span><span class="o">:</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="nx">a</span><span class="p">]</span><span class="o">:</span><span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="p">]},</span><span class="nx">pushStack</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">();</span><span class="nx">e</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="nx">E</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">prevObject</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">,</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;find&quot;</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">selector</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">?</span><span class="s2">&quot; &quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">c</span><span class="o">:</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">selector</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;(&quot;</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">each</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">ready</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">bindReady</span><span class="p">(),</span><span class="nx">A</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">eq</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=+</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="o">===-</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">+</span><span class="mi">1</span><span class="p">)},</span><span class="nx">first</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)},</span><span class="nx">last</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)},</span><span class="nx">slice</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="s2">&quot;slice&quot;</span><span class="p">,</span><span class="nx">F</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))},</span><span class="nx">map</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">)}))},</span><span class="nx">end</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevObject</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span><span class="kc">null</span><span class="p">)},</span><span class="nx">push</span><span class="o">:</span><span class="nx">E</span><span class="p">,</span><span class="nx">sort</span><span class="o">:</span><span class="p">[].</span><span class="nx">sort</span><span class="p">,</span><span class="nx">splice</span><span class="o">:</span><span class="p">[].</span><span class="nx">splice</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">extend</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">l</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">typeof</span> <span class="nx">i</span><span class="o">==</span><span class="s2">&quot;boolean&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">j</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span><span class="k">typeof</span> <span class="nx">i</span><span class="o">!=</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">{}),</span><span class="nx">k</span><span class="o">===</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="o">--</span><span class="nx">j</span><span class="p">);</span><span class="k">for</span><span class="p">(;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">k</span><span class="p">;</span><span class="nx">j</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">((</span><span class="nx">a</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">j</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">===</span><span class="nx">f</span><span class="p">){</span><span class="k">continue</span><span class="p">}</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">f</span><span class="p">)))</span><span class="o">?</span><span class="p">(</span><span class="nx">g</span><span class="o">?</span><span class="p">(</span><span class="nx">g</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="p">[])</span><span class="o">:</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="p">{},</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">f</span><span class="p">))</span><span class="o">:</span><span class="nx">f</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">)}}}</span><span class="k">return</span> <span class="nx">i</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">noConflict</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">$</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">$</span><span class="o">=</span><span class="nx">g</span><span class="p">),</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">jQuery</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">jQuery</span><span class="o">=</span><span class="nx">f</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">isReady</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">readyWait</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">holdReady</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">readyWait</span><span class="o">++:</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">ready</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===!</span><span class="mi">0</span><span class="o">&amp;&amp;!--</span><span class="nx">e</span><span class="p">.</span><span class="nx">readyWait</span><span class="o">||</span><span class="nx">a</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="p">.</span><span class="nx">isReady</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">body</span><span class="p">){</span><span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span><span class="mi">1</span><span class="p">)}</span><span class="nx">e</span><span class="p">.</span><span class="nx">isReady</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;--</span><span class="nx">e</span><span class="p">.</span><span class="nx">readyWait</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">A</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span><span class="nx">c</span><span class="p">,[</span><span class="nx">e</span><span class="p">]),</span><span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">trigger</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">(</span><span class="nx">c</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">).</span><span class="nx">off</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">)}},</span><span class="nx">bindReady</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">A</span><span class="p">){</span><span class="nx">A</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">readyState</span><span class="o">===</span><span class="s2">&quot;complete&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span><span class="mi">1</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">,</span><span class="nx">B</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;onreadystatechange&quot;</span><span class="p">,</span><span class="nx">B</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;onload&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">frameElement</span><span class="o">==</span><span class="kc">null</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">d</span><span class="p">){}</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">doScroll</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">J</span><span class="p">()}}}},</span><span class="nx">isFunction</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;function&quot;</span><span class="p">},</span><span class="nx">isArray</span><span class="o">:</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;array&quot;</span><span class="p">},</span><span class="nx">isWindow</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;setInterval&quot;</span> <span class="k">in</span> <span class="nx">a</span><span class="p">},</span><span class="nx">isNumeric</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nb">isFinite</span><span class="p">(</span><span class="nx">a</span><span class="p">)},</span><span class="nx">type</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nb">String</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">I</span><span class="p">[</span><span class="nx">C</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">)]</span><span class="o">||</span><span class="s2">&quot;object&quot;</span><span class="p">},</span><span class="nx">isPlainObject</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;object&quot;</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span><span class="o">&amp;&amp;!</span><span class="nx">D</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;constructor&quot;</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">D</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="s2">&quot;isPrototypeOf&quot;</span><span class="p">)){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="kd">var</span> <span class="nx">d</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){}</span><span class="k">return</span> <span class="nx">d</span><span class="o">===</span><span class="nx">b</span><span class="o">||</span><span class="nx">D</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="nx">isEmptyObject</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">},</span><span class="nx">error</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">a</span><span class="p">)},</span><span class="nx">parseJSON</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">||!</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">JSON</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">b</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="s2">&quot;@&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="s2">&quot;]&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">))){</span><span class="k">return</span><span class="p">(</span><span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;return &quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">))()}</span><span class="nx">e</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Invalid JSON: &quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">)},</span><span class="nx">parseXML</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">a</span><span class="p">.</span><span class="nx">DOMParser</span><span class="o">?</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="k">new</span> <span class="nx">DOMParser</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">parseFromString</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;text/xml&quot;</span><span class="p">))</span><span class="o">:</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Microsoft.XMLDOM&quot;</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="s2">&quot;false&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">loadXML</span><span class="p">(</span><span class="nx">c</span><span class="p">))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">g</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">}(</span><span class="o">!</span><span class="nx">d</span><span class="o">||!</span><span class="nx">d</span><span class="p">.</span><span class="nx">documentElement</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;parsererror&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Invalid XML: &quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">noop</span><span class="o">:</span><span class="kd">function</span><span class="p">(){},</span><span class="nx">globalEval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">execScript</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nb">eval</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)})(</span><span class="nx">b</span><span class="p">)},</span><span class="nx">camelCase</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span><span class="s2">&quot;ms-&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span><span class="nx">x</span><span class="p">)},</span><span class="nx">nodeName</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()},</span><span class="nx">each</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="o">===</span><span class="nx">b</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="nx">d</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="k">break</span><span class="p">}}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="o">++</span><span class="p">],</span><span class="nx">d</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="k">break</span><span class="p">}}}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="nx">f</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">])</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="k">break</span><span class="p">}}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="o">++</span><span class="p">])</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="k">break</span><span class="p">}}}}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">trim</span><span class="o">:</span><span class="nx">G</span><span class="o">?</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">G</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">makeArray</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;function&quot;</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;regexp&quot;</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="nx">E</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">)}</span><span class="k">return</span> <span class="nx">c</span><span class="p">},</span><span class="nx">inArray</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">H</span><span class="p">){</span><span class="k">return</span> <span class="nx">H</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="o">?</span><span class="nx">c</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">+</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">===</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">c</span><span class="p">}}}</span><span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span><span class="nx">merge</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">++</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">]}}</span><span class="k">else</span><span class="p">{</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="o">++</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="o">++</span><span class="p">]}}</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">grep</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="p">;</span><span class="nx">c</span><span class="o">=!!</span><span class="nx">c</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">){</span><span class="nx">e</span><span class="o">=!!</span><span class="nx">b</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="nx">f</span><span class="p">),</span><span class="nx">c</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">])}</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">map</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="p">[],</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">a</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="o">||</span><span class="nx">j</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">j</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="nx">j</span><span class="o">===</span><span class="mi">0</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">a</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">i</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">f</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">g</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">f</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">)}}</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">concat</span><span class="p">.</span><span class="nx">apply</span><span class="p">([],</span><span class="nx">h</span><span class="p">)},</span><span class="nx">guid</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">proxy</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)))};</span><span class="nx">g</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">guid</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nx">guid</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">;</span><span class="k">return</span> <span class="nx">g</span><span class="p">},</span><span class="nx">access</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="k">in</span> <span class="nx">c</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">c</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="k">return</span> <span class="nx">a</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="o">=!</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">k</span><span class="p">,</span><span class="nx">g</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">c</span><span class="p">))</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">h</span><span class="p">)}</span><span class="k">return</span> <span class="nx">a</span><span class="p">}</span><span class="k">return</span> <span class="nx">i</span><span class="o">?</span><span class="nx">g</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">},</span><span class="nx">now</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">).</span><span class="nx">getTime</span><span class="p">()},</span><span class="nx">uaMatch</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">s</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;compatible&quot;</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="p">[];</span><span class="k">return</span><span class="p">{</span><span class="nx">browser</span><span class="o">:</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">version</span><span class="o">:</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;0&quot;</span><span class="p">}},</span><span class="nx">sub</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="nx">e</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">superclass</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="k">this</span><span class="p">(),</span><span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">constructor</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">sub</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sub</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">f</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="o">&amp;&amp;!</span><span class="p">(</span><span class="nx">f</span> <span class="k">instanceof</span> <span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="nx">f</span><span class="p">));</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">fn</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">browser</span><span class="o">:</span><span class="p">{}}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="s2">&quot;Boolean Number String Function Array Date RegExp Object&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">I</span><span class="p">[</span><span class="s2">&quot;[object &quot;</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()}),</span><span class="nx">z</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">uaMatch</span><span class="p">(</span><span class="nx">y</span><span class="p">),</span><span class="nx">z</span><span class="p">.</span><span class="nx">browser</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">browser</span><span class="p">[</span><span class="nx">z</span><span class="p">.</span><span class="nx">browser</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">version</span><span class="o">=</span><span class="nx">z</span><span class="p">.</span><span class="nx">version</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">webkit</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">safari</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">j</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="sr">/^[\s\xA0]+/</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="sr">/[\s\xA0]+$/</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">?</span><span class="nx">B</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">,</span><span class="nx">B</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">()}</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">attachEvent</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">B</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="p">.</span><span class="nx">readyState</span><span class="o">===</span><span class="s2">&quot;complete&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span><span class="s2">&quot;onreadystatechange&quot;</span><span class="p">,</span><span class="nx">B</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">ready</span><span class="p">())});</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(),</span><span class="nx">g</span><span class="o">=</span><span class="p">{};</span><span class="nx">f</span><span class="p">.</span><span class="nx">Callbacks</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="nx">g</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">||</span><span class="nx">h</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">d</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;array&quot;</span><span class="o">?</span><span class="nx">m</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">unique</span><span class="o">||!</span><span class="nx">o</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">g</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">)}},</span><span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="o">||</span><span class="p">[],</span><span class="nx">e</span><span class="o">=!</span><span class="nx">a</span><span class="p">.</span><span class="nx">memory</span><span class="o">||</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">],</span><span class="nx">i</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">j</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">k</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">stopOnFalse</span><span class="p">){</span><span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">}}</span><span class="nx">i</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">once</span><span class="o">?</span><span class="nx">e</span><span class="o">===!</span><span class="mi">0</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">disable</span><span class="p">()</span><span class="o">:</span><span class="nx">c</span><span class="o">=</span><span class="p">[]</span><span class="o">:</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">o</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])))},</span><span class="nx">o</span><span class="o">=</span><span class="p">{</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">m</span><span class="p">(</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">i</span><span class="o">?</span><span class="nx">k</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">:</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]))}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">remove</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">===</span><span class="nx">c</span><span class="p">[</span><span class="nx">f</span><span class="p">]){</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">&lt;=</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">--</span><span class="p">,</span><span class="nx">f</span><span class="o">&lt;=</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">--</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">f</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">unique</span><span class="p">){</span><span class="k">break</span><span class="p">}}}}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">has</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">c</span><span class="p">[</span><span class="nx">b</span><span class="p">]){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}}}</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="nx">empty</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="o">=</span><span class="p">[];</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">disable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">c</span><span class="o">=</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">disabled</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="o">!</span><span class="nx">c</span><span class="p">},</span><span class="nx">lock</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">,(</span><span class="o">!</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="o">===!</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">disable</span><span class="p">();</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">locked</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="o">!</span><span class="nx">d</span><span class="p">},</span><span class="nx">fireWith</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">once</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">])</span><span class="o">:</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">once</span><span class="o">||!</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">));</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">fire</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">o</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">fired</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="o">!!</span><span class="nx">e</span><span class="p">}};</span><span class="k">return</span> <span class="nx">o</span><span class="p">};</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="p">[].</span><span class="nx">slice</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">Deferred</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;memory&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="s2">&quot;pending&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">{</span><span class="nx">resolve</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">reject</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">notify</span><span class="o">:</span><span class="nx">d</span><span class="p">},</span><span class="nx">h</span><span class="o">=</span><span class="p">{</span><span class="nx">done</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">add</span><span class="p">,</span><span class="nx">fail</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">add</span><span class="p">,</span><span class="nx">progress</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">add</span><span class="p">,</span><span class="nx">state</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">isResolved</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">fired</span><span class="p">,</span><span class="nx">isRejected</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">fired</span><span class="p">,</span><span class="nx">then</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">fail</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">progress</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">always</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">done</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">fail</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">pipe</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="nx">done</span><span class="o">:</span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;resolve&quot;</span><span class="p">],</span><span class="nx">fail</span><span class="o">:</span><span class="p">[</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;reject&quot;</span><span class="p">],</span><span class="nx">progress</span><span class="o">:</span><span class="p">[</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;notify&quot;</span><span class="p">]},</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">g</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="p">[</span><span class="nx">a</span><span class="p">](</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">promise</span><span class="p">)</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">promise</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">resolve</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">reject</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">notify</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;With&quot;</span><span class="p">](</span><span class="k">this</span><span class="o">===</span><span class="nx">i</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="k">this</span><span class="p">,[</span><span class="nx">g</span><span class="p">])})</span><span class="o">:</span><span class="nx">i</span><span class="p">[</span><span class="nx">a</span><span class="p">](</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">])})}).</span><span class="nx">promise</span><span class="p">()},</span><span class="nx">promise</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">h</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span> <span class="k">in</span> <span class="nx">h</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="nx">b</span><span class="p">]}}</span><span class="k">return</span> <span class="nx">a</span><span class="p">}},</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">promise</span><span class="p">({}),</span><span class="nx">j</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span> <span class="k">in</span> <span class="nx">g</span><span class="p">){</span><span class="nx">i</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">fire</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">j</span><span class="o">+</span><span class="s2">&quot;With&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">fireWith</span><span class="p">}</span><span class="nx">i</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="o">=</span><span class="s2">&quot;resolved&quot;</span><span class="p">},</span><span class="nx">c</span><span class="p">.</span><span class="nx">disable</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">lock</span><span class="p">).</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="o">=</span><span class="s2">&quot;rejected&quot;</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">disable</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">lock</span><span class="p">),</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="p">},</span><span class="nx">when</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">function</span> <span class="nx">m</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">e</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">notifyWith</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">e</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">l</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="o">--</span><span class="nx">g</span><span class="o">||</span><span class="nx">j</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">b</span><span class="p">)}}</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nb">Array</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">d</span><span class="o">&lt;=</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">promise</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">promise</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">promise</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">promise</span><span class="p">)</span><span class="o">?</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">promise</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">l</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">j</span><span class="p">.</span><span class="nx">reject</span><span class="p">,</span><span class="nx">m</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span><span class="o">:--</span><span class="nx">g</span><span class="p">}</span><span class="nx">g</span><span class="o">||</span><span class="nx">j</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">j</span><span class="o">!==</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">d</span><span class="o">?</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">:</span><span class="p">[])}</span><span class="k">return</span> <span class="nx">k</span><span class="p">}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span><span class="nx">q</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;className&quot;</span><span class="p">,</span><span class="s2">&quot;t&quot;</span><span class="p">),</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;   &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href=&#39;/a&#39; style=&#39;top:1px;float:left;opacity:.55;&#39;&gt;a&lt;/a&gt;&lt;input type=&#39;checkbox&#39;/&gt;&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="o">||!</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">||!</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{}}</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;option&quot;</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">b</span><span class="o">=</span><span class="p">{</span><span class="nx">leadingWhitespace</span><span class="o">:</span><span class="nx">q</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">3</span><span class="p">,</span><span class="nx">tbody</span><span class="o">:!</span><span class="nx">q</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;tbody&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">,</span><span class="nx">htmlSerialize</span><span class="o">:!!</span><span class="nx">q</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="sr">/top/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">)),</span><span class="nx">hrefNormalized</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;/a&quot;</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:</span><span class="sr">/^0.55/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="p">),</span><span class="nx">cssFloat</span><span class="o">:!!</span><span class="nx">e</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssFloat</span><span class="p">,</span><span class="nx">checkOn</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">value</span><span class="o">===</span><span class="s2">&quot;on&quot;</span><span class="p">,</span><span class="nx">optSelected</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">selected</span><span class="p">,</span><span class="nx">getSetAttribute</span><span class="o">:</span><span class="nx">q</span><span class="p">.</span><span class="nx">className</span><span class="o">!==</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">enctype</span><span class="o">:!!</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;form&quot;</span><span class="p">).</span><span class="nx">enctype</span><span class="p">,</span><span class="nx">html5Clone</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;nav&quot;</span><span class="p">).</span><span class="nx">cloneNode</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">).</span><span class="nx">outerHTML</span><span class="o">!==</span><span class="s2">&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;</span><span class="p">,</span><span class="nx">submitBubbles</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">changeBubbles</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">focusinBubbles</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">deleteExpando</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">noCloneEvent</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">inlineBlockNeedsLayout</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">shrinkWrapBlocks</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">reliableMarginRight</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">checked</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">noCloneChecked</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">).</span><span class="nx">checked</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">disabled</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">optDisabled</span><span class="o">=!</span><span class="nx">h</span><span class="p">.</span><span class="nx">disabled</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">delete</span> <span class="nx">q</span><span class="p">.</span><span class="nx">test</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">deleteExpando</span><span class="o">=!</span><span class="mi">1</span><span class="p">}</span><span class="o">!</span><span class="nx">q</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">.</span><span class="nx">attachEvent</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">.</span><span class="nx">fireEvent</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;onclick&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">noCloneEvent</span><span class="o">=!</span><span class="mi">1</span><span class="p">}),</span><span class="nx">q</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">).</span><span class="nx">fireEvent</span><span class="p">(</span><span class="s2">&quot;onclick&quot;</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span><span class="s2">&quot;radio&quot;</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">radioValue</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">value</span><span class="o">===</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;checked&quot;</span><span class="p">,</span><span class="s2">&quot;checked&quot;</span><span class="p">),</span><span class="nx">q</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">(),</span><span class="nx">k</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">checkClone</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">).</span><span class="nx">cloneNode</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">).</span><span class="nx">lastChild</span><span class="p">.</span><span class="nx">checked</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">appendChecked</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">checked</span><span class="p">,</span><span class="nx">k</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">k</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">q</span><span class="p">),</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">j</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">marginRight</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="s2">&quot;2px&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">reliableMarginRight</span><span class="o">=</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">((</span><span class="nx">a</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="kc">null</span><span class="p">)</span><span class="o">||</span><span class="p">{</span><span class="nx">marginRight</span><span class="o">:</span><span class="mi">0</span><span class="p">}).</span><span class="nx">marginRight</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">===</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span> <span class="k">in</span> <span class="p">{</span><span class="nx">submit</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">change</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">focusin</span><span class="o">:</span><span class="mi">1</span><span class="p">}){</span><span class="nx">n</span><span class="o">=</span><span class="s2">&quot;on&quot;</span><span class="o">+</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">n</span> <span class="k">in</span> <span class="nx">q</span><span class="p">,</span><span class="nx">p</span><span class="o">||</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="s2">&quot;return;&quot;</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">q</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="p">),</span><span class="nx">b</span><span class="p">[</span><span class="nx">o</span><span class="o">+</span><span class="s2">&quot;Bubbles&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">p</span><span class="p">}}</span><span class="nx">k</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">q</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">g</span><span class="o">=</span><span class="nx">h</span><span class="o">=</span><span class="nx">j</span><span class="o">=</span><span class="nx">q</span><span class="o">=</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">f</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;body&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="o">!</span><span class="nx">r</span><span class="o">||</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="s2">&quot;position:absolute;top:0;left:0;width:1px;height:1px;margin:0;&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot;visibility:hidden;border:0;&quot;</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="s2">&quot;style=&#39;&quot;</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="s2">&quot;border:5px solid #000;padding:0;&#39;&quot;</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="s2">&quot;&lt;div &quot;</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;table &quot;</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">&quot; cellpadding=&#39;0&#39; cellspacing=&#39;0&#39;&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">m</span><span class="o">+</span><span class="s2">&quot;width:0;height:0;position:static;top:0;margin-top:&quot;</span><span class="o">+</span><span class="nx">j</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">),</span><span class="nx">q</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">q</span><span class="p">),</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&lt;table&gt;&lt;tr&gt;&lt;td style=&#39;padding:0;border:0;display:none&#39;&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;td&quot;</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">offsetHeight</span><span class="o">===</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">reliableHiddenOffsets</span><span class="o">=</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">offsetHeight</span><span class="o">===</span><span class="mi">0</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">paddingLeft</span><span class="o">=</span><span class="s2">&quot;1px&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">boxModel</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">boxModel</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="o">===</span><span class="mi">2</span><span class="p">,</span><span class="k">typeof</span> <span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;inline&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">inlineBlockNeedsLayout</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="o">===</span><span class="mi">2</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&lt;div style=&#39;width:4px;&#39;&gt;&lt;/div&gt;&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">shrinkWrapBlocks</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="o">!==</span><span class="mi">2</span><span class="p">),</span><span class="nx">q</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">k</span><span class="o">+</span><span class="nx">m</span><span class="p">,</span><span class="nx">q</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">{</span><span class="nx">doesNotAddBorder</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">!==</span><span class="mi">5</span><span class="p">,</span><span class="nx">doesAddBorderForTableAndCells</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">===</span><span class="mi">5</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">&quot;fixed&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="s2">&quot;20px&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">fixedPosition</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">===</span><span class="mi">20</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">===</span><span class="mi">15</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">&quot;relative&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">subtractsBorderForOverflowNotVisible</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">===-</span><span class="mi">5</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">doesNotIncludeMarginInBodyOffset</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">!==</span><span class="nx">j</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">q</span><span class="o">=</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">i</span><span class="p">))});</span><span class="k">return</span> <span class="nx">b</span><span class="p">}();</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="sr">/^(?:\{.*\}|\[.*\])$/</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="sr">/([A-Z])/g</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">cache</span><span class="o">:</span><span class="p">{},</span><span class="nx">uuid</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">expando</span><span class="o">:</span><span class="s2">&quot;jQuery&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">jquery</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\D/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">noData</span><span class="o">:</span><span class="p">{</span><span class="nx">embed</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">object</span><span class="o">:</span><span class="s2">&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;</span><span class="p">,</span><span class="nx">applet</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">hasData</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">cache</span><span class="p">[</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">]]</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">];</span><span class="k">return</span> <span class="o">!!</span><span class="nx">a</span><span class="o">&amp;&amp;!</span><span class="nx">m</span><span class="p">(</span><span class="nx">a</span><span class="p">)},</span><span class="nx">data</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">f</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">l</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">cache</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">l</span><span class="o">?</span><span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;events&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">((</span><span class="o">!</span><span class="nx">n</span><span class="o">||!</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">||!</span><span class="nx">o</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="o">&amp;&amp;!</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">data</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">n</span><span class="o">||</span><span class="p">(</span><span class="nx">l</span><span class="o">?</span><span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="o">=++</span><span class="nx">f</span><span class="p">.</span><span class="nx">uuid</span><span class="o">:</span><span class="nx">n</span><span class="o">=</span><span class="nx">j</span><span class="p">),</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="p">{},</span><span class="nx">l</span><span class="o">||</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">toJSON</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">noop</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="p">){</span><span class="nx">e</span><span class="o">?</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">data</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">data</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="nx">g</span><span class="o">=</span><span class="nx">h</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="nx">e</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">data</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="p">{}),</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">data</span><span class="p">),</span><span class="nx">d</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">c</span><span class="p">)]</span><span class="o">=</span><span class="nx">d</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="o">&amp;&amp;!</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]){</span><span class="k">return</span> <span class="nx">g</span><span class="p">.</span><span class="nx">events</span><span class="p">}</span><span class="nx">k</span><span class="o">?</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">i</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">c</span><span class="p">)]))</span><span class="o">:</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">;</span><span class="k">return</span> <span class="nx">i</span><span class="p">}},</span><span class="nx">removeData</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">f</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">cache</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">i</span><span class="o">?</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">:</span><span class="nx">h</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">]){</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="o">?</span><span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">:</span><span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">data</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">d</span><span class="o">?</span><span class="nx">b</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">d</span><span class="o">?</span><span class="nx">b</span><span class="o">=</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)));</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="k">delete</span> <span class="nx">d</span><span class="p">[</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]]}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">c</span><span class="o">?</span><span class="nx">m</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">)(</span><span class="nx">d</span><span class="p">)){</span><span class="k">return</span><span class="p">}}}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">){</span><span class="k">delete</span> <span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">data</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">m</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">])){</span><span class="k">return</span><span class="p">}}</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">deleteExpando</span><span class="o">||!</span><span class="nx">j</span><span class="p">.</span><span class="nx">setInterval</span><span class="o">?</span><span class="k">delete</span> <span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">:</span><span class="nx">j</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">deleteExpando</span><span class="o">?</span><span class="k">delete</span> <span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="kc">null</span><span class="p">)}},</span><span class="nx">_data</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">acceptData</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">noData</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()];</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;classid&quot;</span><span class="p">)</span><span class="o">===</span><span class="nx">b</span><span class="p">}}</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">&quot;parsedAttrs&quot;</span><span class="p">)){</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">attributes</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;data-&quot;</span><span class="p">)</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">)),</span><span class="nx">l</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">[</span><span class="nx">g</span><span class="p">]))}</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">&quot;parsedAttrs&quot;</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}}</span><span class="k">return</span> <span class="nx">h</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)})}</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">triggerHandler</span><span class="p">(</span><span class="s2">&quot;getData&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;!&quot;</span><span class="p">,[</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]]),</span><span class="nx">h</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">a</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">a</span><span class="p">,</span><span class="nx">h</span><span class="p">));</span><span class="k">return</span> <span class="nx">h</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="nx">h</span><span class="p">}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="p">[</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">c</span><span class="p">];</span><span class="nx">b</span><span class="p">.</span><span class="nx">triggerHandler</span><span class="p">(</span><span class="s2">&quot;setData&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;!&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">triggerHandler</span><span class="p">(</span><span class="s2">&quot;changeData&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;!&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">)})},</span><span class="nx">removeData</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)})}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">_mark</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="p">(</span><span class="nx">b</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,(</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))},</span><span class="nx">_unmark</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=!</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="o">+</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">||</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">e</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">n</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;mark&quot;</span><span class="p">))}},</span><span class="nx">queue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="p">(</span><span class="nx">b</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;queue&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">));</span><span class="k">return</span> <span class="nx">d</span><span class="o">||</span><span class="p">[]}},</span><span class="nx">dequeue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="p">{};</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;inprogress&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">shift</span><span class="p">()),</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;fx&quot;</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="s2">&quot;inprogress&quot;</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;.run&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">e</span><span class="p">)),</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;queue &quot;</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;.run&quot;</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">n</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;queue&quot;</span><span class="p">))}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">queue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="s2">&quot;fx&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">a</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="nx">a</span><span class="o">===</span><span class="s2">&quot;fx&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!==</span><span class="s2">&quot;inprogress&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)})},</span><span class="nx">dequeue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)})},</span><span class="nx">delay</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">stop</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">d</span><span class="p">)}})},</span><span class="nx">clearQueue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">,[])},</span><span class="nx">promise</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">function</span> <span class="nx">m</span><span class="p">(){</span><span class="o">--</span><span class="nx">h</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span><span class="nx">e</span><span class="p">,[</span><span class="nx">e</span><span class="p">])}</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;defer&quot;</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;queue&quot;</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="o">--</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">i</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">j</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">k</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">i</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="p">)){</span><span class="nx">h</span><span class="o">++</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">m</span><span class="p">)}}</span><span class="nx">m</span><span class="p">();</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">promise</span><span class="p">()}});</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="sr">/[\n\t\r]/g</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="sr">/\s+/</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="sr">/\r/g</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="sr">/^(?:button|input)$/i</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="sr">/^(?:button|input|object|select|textarea)$/i</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="sr">/^a(?:rea)?$/i</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="sr">/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">getSetAttribute</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">attr</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">attr</span><span class="p">)},</span><span class="nx">removeAttr</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)})},</span><span class="nx">prop</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">prop</span><span class="p">)},</span><span class="nx">removeProp</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">try</span><span class="p">{</span><span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="k">delete</span> <span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="p">]}</span><span class="k">catch</span><span class="p">(</span><span class="nx">c</span><span class="p">){}})},</span><span class="nx">addClass</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">))})}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">className</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">a</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">className</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="o">~</span><span class="nx">g</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="nx">b</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">)}</span><span class="nx">e</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">g</span><span class="p">)}}}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">removeClass</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">))})}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">||</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">className</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">g</span><span class="p">.</span><span class="nx">className</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">)}</span><span class="nx">g</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">h</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">g</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">}}}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">toggleClass</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;boolean&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">b</span><span class="p">)})}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">g</span><span class="o">++</span><span class="p">]){</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="nx">i</span><span class="o">:!</span><span class="nx">h</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">h</span><span class="p">[</span><span class="nx">i</span><span class="o">?</span><span class="s2">&quot;addClass&quot;</span><span class="o">:</span><span class="s2">&quot;removeClass&quot;</span><span class="p">](</span><span class="nx">e</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;undefined&quot;</span><span class="o">||</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;boolean&quot;</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;__className__&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span><span class="o">||</span><span class="nx">a</span><span class="o">===!</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;__className__&quot;</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">}}})},</span><span class="nx">hasClass</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">className</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}}</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="nx">val</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">h</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">e</span><span class="o">?</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">val</span><span class="p">())</span><span class="o">:</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">h</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">h</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">h</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">?</span><span class="nx">h</span><span class="o">+=</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">})),</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="o">||!</span><span class="p">(</span><span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">c</span><span class="p">)</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">)</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">h</span><span class="p">}}})}</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="nx">g</span><span class="p">.</span><span class="nx">type</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="p">))</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="p">}</span><span class="nx">d</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">d</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">valHooks</span><span class="o">:</span><span class="p">{</span><span class="nx">option</span><span class="o">:</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="k">return</span> <span class="o">!</span><span class="nx">b</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">specified</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">text</span><span class="p">}},</span><span class="nx">select</span><span class="o">:</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="p">[],</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">===</span><span class="s2">&quot;select-one&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="nx">c</span><span class="o">=</span><span class="nx">j</span><span class="o">?</span><span class="nx">g</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">j</span><span class="o">?</span><span class="nx">g</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">selected</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">optDisabled</span><span class="o">?!</span><span class="nx">e</span><span class="p">.</span><span class="nx">disabled</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span><span class="o">===</span><span class="kc">null</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">disabled</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="s2">&quot;optgroup&quot;</span><span class="p">))){</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="nx">h</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">b</span><span class="p">)}}</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="o">&amp;&amp;!</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">g</span><span class="p">]).</span><span class="nx">val</span><span class="p">()}</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;option&quot;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">selected</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span><span class="nx">c</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">}),</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="o">=-</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="p">}}},</span><span class="nx">attrFn</span><span class="o">:</span><span class="p">{</span><span class="nx">val</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">css</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">html</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">text</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">data</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">width</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">height</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">offset</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">attr</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="o">!==</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="o">!==</span><span class="mi">8</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="o">!==</span><span class="mi">2</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">f</span><span class="p">.</span><span class="nx">attrFn</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">)[</span><span class="nx">c</span><span class="p">](</span><span class="nx">d</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="nx">i</span><span class="o">=</span><span class="nx">j</span><span class="o">!==</span><span class="mi">1</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">?</span><span class="nx">x</span><span class="o">:</span><span class="nx">w</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">))</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">g</span><span class="p">}</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="o">+</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">))</span><span class="o">!==</span><span class="kc">null</span><span class="p">){</span><span class="k">return</span> <span class="nx">g</span><span class="p">}</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="o">===</span><span class="kc">null</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="nx">g</span><span class="p">}},</span><span class="nx">removeAttr</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="nx">p</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">||</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="nx">v</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">c</span><span class="p">),</span><span class="nx">u</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">c</span> <span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=!</span><span class="mi">1</span><span class="p">))}}},</span><span class="nx">attrHooks</span><span class="o">:</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="p">{</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;type property can&#39;t be changed&quot;</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">radioValue</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;radio&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;input&quot;</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">}}}},</span><span class="nx">value</span><span class="o">:</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">w</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;button&quot;</span><span class="p">)){</span><span class="k">return</span> <span class="nx">w</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="k">return</span> <span class="nx">b</span> <span class="k">in</span> <span class="nx">a</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">w</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;button&quot;</span><span class="p">)){</span><span class="k">return</span> <span class="nx">w</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">b</span><span class="p">}}},</span><span class="nx">propFix</span><span class="o">:</span><span class="p">{</span><span class="nx">tabindex</span><span class="o">:</span><span class="s2">&quot;tabIndex&quot;</span><span class="p">,</span><span class="nx">readonly</span><span class="o">:</span><span class="s2">&quot;readOnly&quot;</span><span class="p">,</span><span class="s2">&quot;for&quot;</span><span class="o">:</span><span class="s2">&quot;htmlFor&quot;</span><span class="p">,</span><span class="s2">&quot;class&quot;</span><span class="o">:</span><span class="s2">&quot;className&quot;</span><span class="p">,</span><span class="nx">maxlength</span><span class="o">:</span><span class="s2">&quot;maxLength&quot;</span><span class="p">,</span><span class="nx">cellspacing</span><span class="o">:</span><span class="s2">&quot;cellSpacing&quot;</span><span class="p">,</span><span class="nx">cellpadding</span><span class="o">:</span><span class="s2">&quot;cellPadding&quot;</span><span class="p">,</span><span class="nx">rowspan</span><span class="o">:</span><span class="s2">&quot;rowSpan&quot;</span><span class="p">,</span><span class="nx">colspan</span><span class="o">:</span><span class="s2">&quot;colSpan&quot;</span><span class="p">,</span><span class="nx">usemap</span><span class="o">:</span><span class="s2">&quot;useMap&quot;</span><span class="p">,</span><span class="nx">frameborder</span><span class="o">:</span><span class="s2">&quot;frameBorder&quot;</span><span class="p">,</span><span class="nx">contenteditable</span><span class="o">:</span><span class="s2">&quot;contentEditable&quot;</span><span class="p">},</span><span class="nx">prop</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">!==</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">!==</span><span class="mi">8</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">!==</span><span class="mi">2</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="o">!==</span><span class="mi">1</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="nx">c</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">[</span><span class="nx">c</span><span class="p">]);</span><span class="k">return</span> <span class="nx">d</span><span class="o">!==</span><span class="nx">b</span><span class="o">?</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">))</span><span class="o">!==</span><span class="nx">b</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="o">:</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">))</span><span class="o">!==</span><span class="kc">null</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]}},</span><span class="nx">propHooks</span><span class="o">:</span><span class="p">{</span><span class="nx">tabIndex</span><span class="o">:</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s2">&quot;tabindex&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">specified</span><span class="o">?</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">href</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">b</span><span class="p">}}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">.</span><span class="nx">tabindex</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">tabIndex</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">===!</span><span class="mi">0</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">!=</span><span class="s2">&quot;boolean&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">!==!</span><span class="mi">1</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">:</span><span class="nx">b</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">;</span><span class="nx">b</span><span class="o">===!</span><span class="mi">1</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">propFix</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span> <span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()));</span><span class="k">return</span> <span class="nx">c</span><span class="p">}},</span><span class="nx">v</span><span class="o">||</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="p">{</span><span class="nx">name</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">id</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">w</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">.</span><span class="nx">button</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">;</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">y</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">!==</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">specified</span><span class="p">)</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">:</span><span class="nx">b</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="nx">e</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createAttribute</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttributeNode</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">=</span><span class="nx">b</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">}},</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">.</span><span class="nx">tabindex</span><span class="p">.</span><span class="nx">set</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">set</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="s2">&quot;height&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span><span class="nx">b</span><span class="p">],{</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;auto&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="p">}}})}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">.</span><span class="nx">contenteditable</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="nx">w</span><span class="p">.</span><span class="nx">get</span><span class="p">,</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="s2">&quot;false&quot;</span><span class="p">),</span><span class="nx">w</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">hrefNormalized</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;href&quot;</span><span class="p">,</span><span class="s2">&quot;src&quot;</span><span class="p">,</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="s2">&quot;height&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">[</span><span class="nx">c</span><span class="p">],{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="o">===</span><span class="kc">null</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="nx">d</span><span class="p">}})}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">style</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrHooks</span><span class="p">.</span><span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">||</span><span class="nx">b</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">optSelected</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">selected</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">propHooks</span><span class="p">.</span><span class="nx">selected</span><span class="p">,{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">);</span><span class="k">return</span> <span class="kc">null</span><span class="p">}})),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">enctype</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">propFix</span><span class="p">.</span><span class="nx">enctype</span><span class="o">=</span><span class="s2">&quot;encoding&quot;</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">checkOn</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;radio&quot;</span><span class="p">,</span><span class="s2">&quot;checkbox&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="k">this</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span><span class="o">===</span><span class="kc">null</span><span class="o">?</span><span class="s2">&quot;on&quot;</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;radio&quot;</span><span class="p">,</span><span class="s2">&quot;checkbox&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="k">this</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">valHooks</span><span class="p">[</span><span class="k">this</span><span class="p">],{</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">checked</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span><span class="nx">b</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">}}})});</span><span class="kd">var</span> <span class="nx">z</span><span class="o">=</span><span class="sr">/^(?:textarea|input|select)$/i</span><span class="p">,</span><span class="nx">A</span><span class="o">=</span><span class="sr">/^([^\.]*)?(?:\.(.+))?$/</span><span class="p">,</span><span class="nx">B</span><span class="o">=</span><span class="sr">/\bhover(\.\S+)?\b/</span><span class="p">,</span><span class="nx">C</span><span class="o">=</span><span class="sr">/^key/</span><span class="p">,</span><span class="nx">D</span><span class="o">=</span><span class="sr">/^(?:mouse|contextmenu)|click/</span><span class="p">,</span><span class="nx">E</span><span class="o">=</span><span class="sr">/^(?:focusinfocus|focusoutblur)$/</span><span class="p">,</span><span class="nx">F</span><span class="o">=</span><span class="sr">/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/</span><span class="p">,</span><span class="nx">G</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(?:^|\\s)&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;(?:\\s|$)&quot;</span><span class="p">));</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">H</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attributes</span><span class="o">||</span><span class="p">{};</span><span class="k">return</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">id</span><span class="o">||</span><span class="p">{}).</span><span class="nx">value</span><span class="o">===</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">||</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">test</span><span class="p">((</span><span class="nx">c</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span><span class="o">||</span><span class="p">{}).</span><span class="nx">value</span><span class="p">))},</span><span class="nx">I</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">hover</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">B</span><span class="p">,</span><span class="s2">&quot;mouseenter$1 mouseleave$1&quot;</span><span class="p">)};</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="o">=</span><span class="p">{</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">3</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">8</span><span class="o">||!</span><span class="nx">c</span><span class="o">||!</span><span class="nx">d</span><span class="o">||!</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">)))){</span><span class="nx">d</span><span class="p">.</span><span class="nx">handler</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">handler</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">guid</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">events</span><span class="p">,</span><span class="nx">j</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="nx">j</span><span class="o">=</span><span class="p">{}),</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">handle</span><span class="p">,</span><span class="nx">i</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">handle</span><span class="o">=</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">f</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">elem</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">I</span><span class="p">(</span><span class="nx">c</span><span class="p">)).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">l</span><span class="o">=</span><span class="nx">A</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">k</span><span class="p">])</span><span class="o">||</span><span class="p">[],</span><span class="nx">m</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">).</span><span class="nx">sort</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">m</span><span class="o">=</span><span class="p">(</span><span class="nx">g</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">delegateType</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">bindType</span><span class="p">)</span><span class="o">||</span><span class="nx">m</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">o</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span><span class="nx">m</span><span class="p">,</span><span class="nx">origType</span><span class="o">:</span><span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">data</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">handler</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">guid</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">guid</span><span class="p">,</span><span class="nx">selector</span><span class="o">:</span><span class="nx">g</span><span class="p">,</span><span class="nx">quick</span><span class="o">:</span><span class="nx">G</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">namespace</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)},</span><span class="nx">p</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">m</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">r</span><span class="p">.</span><span class="nx">delegateCount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">setup</span><span class="o">||</span><span class="nx">s</span><span class="p">.</span><span class="nx">setup</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">attachEvent</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="o">+</span><span class="nx">m</span><span class="p">,</span><span class="nx">i</span><span class="p">)}}</span><span class="nx">s</span><span class="p">.</span><span class="nx">add</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span><span class="o">||</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">guid</span><span class="p">)),</span><span class="nx">g</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">delegateCount</span><span class="o">++</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">)</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">global</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">}},</span><span class="nx">global</span><span class="o">:</span><span class="p">{},</span><span class="nx">remove</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">hasData</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">g</span><span class="o">&amp;&amp;!!</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">events</span><span class="p">)){</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">I</span><span class="p">(</span><span class="nx">b</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">)).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">A</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">h</span><span class="p">])</span><span class="o">||</span><span class="p">[],</span><span class="nx">j</span><span class="o">=</span><span class="nx">k</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">j</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span> <span class="k">in</span> <span class="nx">o</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">j</span><span class="o">+</span><span class="nx">b</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}</span><span class="k">continue</span><span class="p">}</span><span class="nx">p</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">j</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="o">?</span><span class="nx">p</span><span class="p">.</span><span class="nx">delegateType</span><span class="o">:</span><span class="nx">p</span><span class="p">.</span><span class="nx">bindType</span><span class="p">)</span><span class="o">||</span><span class="nx">j</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">||</span><span class="p">[],</span><span class="nx">m</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">l</span><span class="o">?</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(^|\\.)&quot;</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">).</span><span class="nx">sort</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\\.(?:.*\\.)?&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;(\\.|$)&quot;</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">){</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">n</span><span class="p">],(</span><span class="nx">e</span><span class="o">||</span><span class="nx">k</span><span class="o">===</span><span class="nx">s</span><span class="p">.</span><span class="nx">origType</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">guid</span><span class="o">===</span><span class="nx">s</span><span class="p">.</span><span class="nx">guid</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">l</span><span class="o">||</span><span class="nx">l</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">namespace</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="nx">s</span><span class="p">.</span><span class="nx">selector</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;**&quot;</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">selector</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">n</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">selector</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">delegateCount</span><span class="o">--</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">remove</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">))}</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">!==</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">((</span><span class="o">!</span><span class="nx">p</span><span class="p">.</span><span class="nx">teardown</span><span class="o">||</span><span class="nx">p</span><span class="p">.</span><span class="nx">teardown</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">l</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeEvent</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">handle</span><span class="p">),</span><span class="k">delete</span> <span class="nx">o</span><span class="p">[</span><span class="nx">j</span><span class="p">])}</span><span class="nx">f</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">handle</span><span class="p">,</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="p">.</span><span class="nx">elem</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">a</span><span class="p">,[</span><span class="s2">&quot;events&quot;</span><span class="p">,</span><span class="s2">&quot;handle&quot;</span><span class="p">],</span><span class="o">!</span><span class="mi">0</span><span class="p">))}},</span><span class="nx">customEvent</span><span class="o">:</span><span class="p">{</span><span class="nx">getData</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">setData</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">changeData</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">trigger</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">8</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="nx">c</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">[],</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">h</span><span class="o">+</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span><span class="p">)){</span><span class="k">return</span><span class="p">}</span><span class="nx">h</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nx">k</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">sort</span><span class="p">());</span><span class="k">if</span><span class="p">((</span><span class="o">!</span><span class="nx">e</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">customEvent</span><span class="p">[</span><span class="nx">h</span><span class="p">])</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">global</span><span class="p">[</span><span class="nx">h</span><span class="p">]){</span><span class="k">return</span><span class="p">}</span><span class="nx">c</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">?</span><span class="nx">c</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">]</span><span class="o">?</span><span class="nx">c</span><span class="o">:</span><span class="k">new</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="k">new</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">isTrigger</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">exclusive</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace_re</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace</span><span class="o">?</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;(^|\\.)&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\\.(?:.*\\.)?&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;(\\.|$)&quot;</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="s2">&quot;on&quot;</span><span class="o">+</span><span class="nx">h</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">cache</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span> <span class="k">in</span> <span class="nx">j</span><span class="p">){</span><span class="nx">j</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">events</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">events</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">j</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">handle</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}</span><span class="k">return</span><span class="p">}</span><span class="nx">c</span><span class="p">.</span><span class="nx">result</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">target</span><span class="o">||</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="nx">e</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">:</span><span class="p">[],</span><span class="nx">d</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">||</span><span class="p">{};</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">trigger</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">trigger</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">r</span><span class="o">=</span><span class="p">[[</span><span class="nx">e</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">bindType</span><span class="o">||</span><span class="nx">h</span><span class="p">]];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">g</span><span class="o">&amp;&amp;!</span><span class="nx">p</span><span class="p">.</span><span class="nx">noBubble</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="nx">s</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">delegateType</span><span class="o">||</span><span class="nx">h</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">E</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">s</span><span class="o">+</span><span class="nx">h</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">m</span><span class="p">;</span><span class="nx">m</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">){</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">m</span><span class="p">,</span><span class="nx">s</span><span class="p">]),</span><span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="p">}</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaultView</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">parentWindow</span><span class="o">||</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">])}</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">isPropagationStopped</span><span class="p">();</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">l</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">l</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">q</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="s2">&quot;events&quot;</span><span class="p">)</span><span class="o">||</span><span class="p">{})[</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="s2">&quot;handle&quot;</span><span class="p">),</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">q</span><span class="o">=</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()}</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="nx">g</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">isDefaultPrevented</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">p</span><span class="p">.</span><span class="nx">_default</span><span class="o">||</span><span class="nx">p</span><span class="p">.</span><span class="nx">_default</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">!==</span><span class="s2">&quot;click&quot;</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">acceptData</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">!==</span><span class="s2">&quot;focus&quot;</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="o">!==</span><span class="s2">&quot;blur&quot;</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="o">!==</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">](),</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">triggered</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">));</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">result</span><span class="p">}},</span><span class="nx">dispatch</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fix</span><span class="p">(</span><span class="nx">c</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">event</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;events&quot;</span><span class="p">)</span><span class="o">||</span><span class="p">{})[</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="p">]</span><span class="o">||</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">delegateCount</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">h</span><span class="o">=!</span><span class="nx">c</span><span class="p">.</span><span class="nx">exclusive</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">[],</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">;</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">delegateTarget</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">disabled</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">button</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="o">!==</span><span class="s2">&quot;click&quot;</span><span class="p">)){</span><span class="nx">m</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="k">this</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span><span class="nx">l</span><span class="o">!=</span><span class="k">this</span><span class="p">;</span><span class="nx">l</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">||</span><span class="k">this</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="p">{},</span><span class="nx">q</span><span class="o">=</span><span class="p">[],</span><span class="nx">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">j</span><span class="o">++</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span><span class="nx">o</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">quick</span><span class="o">?</span><span class="nx">H</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">quick</span><span class="p">)</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">s</span><span class="p">)),</span><span class="nx">o</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">r</span><span class="p">)}</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">elem</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">matches</span><span class="o">:</span><span class="nx">q</span><span class="p">})}}</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">elem</span><span class="o">:</span><span class="k">this</span><span class="p">,</span><span class="nx">matches</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">e</span><span class="p">)});</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">j</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">isPropagationStopped</span><span class="p">();</span><span class="nx">j</span><span class="o">++</span><span class="p">){</span><span class="nx">p</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span><span class="nx">c</span><span class="p">.</span><span class="nx">currentTarget</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">elem</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">p</span><span class="p">.</span><span class="nx">matches</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">isImmediatePropagationStopped</span><span class="p">();</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">matches</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">||!</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace</span><span class="o">&amp;&amp;!</span><span class="nx">r</span><span class="p">.</span><span class="nx">namespace</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace_re</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">namespace_re</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">namespace</span><span class="p">)){</span><span class="nx">c</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">handleObj</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">((</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">origType</span><span class="p">]</span><span class="o">||</span><span class="p">{}).</span><span class="nx">handle</span><span class="o">||</span><span class="nx">r</span><span class="p">.</span><span class="nx">handler</span><span class="p">).</span><span class="nx">apply</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="nx">g</span><span class="p">),</span><span class="nx">n</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">result</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()))}}}</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">result</span><span class="p">},</span><span class="nx">props</span><span class="o">:</span><span class="s2">&quot;attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="nx">fixHooks</span><span class="o">:</span><span class="p">{},</span><span class="nx">keyHooks</span><span class="o">:</span><span class="p">{</span><span class="nx">props</span><span class="o">:</span><span class="s2">&quot;char charCode key keyCode&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="nx">filter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">which</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">which</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">charCode</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">charCode</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">}},</span><span class="nx">mouseHooks</span><span class="o">:</span><span class="p">{</span><span class="nx">props</span><span class="o">:</span><span class="s2">&quot;button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="nx">filter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">button</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">fromElement</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageX</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientX</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageX</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientX</span><span class="o">+</span><span class="p">(</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">||</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageY</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">clientY</span><span class="o">+</span><span class="p">(</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">||</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">||</span><span class="mi">0</span><span class="p">)),</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">relatedTarget</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">relatedTarget</span><span class="o">=</span><span class="nx">i</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">toElement</span><span class="o">:</span><span class="nx">i</span><span class="p">),</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">which</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">which</span><span class="o">=</span><span class="nx">h</span><span class="o">&amp;</span><span class="mi">1</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="nx">h</span><span class="o">&amp;</span><span class="mi">2</span><span class="o">?</span><span class="mi">3</span><span class="o">:</span><span class="nx">h</span><span class="o">&amp;</span><span class="mi">4</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">}},</span><span class="nx">fix</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">]){</span><span class="k">return</span> <span class="nx">a</span><span class="p">}</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fixHooks</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">]</span><span class="o">||</span><span class="p">{},</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">props</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">props</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="p">;){</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="o">--</span><span class="nx">d</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">e</span><span class="p">]}</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">srcElement</span><span class="o">||</span><span class="nx">c</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">metaKey</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">metaKey</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="p">);</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">filter</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">},</span><span class="nx">special</span><span class="o">:</span><span class="p">{</span><span class="nx">ready</span><span class="o">:</span><span class="p">{</span><span class="nx">setup</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">bindReady</span><span class="p">},</span><span class="nx">load</span><span class="o">:</span><span class="p">{</span><span class="nx">noBubble</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">focus</span><span class="o">:</span><span class="p">{</span><span class="nx">delegateType</span><span class="o">:</span><span class="s2">&quot;focusin&quot;</span><span class="p">},</span><span class="nx">blur</span><span class="o">:</span><span class="p">{</span><span class="nx">delegateType</span><span class="o">:</span><span class="s2">&quot;focusout&quot;</span><span class="p">},</span><span class="nx">beforeunload</span><span class="o">:</span><span class="p">{</span><span class="nx">setup</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">onbeforeunload</span><span class="o">=</span><span class="nx">c</span><span class="p">)},</span><span class="nx">teardown</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">onbeforeunload</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">onbeforeunload</span><span class="o">=</span><span class="kc">null</span><span class="p">)}}},</span><span class="nx">simulate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">new</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">,</span><span class="nx">c</span><span class="p">,{</span><span class="nx">type</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">isSimulated</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">originalEvent</span><span class="o">:</span><span class="p">{}});</span><span class="nx">d</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">isDefaultPrevented</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()}},</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">handle</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeEvent</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="o">?</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)}</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">detachEvent</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">)){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isDefaultPrevented</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">defaultPrevented</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">returnValue</span><span class="o">===!</span><span class="mi">1</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">getPreventDefault</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getPreventDefault</span><span class="p">()</span><span class="o">?</span><span class="nx">K</span><span class="o">:</span><span class="nx">J</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">timeStamp</span><span class="o">=</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">timeStamp</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span><span class="k">this</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="nx">f</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">preventDefault</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">isDefaultPrevented</span><span class="o">=</span><span class="nx">K</span><span class="p">;</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">;</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">returnValue</span><span class="o">=!</span><span class="mi">1</span><span class="p">)},</span><span class="nx">stopPropagation</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">isPropagationStopped</span><span class="o">=</span><span class="nx">K</span><span class="p">;</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">;</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">a</span><span class="p">.</span><span class="nx">cancelBubble</span><span class="o">=!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">stopImmediatePropagation</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">isImmediatePropagationStopped</span><span class="o">=</span><span class="nx">K</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()},</span><span class="nx">isDefaultPrevented</span><span class="o">:</span><span class="nx">J</span><span class="p">,</span><span class="nx">isPropagationStopped</span><span class="o">:</span><span class="nx">J</span><span class="p">,</span><span class="nx">isImmediatePropagationStopped</span><span class="o">:</span><span class="nx">J</span><span class="p">},</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="nx">mouseenter</span><span class="o">:</span><span class="s2">&quot;mouseover&quot;</span><span class="p">,</span><span class="nx">mouseleave</span><span class="o">:</span><span class="s2">&quot;mouseout&quot;</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">delegateType</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">bindType</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">handle</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">relatedTarget</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span><span class="nx">h</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="o">||</span><span class="nx">d</span><span class="o">!==</span><span class="nx">c</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)){</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">origType</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">b</span><span class="p">}</span><span class="k">return</span> <span class="nx">h</span><span class="p">}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">submitBubbles</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">submit</span><span class="o">=</span><span class="p">{</span><span class="nx">setup</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;form&quot;</span><span class="p">)){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;click._submit keypress._submit&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;input&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;button&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">form</span><span class="o">:</span><span class="nx">b</span><span class="p">;</span><span class="nx">d</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">.</span><span class="nx">_submit_attached</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;submit._submit&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">isTrigger</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span><span class="s2">&quot;submit&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_submit_attached</span><span class="o">=!</span><span class="mi">0</span><span class="p">)})},</span><span class="nx">teardown</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;form&quot;</span><span class="p">)){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;._submit&quot;</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">changeBubbles</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">change</span><span class="o">=</span><span class="p">{</span><span class="nx">setup</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">===</span><span class="s2">&quot;checkbox&quot;</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">===</span><span class="s2">&quot;radio&quot;</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;propertychange._change&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">.</span><span class="nx">propertyName</span><span class="o">===</span><span class="s2">&quot;checked&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_just_changed</span><span class="o">=!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;click._change&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">_just_changed</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">isTrigger</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_just_changed</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">))})}</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;beforeactivate._change&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span><span class="nx">z</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">b</span><span class="p">.</span><span class="nx">_change_attached</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="s2">&quot;change._change&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">isSimulated</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">isTrigger</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span><span class="s2">&quot;change&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">b</span><span class="p">.</span><span class="nx">_change_attached</span><span class="o">=!</span><span class="mi">0</span><span class="p">)})},</span><span class="nx">handle</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="o">!==</span><span class="nx">b</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">isSimulated</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">isTrigger</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">type</span><span class="o">!==</span><span class="s2">&quot;radio&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">type</span><span class="o">!==</span><span class="s2">&quot;checkbox&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">.</span><span class="nx">handler</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}},</span><span class="nx">teardown</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;._change&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">z</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">focusinBubbles</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="nx">focus</span><span class="o">:</span><span class="s2">&quot;focusin&quot;</span><span class="p">,</span><span class="nx">blur</span><span class="o">:</span><span class="s2">&quot;focusout&quot;</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">simulate</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fix</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="p">)};</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">setup</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">d</span><span class="o">++===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">teardown</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="o">--</span><span class="nx">d</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">on</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">g</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">J</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">}}</span><span class="nx">g</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">().</span><span class="nx">off</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)},</span><span class="nx">e</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">guid</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">));</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">)})},</span><span class="nx">one</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">off</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">preventDefault</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">handleObj</span><span class="p">;</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">delegateTarget</span><span class="p">).</span><span class="nx">off</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">namespace</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">namespace</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">handler</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">g</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">])}</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===!</span><span class="mi">1</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">}</span><span class="nx">d</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">J</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">)})},</span><span class="nx">bind</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">unbind</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">live</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">die</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">).</span><span class="nx">off</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">||</span><span class="s2">&quot;**&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">delegate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="nx">undelegate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;**&quot;</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">trigger</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">)})},</span><span class="nx">triggerHandler</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">!</span><span class="mi">0</span><span class="p">)}},</span><span class="nx">toggle</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">guid</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;lastToggle&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">guid</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">%</span><span class="nx">d</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;lastToggle&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">guid</span><span class="p">,</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="k">return</span> <span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)</span><span class="o">||!</span><span class="mi">1</span><span class="p">};</span><span class="nx">e</span><span class="p">.</span><span class="nx">guid</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">d</span><span class="o">++</span><span class="p">].</span><span class="nx">guid</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">hover</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mouseenter</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">mouseleave</span><span class="p">(</span><span class="nx">b</span><span class="o">||</span><span class="nx">a</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="s2">&quot;blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">);</span><span class="k">return</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">b</span><span class="p">)},</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrFn</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">attrFn</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">C</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fixHooks</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">keyHooks</span><span class="p">),</span><span class="nx">D</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fixHooks</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">mouseHooks</span><span class="p">)}),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">x</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">===</span><span class="nx">c</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">j</span><span class="p">.</span><span class="nx">sizset</span><span class="p">];</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">g</span><span class="o">||</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">sizset</span><span class="o">=</span><span class="nx">h</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">k</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">,[</span><span class="nx">j</span><span class="p">]).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="p">;</span><span class="k">break</span><span class="p">}}}</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">a</span><span class="p">]}</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">k</span><span class="p">}}}</span><span class="kd">function</span> <span class="nx">w</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">===</span><span class="nx">c</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">j</span><span class="p">.</span><span class="nx">sizset</span><span class="p">];</span><span class="k">break</span><span class="p">}</span><span class="nx">j</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">j</span><span class="p">.</span><span class="nx">sizset</span><span class="o">=</span><span class="nx">h</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">[</span><span class="nx">a</span><span class="p">]}</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">k</span><span class="p">}}}</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="sr">/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|[&#39;&quot;][^&#39;&quot;]*[&#39;&quot;]|[^\[\]&#39;&quot;]+)+\]|\\.|[^ &gt;+~,(\[\\]+)+|[&gt;+~])(\s*,\s*)?((?:.|\r|\n)*)/g</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="s2">&quot;sizcache&quot;</span><span class="o">+</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span><span class="nx">h</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="sr">/\\/g</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="sr">/\r\n/g</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="sr">/\W/</span><span class="p">;[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="mi">0</span><span class="p">});</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="nx">c</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">9</span><span class="p">){</span><span class="k">return</span><span class="p">[]}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">u</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">isXML</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">w</span><span class="o">=</span><span class="p">[],</span><span class="nx">x</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="k">do</span><span class="p">{</span><span class="nx">a</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="nx">x</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">w</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="mi">2</span><span class="p">]){</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="k">break</span><span class="p">}}}</span><span class="k">while</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span><span class="nx">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]]){</span><span class="nx">j</span><span class="o">=</span><span class="nx">y</span><span class="p">(</span><span class="nx">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="nx">w</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">j</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span><span class="nx">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">?</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">:</span><span class="nx">m</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">d</span><span class="p">);</span><span class="k">while</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">o</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">+=</span><span class="nx">w</span><span class="p">.</span><span class="nx">shift</span><span class="p">()),</span><span class="nx">j</span><span class="o">=</span><span class="nx">y</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">f</span><span class="p">)}}}</span><span class="k">else</span><span class="p">{</span><span class="o">!</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">9</span><span class="o">&amp;&amp;!</span><span class="nx">v</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">ID</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">w</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;&amp;!</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">ID</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">w</span><span class="p">[</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">d</span><span class="p">,</span><span class="nx">v</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">expr</span><span class="o">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">expr</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">set</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">set</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">n</span><span class="o">=</span><span class="nx">f</span><span class="o">?</span><span class="p">{</span><span class="nx">expr</span><span class="o">:</span><span class="nx">w</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">set</span><span class="o">:</span><span class="nx">s</span><span class="p">(</span><span class="nx">f</span><span class="p">)}</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;~&quot;</span><span class="o">||</span><span class="nx">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;+&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">v</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">expr</span><span class="o">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">expr</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">set</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">set</span><span class="p">,</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">k</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span><span class="o">:</span><span class="nx">u</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">q</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">r</span><span class="o">=</span><span class="nx">q</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span><span class="nx">q</span><span class="p">]</span><span class="o">?</span><span class="nx">r</span><span class="o">=</span><span class="nx">w</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span><span class="o">:</span><span class="nx">q</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">r</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">d</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span><span class="nx">q</span><span class="p">](</span><span class="nx">k</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">v</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="nx">k</span><span class="o">=</span><span class="nx">w</span><span class="o">=</span><span class="p">[]}}</span><span class="nx">k</span><span class="o">||</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="p">),</span><span class="nx">k</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">q</span><span class="o">||</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;[object Array]&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">u</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">k</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">){</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">===!</span><span class="mi">0</span><span class="o">||</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">]))</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">t</span><span class="p">])}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">){</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">j</span><span class="p">[</span><span class="nx">t</span><span class="p">])}}}}</span><span class="k">else</span><span class="p">{</span><span class="nx">s</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">e</span><span class="p">)}</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">uniqueSort</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span><span class="k">return</span> <span class="nx">e</span><span class="p">};</span><span class="nx">m</span><span class="p">.</span><span class="nx">uniqueSort</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">u</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">===</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">)}}}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">m</span><span class="p">.</span><span class="nx">matches</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">m</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">m</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">m</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="p">,[</span><span class="nx">a</span><span class="p">]).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">},</span><span class="nx">m</span><span class="p">.</span><span class="nx">find</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="p">[]}</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">order</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">order</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">leftMatch</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">g</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;\\&quot;</span><span class="p">){</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">find</span><span class="p">[</span><span class="nx">h</span><span class="p">](</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">break</span><span class="p">}}}}</span><span class="nx">d</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="o">:</span><span class="p">[]);</span><span class="k">return</span><span class="p">{</span><span class="nx">set</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">expr</span><span class="o">:</span><span class="nx">a</span><span class="p">}},</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="p">[],</span><span class="nx">s</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">isXML</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nx">o</span><span class="p">.</span><span class="nx">filter</span><span class="p">){</span><span class="k">if</span><span class="p">((</span><span class="nx">f</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">leftMatch</span><span class="p">[</span><span class="nx">h</span><span class="p">].</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">[</span><span class="mi">2</span><span class="p">]){</span><span class="nx">k</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">filter</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="nx">f</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">g</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;\\&quot;</span><span class="p">){</span><span class="k">continue</span><span class="p">}</span><span class="nx">s</span><span class="o">===</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="p">[]);</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">preFilter</span><span class="p">[</span><span class="nx">h</span><span class="p">]){</span><span class="nx">f</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">preFilter</span><span class="p">[</span><span class="nx">h</span><span class="p">](</span><span class="nx">f</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">i</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">===!</span><span class="mi">0</span><span class="p">){</span><span class="k">continue</span><span class="p">}}}</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;(</span><span class="nx">j</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">n</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">){</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">k</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">e</span><span class="o">^</span><span class="nx">i</span><span class="p">,</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">p</span><span class="o">?</span><span class="nx">g</span><span class="o">=!</span><span class="mi">0</span><span class="o">:</span><span class="nx">s</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=!</span><span class="mi">1</span><span class="o">:</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">g</span><span class="o">=!</span><span class="mi">0</span><span class="p">))}}</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="nx">d</span><span class="o">||</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">g</span><span class="p">){</span><span class="k">return</span><span class="p">[]}</span><span class="k">break</span><span class="p">}}}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">q</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">m</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">break</span><span class="p">}}</span><span class="nx">q</span><span class="o">=</span><span class="nx">a</span><span class="p">}</span><span class="k">return</span> <span class="nx">s</span><span class="p">},</span><span class="nx">m</span><span class="p">.</span><span class="nx">error</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Syntax error, unrecognized expression: &quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">getText</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="mi">1</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="mi">9</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">textContent</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">textContent</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">innerText</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">innerText</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span><span class="nx">a</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">){</span><span class="nx">e</span><span class="o">+=</span><span class="nx">n</span><span class="p">(</span><span class="nx">a</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="mi">3</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="mi">4</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeValue</span><span class="p">}}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span><span class="nx">b</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">8</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">+=</span><span class="nx">n</span><span class="p">(</span><span class="nx">c</span><span class="p">))}}</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">o</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">selectors</span><span class="o">=</span><span class="p">{</span><span class="nx">order</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span><span class="s2">&quot;NAME&quot;</span><span class="p">,</span><span class="s2">&quot;TAG&quot;</span><span class="p">],</span><span class="nx">match</span><span class="o">:</span><span class="p">{</span><span class="nx">ID</span><span class="o">:</span><span class="sr">/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/</span><span class="p">,</span><span class="nx">CLASS</span><span class="o">:</span><span class="sr">/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/</span><span class="p">,</span><span class="nx">NAME</span><span class="o">:</span><span class="sr">/\[name=[&#39;&quot;]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)[&#39;&quot;]*\]/</span><span class="p">,</span><span class="nx">ATTR</span><span class="o">:</span><span class="sr">/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:([&#39;&quot;])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/</span><span class="p">,</span><span class="nx">TAG</span><span class="o">:</span><span class="sr">/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/</span><span class="p">,</span><span class="nx">CHILD</span><span class="o">:</span><span class="sr">/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/</span><span class="p">,</span><span class="nx">POS</span><span class="o">:</span><span class="sr">/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/</span><span class="p">,</span><span class="nx">PSEUDO</span><span class="o">:</span><span class="sr">/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\(([&#39;&quot;]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/</span><span class="p">},</span><span class="nx">leftMatch</span><span class="o">:</span><span class="p">{},</span><span class="nx">attrMap</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="o">:</span><span class="s2">&quot;className&quot;</span><span class="p">,</span><span class="s2">&quot;for&quot;</span><span class="o">:</span><span class="s2">&quot;htmlFor&quot;</span><span class="p">},</span><span class="nx">attrHandle</span><span class="o">:</span><span class="p">{</span><span class="nx">href</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)},</span><span class="nx">type</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)}},</span><span class="nx">relative</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;+&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">;</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">());</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">h</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">]){</span><span class="k">while</span><span class="p">((</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">1</span><span class="p">){}</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="nx">b</span><span class="o">?</span><span class="nx">h</span><span class="o">||!</span><span class="mi">1</span><span class="o">:</span><span class="nx">h</span><span class="o">===</span><span class="nx">b</span><span class="p">}}</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="s2">&quot;&gt;&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">for</span><span class="p">(;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="nx">b</span><span class="o">?</span><span class="nx">g</span><span class="o">:!</span><span class="mi">1</span><span class="p">}}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">===</span><span class="nx">b</span><span class="p">)}</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}},</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="o">++</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">x</span><span class="p">;</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">w</span><span class="p">),</span><span class="nx">g</span><span class="p">(</span><span class="s2">&quot;parentNode&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="s2">&quot;~&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="o">++</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">x</span><span class="p">;</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">w</span><span class="p">),</span><span class="nx">g</span><span class="p">(</span><span class="s2">&quot;previousSibling&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">)}},</span><span class="nx">find</span><span class="o">:</span><span class="p">{</span><span class="nx">ID</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementById</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="k">return</span> <span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">?</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">:</span><span class="p">[]}},</span><span class="nx">NAME</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByName</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByName</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span><span class="o">===</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">])}</span><span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">c</span><span class="p">}},</span><span class="nx">TAG</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])}}},</span><span class="nx">preFilter</span><span class="o">:</span><span class="p">{</span><span class="nx">CLASS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">;(</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">^</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">className</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">className</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\t\n\r]/g</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span><span class="o">?</span><span class="nx">c</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=!</span><span class="mi">1</span><span class="p">))}</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="nx">ID</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">TAG</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()},</span><span class="nx">CHILD</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;nth&quot;</span><span class="p">){</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="nx">m</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\+|\s*/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="sr">/(-?)(\d*)(?:n([+\-]?\d*))?/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;even&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;2n&quot;</span><span class="o">||</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;odd&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;2n+1&quot;</span><span class="o">||!</span><span class="sr">/\D/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="s2">&quot;0n+&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="mi">0</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])}</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="o">++</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">ATTR</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="o">!</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">attrMap</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">attrMap</span><span class="p">[</span><span class="nx">g</span><span class="p">]),</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;~=&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">PSEUDO</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;not&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">((</span><span class="nx">a</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="sr">/^\w/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">])){</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">^</span><span class="nx">f</span><span class="p">);</span><span class="nx">d</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">);</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">POS</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">||</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">CHILD</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">])){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}}</span><span class="k">return</span> <span class="nx">b</span><span class="p">},</span><span class="nx">POS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">}},</span><span class="nx">filters</span><span class="o">:</span><span class="p">{</span><span class="nx">enabled</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">disabled</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">!==</span><span class="s2">&quot;hidden&quot;</span><span class="p">},</span><span class="nx">disabled</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">disabled</span><span class="o">===!</span><span class="mi">0</span><span class="p">},</span><span class="nx">checked</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">checked</span><span class="o">===!</span><span class="mi">0</span><span class="p">},</span><span class="nx">selected</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">selectedIndex</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">selected</span><span class="o">===!</span><span class="mi">0</span><span class="p">},</span><span class="nx">parent</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!!</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">},</span><span class="nx">empty</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">},</span><span class="nx">has</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="o">!!</span><span class="nx">m</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="nx">a</span><span class="p">).</span><span class="nx">length</span><span class="p">},</span><span class="nx">header</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="sr">/h\d/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)},</span><span class="nx">text</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;text&quot;</span><span class="o">===</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="nx">c</span><span class="o">||</span><span class="nx">b</span><span class="o">===</span><span class="kc">null</span><span class="p">)},</span><span class="nx">radio</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;radio&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">checkbox</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;checkbox&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">file</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;file&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">password</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;password&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">submit</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">return</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">||</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;button&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;submit&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">image</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;image&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">reset</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">return</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">||</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;button&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">&quot;reset&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">},</span><span class="nx">button</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">return</span> <span class="nx">b</span><span class="o">===</span><span class="s2">&quot;input&quot;</span><span class="o">&amp;&amp;</span><span class="s2">&quot;button&quot;</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;button&quot;</span><span class="p">},</span><span class="nx">input</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="sr">/input|select|textarea|button/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)},</span><span class="nx">focus</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">activeElement</span><span class="p">}},</span><span class="nx">setFilters</span><span class="o">:</span><span class="p">{</span><span class="nx">first</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">===</span><span class="mi">0</span><span class="p">},</span><span class="nx">last</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">===</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">},</span><span class="nx">even</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">%</span><span class="mi">2</span><span class="o">===</span><span class="mi">0</span><span class="p">},</span><span class="nx">odd</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">%</span><span class="mi">2</span><span class="o">===</span><span class="mi">1</span><span class="p">},</span><span class="nx">lt</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="mi">0</span><span class="p">},</span><span class="nx">gt</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">&gt;</span><span class="nx">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="mi">0</span><span class="p">},</span><span class="nx">nth</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="mi">0</span><span class="o">===</span><span class="nx">b</span><span class="p">},</span><span class="nx">eq</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="mi">0</span><span class="o">===</span><span class="nx">b</span><span class="p">}},</span><span class="nx">filter</span><span class="o">:</span><span class="p">{</span><span class="nx">PSEUDO</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">filters</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;contains&quot;</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">textContent</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">innerText</span><span class="o">||</span><span class="nx">n</span><span class="p">([</span><span class="nx">a</span><span class="p">])</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;not&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">===</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="nx">m</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">CHILD</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">k</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;only&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;first&quot;</span><span class="o">:</span><span class="k">while</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">previousSibling</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">===</span><span class="s2">&quot;first&quot;</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;last&quot;</span><span class="o">:</span><span class="k">while</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;nth&quot;</span><span class="o">:</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">!==</span><span class="nx">f</span><span class="o">||!</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeIndex</span><span class="p">)){</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span><span class="nx">l</span><span class="p">;</span><span class="nx">l</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">){</span><span class="nx">l</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">nodeIndex</span><span class="o">=++</span><span class="nx">i</span><span class="p">)}</span><span class="nx">g</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">}</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeIndex</span><span class="o">-</span><span class="nx">e</span><span class="p">;</span><span class="k">return</span> <span class="nx">c</span><span class="o">===</span><span class="mi">0</span><span class="o">?</span><span class="nx">j</span><span class="o">===</span><span class="mi">0</span><span class="o">:</span><span class="nx">j</span><span class="o">%</span><span class="nx">c</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="o">/</span><span class="nx">c</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">}},</span><span class="nx">ID</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span><span class="o">===</span><span class="nx">b</span><span class="p">},</span><span class="nx">TAG</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">===</span><span class="s2">&quot;*&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">||!!</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="nx">b</span><span class="p">},</span><span class="nx">CLASS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">},</span><span class="nx">ATTR</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">d</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">attr</span><span class="o">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">attrHandle</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">attrHandle</span><span class="p">[</span><span class="nx">c</span><span class="p">](</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span><span class="k">return</span> <span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;!=&quot;</span><span class="o">:!</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">.</span><span class="nx">attr</span><span class="o">?</span><span class="nx">d</span><span class="o">!=</span><span class="kc">null</span><span class="o">:</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;=&quot;</span><span class="o">?</span><span class="nx">e</span><span class="o">===</span><span class="nx">g</span><span class="o">:</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;*=&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">:</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;~=&quot;</span><span class="o">?</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">:</span><span class="nx">g</span><span class="o">?</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;!=&quot;</span><span class="o">?</span><span class="nx">e</span><span class="o">!==</span><span class="nx">g</span><span class="o">:</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;^=&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">===</span><span class="mi">0</span><span class="o">:</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;$=&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">===</span><span class="nx">g</span><span class="o">:</span><span class="nx">f</span><span class="o">===</span><span class="s2">&quot;|=&quot;</span><span class="o">?</span><span class="nx">e</span><span class="o">===</span><span class="nx">g</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">===</span><span class="nx">g</span><span class="o">+</span><span class="s2">&quot;-&quot;</span><span class="o">:!</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">!==!</span><span class="mi">1</span><span class="p">},</span><span class="nx">POS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">setFilters</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)}}}},</span><span class="nx">p</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">POS</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;\\&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">b</span><span class="o">-</span><span class="mi">0</span><span class="o">+</span><span class="mi">1</span><span class="p">)};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span> <span class="k">in</span> <span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">){</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">source</span><span class="o">+</span><span class="sr">/(?![^\[]*\])(?![^\(]*\))/</span><span class="p">.</span><span class="nx">source</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">leftMatch</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="sr">/(^(?:.|\r|\n)*?)/</span><span class="p">.</span><span class="nx">source</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">source</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\\(\d+)/g</span><span class="p">,</span><span class="nx">q</span><span class="p">))}</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">};</span><span class="k">try</span><span class="p">{</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeType</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">s</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;[object Array]&quot;</span><span class="p">){</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">])}}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(;</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">])}}}</span><span class="k">return</span> <span class="nx">d</span><span class="p">}}</span><span class="kd">var</span> <span class="nx">u</span><span class="p">,</span><span class="nx">v</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="o">?</span><span class="nx">u</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">h</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">4</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span><span class="o">:</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">h</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="o">-</span><span class="nx">b</span><span class="p">.</span><span class="nx">sourceIndex</span><span class="p">}</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">g</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">===</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">v</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">g</span><span class="p">){</span><span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="mi">1</span><span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">}</span><span class="nx">j</span><span class="o">=</span><span class="nx">i</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">j</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">}</span><span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">k</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">!==</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">]){</span><span class="k">return</span> <span class="nx">v</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">])}}</span><span class="k">return</span> <span class="nx">k</span><span class="o">===</span><span class="nx">c</span><span class="o">?</span><span class="nx">v</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">v</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">v</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">}</span><span class="k">return</span> <span class="mi">1</span><span class="p">}),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="s2">&quot;script&quot;</span><span class="o">+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">).</span><span class="nx">getTime</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&lt;a name=&#39;&quot;</span><span class="o">+</span><span class="nx">d</span><span class="o">+</span><span class="s2">&quot;&#39;/&gt;&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">ID</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">c</span><span class="p">.</span><span class="nx">getElementById</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="k">return</span> <span class="nx">e</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="o">===</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">).</span><span class="nx">nodeValue</span><span class="o">===</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">:</span><span class="nx">b</span><span class="o">:</span><span class="p">[]}},</span><span class="nx">o</span><span class="p">.</span><span class="nx">filter</span><span class="p">.</span><span class="nx">ID</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttributeNode</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">===</span><span class="nx">b</span><span class="p">}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">createComment</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)),</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">TAG</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;*&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">])}</span><span class="nx">c</span><span class="o">=</span><span class="nx">d</span><span class="p">}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&lt;a href=&#39;#&#39;&gt;&lt;/a&gt;&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">getAttribute</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;#&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">attrHandle</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)}),</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">}(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="o">&amp;&amp;</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">m</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="s2">&quot;__sizzle__&quot;</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&lt;p class=&#39;TEST&#39;&gt;&lt;/p&gt;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;.TEST&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="nx">m</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">g</span><span class="o">&amp;&amp;!</span><span class="nx">m</span><span class="p">.</span><span class="nx">isXML</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="sr">/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">9</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]){</span><span class="k">return</span> <span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">f</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">CLASS</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">){</span><span class="k">return</span> <span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">f</span><span class="p">)}}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">9</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;body&quot;</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">){</span><span class="k">return</span> <span class="nx">s</span><span class="p">([</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">],</span><span class="nx">f</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">[</span><span class="mi">3</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="o">||!</span><span class="nx">i</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">){</span><span class="k">return</span> <span class="nx">s</span><span class="p">([],</span><span class="nx">f</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">id</span><span class="o">===</span><span class="nx">h</span><span class="p">[</span><span class="mi">3</span><span class="p">]){</span><span class="k">return</span> <span class="nx">s</span><span class="p">([</span><span class="nx">i</span><span class="p">],</span><span class="nx">f</span><span class="p">)}}</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">f</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">j</span><span class="p">){}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">!==</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nx">l</span><span class="o">||</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">q</span><span class="o">=</span><span class="sr">/^\s*[+~]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">l</span><span class="o">?</span><span class="nx">n</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&#39;/g</span><span class="p">,</span><span class="s2">&quot;\\$&amp;&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">q</span><span class="o">||</span><span class="nx">p</span><span class="p">){</span><span class="k">return</span> <span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;[id=&#39;&quot;</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">&quot;&#39;] &quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">),</span><span class="nx">f</span><span class="p">)}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">r</span><span class="p">){}</span><span class="k">finally</span><span class="p">{</span><span class="nx">l</span><span class="o">||</span><span class="nx">k</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)}}}}</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">)};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">m</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">e</span><span class="p">]}</span><span class="nx">b</span><span class="o">=</span><span class="kc">null</span><span class="p">}}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">mozMatchesSelector</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">webkitMatchesSelector</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">msMatchesSelector</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=!</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="s2">&quot;[test!=&#39;&#39;]:sizzle&quot;</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">f</span><span class="p">){</span><span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="nx">m</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\=\s*([^&#39;&quot;\]]*)\s*\]/g</span><span class="p">,</span><span class="s2">&quot;=&#39;$1&#39;]&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">isXML</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">||!</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">PSEUDO</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="sr">/!=/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">c</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="o">||!</span><span class="nx">d</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nb">document</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">11</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">}}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">g</span><span class="p">){}}</span><span class="k">return</span> <span class="nx">m</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="p">,[</span><span class="nx">a</span><span class="p">]).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">}}}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="s2">&quot;&lt;div class=&#39;test e&#39;&gt;&lt;/div&gt;&lt;div class=&#39;test&#39;&gt;&lt;/div&gt;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">o</span><span class="p">.</span><span class="nx">order</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;CLASS&quot;</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">CLASS</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])}},</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">}}(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">contains</span><span class="o">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">contains</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">contains</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">:!</span><span class="mi">0</span><span class="p">)}</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="o">?</span><span class="nx">m</span><span class="p">.</span><span class="nx">contains</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="o">!!</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">16</span><span class="p">)}</span><span class="o">:</span><span class="nx">m</span><span class="p">.</span><span class="nx">contains</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">},</span><span class="nx">m</span><span class="p">.</span><span class="nx">isXML</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">a</span><span class="o">:</span><span class="mi">0</span><span class="p">).</span><span class="nx">documentElement</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">!==</span><span class="s2">&quot;HTML&quot;</span><span class="o">:!</span><span class="mi">1</span><span class="p">};</span><span class="kd">var</span> <span class="nx">y</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">?</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span><span class="nx">b</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">PSEUDO</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="nx">f</span><span class="o">+=</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">PSEUDO</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)}</span><span class="nx">a</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">relative</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">?</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;*&quot;</span><span class="o">:</span><span class="nx">a</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="nx">m</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="k">return</span> <span class="nx">m</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">e</span><span class="p">)};</span><span class="nx">m</span><span class="p">.</span><span class="nx">attr</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">attr</span><span class="p">,</span><span class="nx">m</span><span class="p">.</span><span class="nx">selectors</span><span class="p">.</span><span class="nx">attrMap</span><span class="o">=</span><span class="p">{},</span><span class="nx">f</span><span class="p">.</span><span class="nx">find</span><span class="o">=</span><span class="nx">m</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">selectors</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">[</span><span class="s2">&quot;:&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">unique</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">uniqueSort</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">getText</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">isXML</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">contains</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">contains</span><span class="p">}();</span><span class="kd">var</span> <span class="nx">L</span><span class="o">=</span><span class="sr">/Until$/</span><span class="p">,</span><span class="nx">M</span><span class="o">=</span><span class="sr">/^(?:parents|prevUntil|prevAll)/</span><span class="p">,</span><span class="nx">N</span><span class="o">=</span><span class="sr">/,/</span><span class="p">,</span><span class="nx">O</span><span class="o">=</span><span class="sr">/^.[^:#\[\.,]*$/</span><span class="p">,</span><span class="nx">P</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">,</span><span class="nx">Q</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">match</span><span class="p">.</span><span class="nx">POS</span><span class="p">,</span><span class="nx">R</span><span class="o">=</span><span class="p">{</span><span class="nx">children</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">contents</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">next</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">prev</span><span class="o">:!</span><span class="mi">0</span><span class="p">};</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">find</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="k">this</span><span class="p">)){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}}})}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;find&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">g</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">===</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">]){</span><span class="nx">e</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">h</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">break</span><span class="p">}}}}}</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">has</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">a</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">;</span><span class="nx">a</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">])){</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}}})},</span><span class="nx">not</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">T</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="s2">&quot;not&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="nx">filter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">T</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="s2">&quot;filter&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="nx">is</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!!</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">Q</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">).</span><span class="nx">index</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)},</span><span class="nx">closest</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[],</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="nx">g</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">selector</span><span class="o">:</span><span class="nx">a</span><span class="p">[</span><span class="nx">d</span><span class="p">],</span><span class="nx">elem</span><span class="o">:</span><span class="nx">g</span><span class="p">,</span><span class="nx">level</span><span class="o">:</span><span class="nx">h</span><span class="p">})}</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">h</span><span class="o">++</span><span class="p">}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">)</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">)){</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="k">break</span><span class="p">}</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">g</span><span class="o">||!</span><span class="nx">g</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">g</span><span class="o">===</span><span class="nx">b</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">11</span><span class="p">){</span><span class="k">break</span><span class="p">}}}</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;closest&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="nx">index</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">prevAll</span><span class="p">().</span><span class="nx">length</span><span class="o">:-</span><span class="mi">1</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">))}</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">jquery</span><span class="o">?</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">)},</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">?</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">:</span><span class="nx">a</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(),</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">S</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">||</span><span class="nx">S</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span><span class="nx">d</span><span class="p">))},</span><span class="nx">andSelf</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prevObject</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="nx">parent</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">11</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">parents</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;parentNode&quot;</span><span class="p">)},</span><span class="nx">parentsUntil</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;parentNode&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">next</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">nth</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;nextSibling&quot;</span><span class="p">)},</span><span class="nx">prev</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">nth</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;previousSibling&quot;</span><span class="p">)},</span><span class="nx">nextAll</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;nextSibling&quot;</span><span class="p">)},</span><span class="nx">prevAll</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;previousSibling&quot;</span><span class="p">)},</span><span class="nx">nextUntil</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;nextSibling&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">prevUntil</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;previousSibling&quot;</span><span class="p">,</span><span class="nx">c</span><span class="p">)},</span><span class="nx">siblings</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">sibling</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="nx">children</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">sibling</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)},</span><span class="nx">contents</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;iframe&quot;</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">contentDocument</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nb">document</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">)}},</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="nx">L</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">),</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">d</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">)),</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="nx">R</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">,(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="nx">N</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">M</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">reverse</span><span class="p">());</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">P</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">filter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="s2">&quot;:not(&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">matchesSelector</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="p">[</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">:</span><span class="p">[]</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">dir</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">9</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="nx">b</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">1</span><span class="o">||!</span><span class="nx">f</span><span class="p">(</span><span class="nx">g</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="nx">d</span><span class="p">))){</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">c</span><span class="p">]}</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">nth</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">a</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">c</span><span class="p">]){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;++</span><span class="nx">e</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">break</span><span class="p">}}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">sibling</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(;</span><span class="nx">a</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">!==</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="k">return</span> <span class="nx">c</span><span class="p">}});</span><span class="kd">var</span> <span class="nx">V</span><span class="o">=</span><span class="s2">&quot;abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video&quot;</span><span class="p">,</span><span class="nx">W</span><span class="o">=</span><span class="sr">/ jQuery\d+=&quot;(?:\d+|null)&quot;/g</span><span class="p">,</span><span class="nx">X</span><span class="o">=</span><span class="sr">/^\s+/</span><span class="p">,</span><span class="nx">Y</span><span class="o">=</span><span class="sr">/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/ig</span><span class="p">,</span><span class="nx">Z</span><span class="o">=</span><span class="sr">/&lt;([\w:]+)/</span><span class="p">,</span><span class="nx">$</span><span class="o">=</span><span class="sr">/&lt;tbody/i</span><span class="p">,</span><span class="nx">_</span><span class="o">=</span><span class="sr">/&lt;|&amp;#?\w+;/</span><span class="p">,</span><span class="nx">ba</span><span class="o">=</span><span class="sr">/&lt;(?:script|style)/i</span><span class="p">,</span><span class="nx">bb</span><span class="o">=</span><span class="sr">/&lt;(?:script|object|embed|option|style)/i</span><span class="p">,</span><span class="nx">bc</span><span class="o">=</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">&quot;&lt;(?:&quot;</span><span class="o">+</span><span class="nx">V</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">),</span><span class="nx">bd</span><span class="o">=</span><span class="sr">/checked\s*(?:[^=]|=\s*.checked.)/i</span><span class="p">,</span><span class="nx">be</span><span class="o">=</span><span class="sr">/\/(java|ecma)script/i</span><span class="p">,</span><span class="nx">bf</span><span class="o">=</span><span class="sr">/^\s*&lt;!(?:\[CDATA\[|\-\-)/</span><span class="p">,</span><span class="nx">bg</span><span class="o">=</span><span class="p">{</span><span class="nx">option</span><span class="o">:</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&lt;select multiple=&#39;multiple&#39;&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/select&gt;&quot;</span><span class="p">],</span><span class="nx">legend</span><span class="o">:</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&lt;fieldset&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/fieldset&gt;&quot;</span><span class="p">],</span><span class="nx">thead</span><span class="o">:</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&lt;table&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/table&gt;&quot;</span><span class="p">],</span><span class="nx">tr</span><span class="o">:</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;&lt;table&gt;&lt;tbody&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;</span><span class="p">],</span><span class="nx">td</span><span class="o">:</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</span><span class="p">],</span><span class="nx">col</span><span class="o">:</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;</span><span class="p">],</span><span class="nx">area</span><span class="o">:</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&lt;map&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/map&gt;&quot;</span><span class="p">],</span><span class="nx">_default</span><span class="o">:</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">]},</span><span class="nx">bh</span><span class="o">=</span><span class="nx">U</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="nx">bg</span><span class="p">.</span><span class="nx">optgroup</span><span class="o">=</span><span class="nx">bg</span><span class="p">.</span><span class="nx">option</span><span class="p">,</span><span class="nx">bg</span><span class="p">.</span><span class="nx">tbody</span><span class="o">=</span><span class="nx">bg</span><span class="p">.</span><span class="nx">tfoot</span><span class="o">=</span><span class="nx">bg</span><span class="p">.</span><span class="nx">colgroup</span><span class="o">=</span><span class="nx">bg</span><span class="p">.</span><span class="nx">caption</span><span class="o">=</span><span class="nx">bg</span><span class="p">.</span><span class="nx">thead</span><span class="p">,</span><span class="nx">bg</span><span class="p">.</span><span class="nx">th</span><span class="o">=</span><span class="nx">bg</span><span class="p">.</span><span class="nx">td</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">htmlSerialize</span><span class="o">||</span><span class="p">(</span><span class="nx">bg</span><span class="p">.</span><span class="nx">_default</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;div&lt;div&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;/div&gt;&quot;</span><span class="p">]),</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">text</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">text</span><span class="p">()))})}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">empty</span><span class="p">().</span><span class="nx">append</span><span class="p">((</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">c</span><span class="p">).</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">a</span><span class="p">))}</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="k">this</span><span class="p">)},</span><span class="nx">wrapAll</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">wrapAll</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">))})}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ownerDocument</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">clone</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">b</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">}).</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">wrapInner</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">wrapInner</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">))})}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">contents</span><span class="p">();</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">wrapAll</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">)})},</span><span class="nx">wrap</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">wrapAll</span><span class="p">(</span><span class="nx">b</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">)})},</span><span class="nx">unwrap</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;body&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">)}).</span><span class="nx">end</span><span class="p">()},</span><span class="nx">append</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">a</span><span class="p">)})},</span><span class="nx">prepend</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)})},</span><span class="nx">before</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">clean</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">toArray</span><span class="p">());</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;before&quot;</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}},</span><span class="nx">after</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;after&quot;</span><span class="p">,</span><span class="nx">arguments</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">clean</span><span class="p">(</span><span class="nx">arguments</span><span class="p">));</span><span class="k">return</span> <span class="nx">a</span><span class="p">}},</span><span class="nx">remove</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">;(</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">a</span><span class="p">,[</span><span class="nx">d</span><span class="p">]).</span><span class="nx">length</span><span class="p">){</span><span class="o">!</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)),</span><span class="nx">f</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">([</span><span class="nx">d</span><span class="p">])),</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">d</span><span class="p">)}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">empty</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">;(</span><span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">a</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">a</span><span class="o">++</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">));</span><span class="k">while</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">clone</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?!</span><span class="mi">1</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">b</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)})},</span><span class="nx">html</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">W</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">ba</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">leadingWhitespace</span><span class="o">||!</span><span class="nx">X</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">&amp;&amp;!</span><span class="nx">bg</span><span class="p">[(</span><span class="nx">Z</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">])[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()]){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span><span class="s2">&quot;&lt;$1&gt;&lt;/$2&gt;&quot;</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">cleanData</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)),</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">].</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">a</span><span class="p">)}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">empty</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">html</span><span class="p">()))})</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">empty</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">replaceWith</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">html</span><span class="p">();</span><span class="nx">c</span><span class="p">.</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">))})}</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">detach</span><span class="p">());</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">b</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">before</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">(</span><span class="nx">c</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">)})}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">()</span><span class="o">:</span><span class="nx">a</span><span class="p">),</span><span class="s2">&quot;replaceWith&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">},</span><span class="nx">detach</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">domManip</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">k</span><span class="o">=</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">checkClone</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">j</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="nx">bd</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">j</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">j</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">c</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span><span class="o">:</span><span class="nx">b</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">domManip</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="nx">i</span><span class="o">=</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">11</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nx">e</span><span class="o">=</span><span class="p">{</span><span class="nx">fragment</span><span class="o">:</span><span class="nx">i</span><span class="p">}</span><span class="o">:</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">buildFragment</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">k</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">fragment</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="nx">g</span><span class="o">=</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">:</span><span class="nx">g</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="s2">&quot;tr&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">m</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="o">?</span><span class="nx">bi</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">cacheable</span><span class="o">||</span><span class="nx">m</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">n</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">h</span><span class="p">)}}</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">bp</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">buildFragment</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">i</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="o">||</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">j</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">512</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">===</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">j</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;&lt;&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">bb</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">checkClone</span><span class="o">||!</span><span class="nx">bd</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">j</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">html5Clone</span><span class="o">||!</span><span class="nx">bc</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">j</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fragments</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="o">!==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">h</span><span class="p">)),</span><span class="nx">e</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">(),</span><span class="nx">f</span><span class="p">.</span><span class="nx">clean</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">)),</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">fragments</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">fragment</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">cacheable</span><span class="o">:</span><span class="nx">g</span><span class="p">}},</span><span class="nx">f</span><span class="p">.</span><span class="nx">fragments</span><span class="o">=</span><span class="p">{},</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="nx">appendTo</span><span class="o">:</span><span class="s2">&quot;append&quot;</span><span class="p">,</span><span class="nx">prependTo</span><span class="o">:</span><span class="s2">&quot;prepend&quot;</span><span class="p">,</span><span class="nx">insertBefore</span><span class="o">:</span><span class="s2">&quot;before&quot;</span><span class="p">,</span><span class="nx">insertAfter</span><span class="o">:</span><span class="s2">&quot;after&quot;</span><span class="p">,</span><span class="nx">replaceAll</span><span class="o">:</span><span class="s2">&quot;replaceWith&quot;</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">11</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="p">(</span><span class="nx">h</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">).</span><span class="nx">get</span><span class="p">();</span><span class="nx">f</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">])[</span><span class="nx">b</span><span class="p">](</span><span class="nx">j</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">j</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">selector</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">clone</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">html5Clone</span><span class="o">||!</span><span class="nx">bc</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">bo</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">((</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">noCloneEvent</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">noCloneChecked</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">11</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isXMLDoc</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="nx">bk</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">h</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">bl</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">bl</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="o">++</span><span class="nx">g</span><span class="p">){</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">bk</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">])}}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">bj</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">h</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">bl</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">bl</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="o">++</span><span class="nx">g</span><span class="p">){</span><span class="nx">bj</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">])}}}</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">clean</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="o">||</span><span class="nx">c</span><span class="p">,</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">createElement</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ownerDocument</span><span class="o">||</span><span class="nx">c</span><span class="p">);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="p">[],</span><span class="nx">i</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="p">;(</span><span class="nx">k</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">j</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">j</span><span class="o">++</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">k</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">+=</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">k</span><span class="p">){</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">k</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">k</span><span class="p">)){</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">k</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">k</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">Y</span><span class="p">,</span><span class="s2">&quot;&lt;$1&gt;&lt;/$2&gt;&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="p">(</span><span class="nx">Z</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span><span class="o">||</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">])[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">m</span><span class="o">=</span><span class="nx">bg</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">||</span><span class="nx">bg</span><span class="p">.</span><span class="nx">_default</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">o</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span><span class="nx">b</span><span class="o">===</span><span class="nx">c</span><span class="o">?</span><span class="nx">bh</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">:</span><span class="nx">U</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">k</span><span class="o">+</span><span class="nx">m</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="o">--</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">tbody</span><span class="p">){</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">$</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">k</span><span class="p">),</span><span class="nx">q</span><span class="o">=</span><span class="nx">l</span><span class="o">===</span><span class="s2">&quot;table&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">p</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">firstChild</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">childNodes</span><span class="o">:</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;&lt;table&gt;&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">p</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">childNodes</span><span class="o">:</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">q</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="o">--</span><span class="nx">i</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">q</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="s2">&quot;tbody&quot;</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">q</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">q</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">q</span><span class="p">[</span><span class="nx">i</span><span class="p">])}}</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">leadingWhitespace</span><span class="o">&amp;&amp;</span><span class="nx">X</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">X</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">k</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">o</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">}}</span><span class="kd">var</span> <span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">appendChecked</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">typeof</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">bn</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="nx">i</span><span class="p">])}}</span><span class="k">else</span><span class="p">{</span><span class="nx">bn</span><span class="p">(</span><span class="nx">k</span><span class="p">)}}</span><span class="nx">k</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span><span class="o">:</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="nx">be</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="p">)};</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span><span class="nx">j</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span><span class="s2">&quot;script&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">type</span><span class="o">||</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">type</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span><span class="o">===</span><span class="s2">&quot;text/javascript&quot;</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">parentNode</span><span class="o">?</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">])</span><span class="o">:</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">])}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">),</span><span class="nx">g</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">h</span><span class="p">,[</span><span class="nx">j</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">s</span><span class="p">))}</span><span class="nx">d</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">])}}}</span><span class="k">return</span> <span class="nx">h</span><span class="p">},</span><span class="nx">cleanData</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">cache</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">special</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">deleteExpando</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">;(</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">])</span><span class="o">!=</span><span class="kc">null</span><span class="p">;</span><span class="nx">h</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">noData</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]){</span><span class="k">continue</span><span class="p">}</span><span class="nx">c</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">events</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="k">in</span> <span class="nx">b</span><span class="p">.</span><span class="nx">events</span><span class="p">){</span><span class="nx">e</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeEvent</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">handle</span><span class="p">)}</span><span class="nx">b</span><span class="p">.</span><span class="nx">handle</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">handle</span><span class="p">.</span><span class="nx">elem</span><span class="o">=</span><span class="kc">null</span><span class="p">)}</span><span class="nx">g</span><span class="o">?</span><span class="k">delete</span> <span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">]</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="p">),</span><span class="k">delete</span> <span class="nx">d</span><span class="p">[</span><span class="nx">c</span><span class="p">]}}}});</span><span class="kd">var</span> <span class="nx">bq</span><span class="o">=</span><span class="sr">/alpha\([^)]*\)/i</span><span class="p">,</span><span class="nx">br</span><span class="o">=</span><span class="sr">/opacity=([^)]*)/</span><span class="p">,</span><span class="nx">bs</span><span class="o">=</span><span class="sr">/([A-Z]|^ms)/g</span><span class="p">,</span><span class="nx">bt</span><span class="o">=</span><span class="sr">/^-?\d+(?:px)?$/i</span><span class="p">,</span><span class="nx">bu</span><span class="o">=</span><span class="sr">/^-?\d/</span><span class="p">,</span><span class="nx">bv</span><span class="o">=</span><span class="sr">/^([\-+])=([\-+.\de]+)/</span><span class="p">,</span><span class="nx">bw</span><span class="o">=</span><span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;absolute&quot;</span><span class="p">,</span><span class="nx">visibility</span><span class="o">:</span><span class="s2">&quot;hidden&quot;</span><span class="p">,</span><span class="nx">display</span><span class="o">:</span><span class="s2">&quot;block&quot;</span><span class="p">},</span><span class="nx">bx</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Left&quot;</span><span class="p">,</span><span class="s2">&quot;Right&quot;</span><span class="p">],</span><span class="nx">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Top&quot;</span><span class="p">,</span><span class="s2">&quot;Bottom&quot;</span><span class="p">],</span><span class="nx">bz</span><span class="p">,</span><span class="nx">bA</span><span class="p">,</span><span class="nx">bB</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">css</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="o">!==</span><span class="nx">b</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)})},</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">cssHooks</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span><span class="s2">&quot;opacity&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">c</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">?</span><span class="s2">&quot;1&quot;</span><span class="o">:</span><span class="nx">c</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="p">}}},</span><span class="nx">cssNumber</span><span class="o">:</span><span class="p">{</span><span class="nx">fillOpacity</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">fontWeight</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">lineHeight</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">orphans</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">widows</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">zIndex</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">zoom</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">cssProps</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;float&quot;</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cssFloat</span><span class="o">?</span><span class="s2">&quot;cssFloat&quot;</span><span class="o">:</span><span class="s2">&quot;styleFloat&quot;</span><span class="p">},</span><span class="nx">style</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">!==</span><span class="mi">8</span><span class="o">&amp;&amp;!!</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">||</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">k</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">))</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">g</span><span class="p">}</span><span class="k">return</span> <span class="nx">j</span><span class="p">[</span><span class="nx">c</span><span class="p">]}</span><span class="nx">h</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">d</span><span class="p">,</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">bv</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=+</span><span class="p">(</span><span class="nx">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*+</span><span class="nx">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)),</span><span class="nx">h</span><span class="o">=</span><span class="s2">&quot;number&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;number&quot;</span><span class="o">&amp;&amp;</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">d</span><span class="p">)){</span><span class="k">return</span><span class="p">}</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;number&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">+=</span><span class="s2">&quot;px&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">k</span><span class="o">||!</span><span class="p">(</span><span class="s2">&quot;set&quot;</span> <span class="k">in</span> <span class="nx">k</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">))</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="nx">j</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">l</span><span class="p">){}}}},</span><span class="nx">css</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">;</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssProps</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;cssFloat&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="s2">&quot;get&quot;</span> <span class="k">in</span> <span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">))</span><span class="o">!==</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">bz</span><span class="p">){</span><span class="k">return</span> <span class="nx">bz</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">)}},</span><span class="nx">swap</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="nx">b</span><span class="p">){</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]}</span><span class="nx">c</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span> <span class="k">in</span> <span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">e</span><span class="p">]}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">curCSS</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;height&quot;</span><span class="p">,</span><span class="s2">&quot;width&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">bC</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="nx">f</span><span class="p">.</span><span class="nx">swap</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">bw</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="o">=</span><span class="nx">bC</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">)});</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">bt</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">)){</span><span class="k">return</span> <span class="nx">b</span><span class="p">}</span><span class="nx">b</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">}}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">opacity</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">br</span><span class="p">.</span><span class="nx">test</span><span class="p">((</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">currentStyle</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">.</span><span class="nx">filter</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">filter</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">?</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nb">RegExp</span><span class="p">.</span><span class="nx">$1</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="nx">b</span><span class="o">?</span><span class="s2">&quot;1&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">isNumeric</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;alpha(opacity=&quot;</span><span class="o">+</span><span class="nx">b</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">filter</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">filter</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">zoom</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">&gt;=</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bq</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">))</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s2">&quot;filter&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">.</span><span class="nx">filter</span><span class="p">){</span><span class="k">return</span><span class="p">}}</span><span class="nx">c</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">bq</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bq</span><span class="p">,</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">g</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">}}),</span><span class="nx">f</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">reliableMarginRight</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">marginRight</span><span class="o">=</span><span class="p">{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">swap</span><span class="p">(</span><span class="nx">a</span><span class="p">,{</span><span class="nx">display</span><span class="o">:</span><span class="s2">&quot;inline-block&quot;</span><span class="p">},</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="o">?</span><span class="nx">c</span><span class="o">=</span><span class="nx">bz</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;margin-right&quot;</span><span class="p">,</span><span class="s2">&quot;marginRight&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">marginRight</span><span class="p">});</span><span class="k">return</span> <span class="nx">c</span><span class="p">}})}),</span><span class="nx">c</span><span class="p">.</span><span class="nx">defaultView</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">defaultView</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">bA</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bs</span><span class="p">,</span><span class="s2">&quot;-$1&quot;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">(),(</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">defaultView</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kc">null</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getPropertyValue</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)));</span><span class="k">return</span> <span class="nx">c</span><span class="p">}),</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">currentStyle</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">bB</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">currentStyle</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">[</span><span class="nx">b</span><span class="p">],</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span><span class="nx">f</span><span class="o">===</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">b</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="nx">bt</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">bu</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">.</span><span class="nx">left</span><span class="p">),</span><span class="nx">g</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;fontSize&quot;</span><span class="o">?</span><span class="s2">&quot;1em&quot;</span><span class="o">:</span><span class="nx">f</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">pixelLeft</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">runtimeStyle</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">d</span><span class="p">));</span><span class="k">return</span> <span class="nx">f</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">?</span><span class="s2">&quot;auto&quot;</span><span class="o">:</span><span class="nx">f</span><span class="p">}),</span><span class="nx">bz</span><span class="o">=</span><span class="nx">bA</span><span class="o">||</span><span class="nx">bB</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">hidden</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">;</span><span class="k">return</span> <span class="nx">b</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="o">===</span><span class="mi">0</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">reliableHiddenOffsets</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;display&quot;</span><span class="p">))</span><span class="o">===</span><span class="s2">&quot;none&quot;</span><span class="p">},</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">hidden</span><span class="p">(</span><span class="nx">a</span><span class="p">)});</span><span class="kd">var</span> <span class="nx">bD</span><span class="o">=</span><span class="sr">/%20/g</span><span class="p">,</span><span class="nx">bE</span><span class="o">=</span><span class="sr">/\[\]$/</span><span class="p">,</span><span class="nx">bF</span><span class="o">=</span><span class="sr">/\r?\n/g</span><span class="p">,</span><span class="nx">bG</span><span class="o">=</span><span class="sr">/#.*$/</span><span class="p">,</span><span class="nx">bH</span><span class="o">=</span><span class="sr">/^(.*?):[ \t]*([^\r\n]*)\r?$/mg</span><span class="p">,</span><span class="nx">bI</span><span class="o">=</span><span class="sr">/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i</span><span class="p">,</span><span class="nx">bJ</span><span class="o">=</span><span class="sr">/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/</span><span class="p">,</span><span class="nx">bK</span><span class="o">=</span><span class="sr">/^(?:GET|HEAD)$/</span><span class="p">,</span><span class="nx">bL</span><span class="o">=</span><span class="sr">/^\/\//</span><span class="p">,</span><span class="nx">bM</span><span class="o">=</span><span class="sr">/\?/</span><span class="p">,</span><span class="nx">bN</span><span class="o">=</span><span class="sr">/&lt;script\b[^&lt;]*(?:(?!&lt;\/script&gt;)&lt;[^&lt;]*)*&lt;\/script&gt;/gi</span><span class="p">,</span><span class="nx">bO</span><span class="o">=</span><span class="sr">/^(?:select|textarea)/i</span><span class="p">,</span><span class="nx">bP</span><span class="o">=</span><span class="sr">/\s+/</span><span class="p">,</span><span class="nx">bQ</span><span class="o">=</span><span class="sr">/([?&amp;])_=[^&amp;]*/</span><span class="p">,</span><span class="nx">bR</span><span class="o">=</span><span class="sr">/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/</span><span class="p">,</span><span class="nx">bS</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">load</span><span class="p">,</span><span class="nx">bT</span><span class="o">=</span><span class="p">{},</span><span class="nx">bU</span><span class="o">=</span><span class="p">{},</span><span class="nx">bV</span><span class="p">,</span><span class="nx">bW</span><span class="p">,</span><span class="nx">bX</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;*/&quot;</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">];</span><span class="k">try</span><span class="p">{</span><span class="nx">bV</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">bY</span><span class="p">){</span><span class="nx">bV</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">),</span><span class="nx">bV</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">bV</span><span class="o">=</span><span class="nx">bV</span><span class="p">.</span><span class="nx">href</span><span class="p">}</span><span class="nx">bW</span><span class="o">=</span><span class="nx">bR</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">bV</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">())</span><span class="o">||</span><span class="p">[],</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">load</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="nx">bS</span><span class="p">){</span><span class="k">return</span> <span class="nx">bS</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">;</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">)</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">c</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">traditional</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="p">));</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">dataType</span><span class="o">:</span><span class="s2">&quot;html&quot;</span><span class="p">,</span><span class="nx">data</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">complete</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">responseText</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">isResolved</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">g</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="s2">&quot;&lt;div&gt;&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bN</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)).</span><span class="nx">find</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="nx">c</span><span class="p">)),</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">d</span><span class="p">,[</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">])}});</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">serialize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">serializeArray</span><span class="p">())},</span><span class="nx">serializeArray</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">}).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">disabled</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">checked</span><span class="o">||</span><span class="nx">bO</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">||</span><span class="nx">bI</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">))}).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span><span class="k">return</span> <span class="nx">c</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bF</span><span class="p">,</span><span class="s2">&quot;\r\n&quot;</span><span class="p">)}})</span><span class="o">:</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bF</span><span class="p">,</span><span class="s2">&quot;\r\n&quot;</span><span class="p">)}}).</span><span class="nx">get</span><span class="p">()}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="s2">&quot;ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;get&quot;</span><span class="p">,</span><span class="s2">&quot;post&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">f</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="o">||</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">data</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">success</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">dataType</span><span class="o">:</span><span class="nx">g</span><span class="p">})}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">getScript</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;script&quot;</span><span class="p">)},</span><span class="nx">getJSON</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="s2">&quot;json&quot;</span><span class="p">)},</span><span class="nx">ajaxSetup</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">?</span><span class="nx">b_</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">),</span><span class="nx">b_</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">ajaxSettings</span><span class="o">:</span><span class="p">{</span><span class="nx">url</span><span class="o">:</span><span class="nx">bV</span><span class="p">,</span><span class="nx">isLocal</span><span class="o">:</span><span class="nx">bJ</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">bW</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">global</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">contentType</span><span class="o">:</span><span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">,</span><span class="nx">processData</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">async</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">accepts</span><span class="o">:</span><span class="p">{</span><span class="nx">xml</span><span class="o">:</span><span class="s2">&quot;application/xml, text/xml&quot;</span><span class="p">,</span><span class="nx">html</span><span class="o">:</span><span class="s2">&quot;text/html&quot;</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="s2">&quot;text/plain&quot;</span><span class="p">,</span><span class="nx">json</span><span class="o">:</span><span class="s2">&quot;application/json, text/javascript&quot;</span><span class="p">,</span><span class="s2">&quot;*&quot;</span><span class="o">:</span><span class="nx">bX</span><span class="p">},</span><span class="nx">contents</span><span class="o">:</span><span class="p">{</span><span class="nx">xml</span><span class="o">:</span><span class="sr">/xml/</span><span class="p">,</span><span class="nx">html</span><span class="o">:</span><span class="sr">/html/</span><span class="p">,</span><span class="nx">json</span><span class="o">:</span><span class="sr">/json/</span><span class="p">},</span><span class="nx">responseFields</span><span class="o">:</span><span class="p">{</span><span class="nx">xml</span><span class="o">:</span><span class="s2">&quot;responseXML&quot;</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="s2">&quot;responseText&quot;</span><span class="p">},</span><span class="nx">converters</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;* text&quot;</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nb">String</span><span class="p">,</span><span class="s2">&quot;text html&quot;</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;text json&quot;</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">parseJSON</span><span class="p">,</span><span class="s2">&quot;text xml&quot;</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">parseXML</span><span class="p">},</span><span class="nx">flatOptions</span><span class="o">:</span><span class="p">{</span><span class="nx">context</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">url</span><span class="o">:!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">ajaxPrefilter</span><span class="o">:</span><span class="nx">bZ</span><span class="p">(</span><span class="nx">bT</span><span class="p">),</span><span class="nx">ajaxTransport</span><span class="o">:</span><span class="nx">bZ</span><span class="p">(</span><span class="nx">bU</span><span class="p">),</span><span class="nx">ajax</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">function</span> <span class="nx">w</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">!==</span><span class="mi">2</span><span class="p">){</span><span class="nx">s</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">q</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">m</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">v</span><span class="p">.</span><span class="nx">readyState</span><span class="o">=</span><span class="nx">a</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="mi">4</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">l</span><span class="o">?</span><span class="nx">cb</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">l</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&gt;=</span><span class="mi">200</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">300</span><span class="o">||</span><span class="nx">a</span><span class="o">===</span><span class="mi">304</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">ifModified</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">y</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span><span class="s2">&quot;Last-Modified&quot;</span><span class="p">)){</span><span class="nx">f</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">=</span><span class="nx">y</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">z</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span><span class="s2">&quot;Etag&quot;</span><span class="p">)){</span><span class="nx">f</span><span class="p">.</span><span class="nx">etag</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">=</span><span class="nx">z</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="mi">304</span><span class="p">){</span><span class="nx">w</span><span class="o">=</span><span class="s2">&quot;notmodified&quot;</span><span class="p">,</span><span class="nx">o</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">try</span><span class="p">{</span><span class="nx">r</span><span class="o">=</span><span class="nx">cc</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">),</span><span class="nx">w</span><span class="o">=</span><span class="s2">&quot;success&quot;</span><span class="p">,</span><span class="nx">o</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">A</span><span class="p">){</span><span class="nx">w</span><span class="o">=</span><span class="s2">&quot;parsererror&quot;</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="nx">A</span><span class="p">}}}</span><span class="k">else</span><span class="p">{</span><span class="nx">u</span><span class="o">=</span><span class="nx">w</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">w</span><span class="o">||</span><span class="nx">a</span><span class="p">){</span><span class="nx">w</span><span class="o">=</span><span class="s2">&quot;error&quot;</span><span class="p">,</span><span class="nx">a</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">)}}</span><span class="nx">v</span><span class="p">.</span><span class="nx">status</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">v</span><span class="p">.</span><span class="nx">statusText</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">c</span><span class="o">||</span><span class="nx">w</span><span class="p">),</span><span class="nx">o</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">resolveWith</span><span class="p">(</span><span class="nx">e</span><span class="p">,[</span><span class="nx">r</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">v</span><span class="p">])</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">rejectWith</span><span class="p">(</span><span class="nx">e</span><span class="p">,[</span><span class="nx">v</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">u</span><span class="p">]),</span><span class="nx">v</span><span class="p">.</span><span class="nx">statusCode</span><span class="p">(</span><span class="nx">j</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ajax&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">o</span><span class="o">?</span><span class="s2">&quot;Success&quot;</span><span class="o">:</span><span class="s2">&quot;Error&quot;</span><span class="p">),[</span><span class="nx">v</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">o</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="nx">u</span><span class="p">]),</span><span class="nx">i</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span><span class="nx">e</span><span class="p">,[</span><span class="nx">v</span><span class="p">,</span><span class="nx">w</span><span class="p">]),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ajaxComplete&quot;</span><span class="p">,[</span><span class="nx">v</span><span class="p">,</span><span class="nx">d</span><span class="p">]),</span><span class="o">--</span><span class="nx">f</span><span class="p">.</span><span class="nx">active</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ajaxStop&quot;</span><span class="p">))}}</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="o">||</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({},</span><span class="nx">c</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">context</span><span class="o">||</span><span class="nx">d</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="o">!==</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">||</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">f</span><span class="p">)</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">(),</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">statusCode</span><span class="o">||</span><span class="p">{},</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="p">{},</span><span class="nx">m</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="p">{</span><span class="nx">readyState</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">setRequestHeader</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="nx">a</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="nx">a</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">getAllResponseHeaders</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">s</span><span class="o">===</span><span class="mi">2</span><span class="o">?</span><span class="nx">n</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">getResponseHeader</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">===</span><span class="mi">2</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">o</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="p">{};</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">bH</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">n</span><span class="p">)){</span><span class="nx">o</span><span class="p">[</span><span class="nx">c</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]}}</span><span class="nx">c</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]}</span><span class="k">return</span> <span class="nx">c</span><span class="o">===</span><span class="nx">b</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">c</span><span class="p">},</span><span class="nx">overrideMimeType</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">s</span><span class="o">||</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">mimeType</span><span class="o">=</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">abort</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="s2">&quot;abort&quot;</span><span class="p">,</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">abort</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">w</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">}};</span><span class="nx">h</span><span class="p">.</span><span class="nx">promise</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span><span class="nx">v</span><span class="p">.</span><span class="nx">success</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">done</span><span class="p">,</span><span class="nx">v</span><span class="p">.</span><span class="nx">error</span><span class="o">=</span><span class="nx">v</span><span class="p">.</span><span class="nx">fail</span><span class="p">,</span><span class="nx">v</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">add</span><span class="p">,</span><span class="nx">v</span><span class="p">.</span><span class="nx">statusCode</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">j</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">j</span><span class="p">[</span><span class="nx">b</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="nx">b</span><span class="p">]]}}</span><span class="k">else</span><span class="p">{</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">v</span><span class="p">.</span><span class="nx">status</span><span class="p">],</span><span class="nx">v</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">b</span><span class="p">)}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="o">=</span><span class="p">((</span><span class="nx">a</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bG</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bL</span><span class="p">,</span><span class="nx">bW</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;//&quot;</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">dataTypes</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">dataType</span><span class="o">||</span><span class="s2">&quot;*&quot;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="nx">bP</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">crossDomain</span><span class="o">==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">bR</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()),</span><span class="nx">d</span><span class="p">.</span><span class="nx">crossDomain</span><span class="o">=!</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="o">||</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="nx">bW</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">==</span><span class="nx">bW</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;http:&quot;</span><span class="o">?</span><span class="mi">80</span><span class="o">:</span><span class="mi">443</span><span class="p">))</span><span class="o">==</span><span class="p">(</span><span class="nx">bW</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">bW</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;http:&quot;</span><span class="o">?</span><span class="mi">80</span><span class="o">:</span><span class="mi">443</span><span class="p">)))),</span><span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">processData</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">traditional</span><span class="p">)),</span><span class="nx">b$</span><span class="p">(</span><span class="nx">bT</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">v</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">===</span><span class="mi">2</span><span class="p">){</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">t</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">global</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">(),</span><span class="nx">d</span><span class="p">.</span><span class="nx">hasContent</span><span class="o">=!</span><span class="nx">bK</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">type</span><span class="p">),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">active</span><span class="o">++===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ajaxStart&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">hasContent</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="o">+=</span><span class="p">(</span><span class="nx">bM</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;&amp;&quot;</span><span class="o">:</span><span class="s2">&quot;?&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span><span class="k">delete</span> <span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">cache</span><span class="o">===!</span><span class="mi">1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span><span class="nx">y</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bQ</span><span class="p">,</span><span class="s2">&quot;$1_=&quot;</span><span class="o">+</span><span class="nx">x</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="o">=</span><span class="nx">y</span><span class="o">+</span><span class="p">(</span><span class="nx">y</span><span class="o">===</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="o">?</span><span class="p">(</span><span class="nx">bM</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;&amp;&quot;</span><span class="o">:</span><span class="s2">&quot;?&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;_=&quot;</span><span class="o">+</span><span class="nx">x</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)}}(</span><span class="nx">d</span><span class="p">.</span><span class="nx">data</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">hasContent</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">contentType</span><span class="o">!==!</span><span class="mi">1</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">contentType</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">contentType</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">ifModified</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">k</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;If-Modified-Since&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">[</span><span class="nx">k</span><span class="p">]),</span><span class="nx">f</span><span class="p">.</span><span class="nx">etag</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;If-None-Match&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">etag</span><span class="p">[</span><span class="nx">k</span><span class="p">])),</span><span class="nx">v</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;Accept&quot;</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">accepts</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">accepts</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">+</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!==</span><span class="s2">&quot;*&quot;</span><span class="o">?</span><span class="s2">&quot;, &quot;</span><span class="o">+</span><span class="nx">bX</span><span class="o">+</span><span class="s2">&quot;; q=0.01&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">accepts</span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]);</span><span class="k">for</span><span class="p">(</span><span class="nx">u</span> <span class="k">in</span> <span class="nx">d</span><span class="p">.</span><span class="nx">headers</span><span class="p">){</span><span class="nx">v</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">u</span><span class="p">])}</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">beforeSend</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">beforeSend</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">d</span><span class="p">)</span><span class="o">===!</span><span class="mi">1</span><span class="o">||</span><span class="nx">s</span><span class="o">===</span><span class="mi">2</span><span class="p">)){</span><span class="nx">v</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="nx">u</span> <span class="k">in</span> <span class="p">{</span><span class="nx">success</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">complete</span><span class="o">:</span><span class="mi">1</span><span class="p">}){</span><span class="nx">v</span><span class="p">[</span><span class="nx">u</span><span class="p">](</span><span class="nx">d</span><span class="p">[</span><span class="nx">u</span><span class="p">])}</span><span class="nx">p</span><span class="o">=</span><span class="nx">b$</span><span class="p">(</span><span class="nx">bU</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">v</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">p</span><span class="p">){</span><span class="nx">w</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;No Transport&quot;</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">v</span><span class="p">.</span><span class="nx">readyState</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ajaxSend&quot;</span><span class="p">,[</span><span class="nx">v</span><span class="p">,</span><span class="nx">d</span><span class="p">]),</span><span class="nx">d</span><span class="p">.</span><span class="nx">async</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">timeout</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">v</span><span class="p">.</span><span class="nx">abort</span><span class="p">(</span><span class="s2">&quot;timeout&quot;</span><span class="p">)},</span><span class="nx">d</span><span class="p">.</span><span class="nx">timeout</span><span class="p">));</span><span class="k">try</span><span class="p">{</span><span class="nx">s</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">w</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">z</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">){</span><span class="nx">w</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">z</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">throw</span> <span class="nx">z</span><span class="p">}}}</span><span class="k">return</span> <span class="nx">v</span><span class="p">},</span><span class="nx">param</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="p">[],</span><span class="nx">e</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">?</span><span class="nx">b</span><span class="p">()</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span><span class="o">=</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;=&quot;</span><span class="o">+</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">b</span><span class="p">)};</span><span class="nx">c</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">traditional</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">jquery</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">)})}</span><span class="k">else</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">g</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">ca</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">)}}</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">bD</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">active</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">lastModified</span><span class="o">:</span><span class="p">{},</span><span class="nx">etag</span><span class="o">:</span><span class="p">{}});</span><span class="kd">var</span> <span class="nx">cd</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span><span class="nx">ce</span><span class="o">=</span><span class="sr">/(\=)\?(&amp;|$)|\?\?/i</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({</span><span class="nx">jsonp</span><span class="o">:</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span><span class="nx">jsonpCallback</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">expando</span><span class="o">+</span><span class="s2">&quot;_&quot;</span><span class="o">+</span><span class="nx">cd</span><span class="o">++</span><span class="p">}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxPrefilter</span><span class="p">(</span><span class="s2">&quot;json jsonp&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">contentType</span><span class="o">===</span><span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;jsonp&quot;</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonp</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">ce</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span><span class="o">||</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">ce</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">))){</span><span class="kd">var</span> <span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="p">)</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="p">()</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonpCallback</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">j</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;$1&quot;</span><span class="o">+</span><span class="nx">h</span><span class="o">+</span><span class="s2">&quot;$2&quot;</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonp</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">ce</span><span class="p">,</span><span class="nx">l</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">url</span><span class="o">===</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">ce</span><span class="p">,</span><span class="nx">l</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="o">===</span><span class="nx">k</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">+=</span><span class="p">(</span><span class="sr">/\?/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;&amp;&quot;</span><span class="o">:</span><span class="s2">&quot;?&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">jsonp</span><span class="o">+</span><span class="s2">&quot;=&quot;</span><span class="o">+</span><span class="nx">h</span><span class="p">))),</span><span class="nx">b</span><span class="p">.</span><span class="nx">url</span><span class="o">=</span><span class="nx">j</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="p">[</span><span class="nx">a</span><span class="p">]},</span><span class="nx">d</span><span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">](</span><span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">])}),</span><span class="nx">b</span><span class="p">.</span><span class="nx">converters</span><span class="p">[</span><span class="s2">&quot;script json&quot;</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">h</span><span class="o">+</span><span class="s2">&quot; was not called&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]},</span><span class="nx">b</span><span class="p">.</span><span class="nx">dataTypes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">;</span><span class="k">return</span><span class="s2">&quot;script&quot;</span><span class="p">}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({</span><span class="nx">accepts</span><span class="o">:</span><span class="p">{</span><span class="nx">script</span><span class="o">:</span><span class="s2">&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;</span><span class="p">},</span><span class="nx">contents</span><span class="o">:</span><span class="p">{</span><span class="nx">script</span><span class="o">:</span><span class="sr">/javascript|ecmascript/</span><span class="p">},</span><span class="nx">converters</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;text script&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">globalEval</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxPrefilter</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">cache</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">cache</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">crossDomain</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">global</span><span class="o">=!</span><span class="mi">1</span><span class="p">)}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxTransport</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">crossDomain</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">head</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">send</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="s2">&quot;async&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">scriptCharset</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">charset</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">scriptCharset</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">onreadystatechange</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">||!</span><span class="nx">d</span><span class="p">.</span><span class="nx">readyState</span><span class="o">||</span><span class="sr">/loaded|complete/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">readyState</span><span class="p">)){</span><span class="nx">d</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">onreadystatechange</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="o">||</span><span class="nx">g</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="s2">&quot;success&quot;</span><span class="p">)}},</span><span class="nx">e</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)},</span><span class="nx">abort</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">onload</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)}}}});</span><span class="kd">var</span> <span class="nx">cf</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">ActiveXObject</span><span class="o">?</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span> <span class="k">in</span> <span class="nx">ch</span><span class="p">){</span><span class="nx">ch</span><span class="p">[</span><span class="nx">a</span><span class="p">](</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)}}</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">cg</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">ch</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">xhr</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">ActiveXObject</span><span class="o">?</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isLocal</span><span class="o">&amp;&amp;</span><span class="nx">ci</span><span class="p">()</span><span class="o">||</span><span class="nx">cj</span><span class="p">()}</span><span class="o">:</span><span class="nx">ci</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">,{</span><span class="nx">ajax</span><span class="o">:!!</span><span class="nx">a</span><span class="p">,</span><span class="nx">cors</span><span class="o">:!!</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">&quot;withCredentials&quot;</span> <span class="k">in</span> <span class="nx">a</span><span class="p">})}(</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxSettings</span><span class="p">.</span><span class="nx">xhr</span><span class="p">()),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">ajax</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">ajaxTransport</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">crossDomain</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cors</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">send</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">xhr</span><span class="p">(),</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">username</span><span class="o">?</span><span class="nx">h</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">async</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">password</span><span class="p">)</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">async</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">xhrFields</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span> <span class="k">in</span> <span class="nx">c</span><span class="p">.</span><span class="nx">xhrFields</span><span class="p">){</span><span class="nx">h</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">xhrFields</span><span class="p">[</span><span class="nx">j</span><span class="p">]}}</span><span class="nx">c</span><span class="p">.</span><span class="nx">mimeType</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">overrideMimeType</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">overrideMimeType</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">mimeType</span><span class="p">),</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">crossDomain</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="p">[</span><span class="s2">&quot;X-Requested-With&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="s2">&quot;X-Requested-With&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;XMLHttpRequest&quot;</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="k">for</span><span class="p">(</span><span class="nx">j</span> <span class="k">in</span> <span class="nx">e</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="nx">j</span><span class="p">])}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">k</span><span class="p">){}</span><span class="nx">h</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">hasContent</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">data</span><span class="o">||</span><span class="kc">null</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">readyState</span><span class="o">===</span><span class="mi">4</span><span class="p">)){</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">onreadystatechange</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">noop</span><span class="p">,</span><span class="nx">cf</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">ch</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">readyState</span><span class="o">!==</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">abort</span><span class="p">()}</span><span class="k">else</span><span class="p">{</span><span class="nx">j</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">(),</span><span class="nx">m</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">responseXML</span><span class="p">,</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">documentElement</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">xml</span><span class="o">=</span><span class="nx">n</span><span class="p">),</span><span class="nx">m</span><span class="p">.</span><span class="nx">text</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">k</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">statusText</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">}</span><span class="o">!</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">isLocal</span><span class="o">&amp;&amp;!</span><span class="nx">c</span><span class="p">.</span><span class="nx">crossDomain</span><span class="o">?</span><span class="nx">j</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">text</span><span class="o">?</span><span class="mi">200</span><span class="o">:</span><span class="mi">404</span><span class="o">:</span><span class="nx">j</span><span class="o">===</span><span class="mi">1223</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="mi">204</span><span class="p">)}}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">p</span><span class="p">){</span><span class="nx">e</span><span class="o">||</span><span class="nx">g</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">p</span><span class="p">)}</span><span class="nx">m</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">l</span><span class="p">)},</span><span class="o">!</span><span class="nx">c</span><span class="p">.</span><span class="nx">async</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">readyState</span><span class="o">===</span><span class="mi">4</span><span class="o">?</span><span class="nx">d</span><span class="p">()</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="o">=++</span><span class="nx">cg</span><span class="p">,</span><span class="nx">cf</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">ch</span><span class="o">||</span><span class="p">(</span><span class="nx">ch</span><span class="o">=</span><span class="p">{},</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">unload</span><span class="p">(</span><span class="nx">cf</span><span class="p">)),</span><span class="nx">ch</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">onreadystatechange</span><span class="o">=</span><span class="nx">d</span><span class="p">)},</span><span class="nx">abort</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)}}}});</span><span class="kd">var</span> <span class="nx">ck</span><span class="o">=</span><span class="p">{},</span><span class="nx">cl</span><span class="p">,</span><span class="nx">cm</span><span class="p">,</span><span class="nx">cn</span><span class="o">=</span><span class="sr">/^(?:toggle|show|hide)$/</span><span class="p">,</span><span class="nx">co</span><span class="o">=</span><span class="sr">/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i</span><span class="p">,</span><span class="nx">cp</span><span class="p">,</span><span class="nx">cq</span><span class="o">=</span><span class="p">[[</span><span class="s2">&quot;height&quot;</span><span class="p">,</span><span class="s2">&quot;marginTop&quot;</span><span class="p">,</span><span class="s2">&quot;marginBottom&quot;</span><span class="p">,</span><span class="s2">&quot;paddingTop&quot;</span><span class="p">,</span><span class="s2">&quot;paddingBottom&quot;</span><span class="p">],[</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="s2">&quot;marginLeft&quot;</span><span class="p">,</span><span class="s2">&quot;marginRight&quot;</span><span class="p">,</span><span class="s2">&quot;paddingLeft&quot;</span><span class="p">,</span><span class="s2">&quot;paddingRight&quot;</span><span class="p">],[</span><span class="s2">&quot;opacity&quot;</span><span class="p">]],</span><span class="nx">cr</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">show</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="nx">a</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="nx">cu</span><span class="p">(</span><span class="s2">&quot;show&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="p">,</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;olddisplay&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;display&quot;</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;olddisplay&quot;</span><span class="p">,</span><span class="nx">cv</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)))}</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;none&quot;</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;olddisplay&quot;</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">}}}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">hide</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="nx">a</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="nx">cu</span><span class="p">(</span><span class="s2">&quot;hide&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">d</span><span class="p">.</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;display&quot;</span><span class="p">),</span><span class="nx">e</span><span class="o">!==</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;olddisplay&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;olddisplay&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">))}</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">g</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">g</span><span class="o">++</span><span class="p">){</span><span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">_toggle</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">toggle</span><span class="p">,</span><span class="nx">toggle</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;boolean&quot;</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_toggle</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">d</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s2">&quot;:hidden&quot;</span><span class="p">);</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">)[</span><span class="nx">b</span><span class="o">?</span><span class="s2">&quot;show&quot;</span><span class="o">:</span><span class="s2">&quot;hide&quot;</span><span class="p">]()})</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="nx">cu</span><span class="p">(</span><span class="s2">&quot;toggle&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">fadeTo</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;:hidden&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">).</span><span class="nx">show</span><span class="p">().</span><span class="nx">end</span><span class="p">().</span><span class="nx">animate</span><span class="p">({</span><span class="nx">opacity</span><span class="o">:</span><span class="nx">b</span><span class="p">},</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="nx">animate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">function</span> <span class="nx">g</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">queue</span><span class="o">===!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_mark</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">e</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s2">&quot;:hidden&quot;</span><span class="p">),</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">camelCase</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">i</span><span class="o">!==</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="k">delete</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]),</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">f</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">specialEasing</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">specialEasing</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">||</span><span class="nx">b</span><span class="p">.</span><span class="nx">easing</span><span class="o">||</span><span class="s2">&quot;swing&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;hide&quot;</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">||</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;show&quot;</span><span class="o">&amp;&amp;!</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">complete</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">===</span><span class="s2">&quot;height&quot;</span><span class="o">||</span><span class="nx">g</span><span class="o">===</span><span class="s2">&quot;width&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">overflow</span><span class="o">=</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflowX</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflowY</span><span class="p">],</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;display&quot;</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;inline&quot;</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;float&quot;</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;none&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">inlineBlockNeedsLayout</span><span class="o">||</span><span class="nx">cv</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;inline&quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;inline-block&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zoom</span><span class="o">=</span><span class="mi">1</span><span class="p">))}</span><span class="nx">b</span><span class="p">.</span><span class="nx">overflow</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">a</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="k">new</span> <span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">cn</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;toggle&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;toggle&quot;</span><span class="o">?</span><span class="nx">d</span><span class="o">?</span><span class="s2">&quot;show&quot;</span><span class="o">:</span><span class="s2">&quot;hide&quot;</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">o</span><span class="o">?</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;toggle&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="o">===</span><span class="s2">&quot;show&quot;</span><span class="o">?</span><span class="s2">&quot;hide&quot;</span><span class="o">:</span><span class="s2">&quot;show&quot;</span><span class="p">),</span><span class="nx">j</span><span class="p">[</span><span class="nx">o</span><span class="p">]())</span><span class="o">:</span><span class="nx">j</span><span class="p">[</span><span class="nx">h</span><span class="p">]())</span><span class="o">:</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">co</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="nx">j</span><span class="p">.</span><span class="nx">cur</span><span class="p">(),</span><span class="nx">k</span><span class="o">?</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span><span class="nx">n</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">n</span><span class="o">!==</span><span class="s2">&quot;px&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">,(</span><span class="nx">m</span><span class="o">||</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="nx">n</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="p">(</span><span class="nx">m</span><span class="o">||</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="nx">j</span><span class="p">.</span><span class="nx">cur</span><span class="p">()</span><span class="o">*</span><span class="nx">l</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">l</span><span class="o">+</span><span class="nx">n</span><span class="p">)),</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="p">(</span><span class="nx">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;-=&quot;</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">m</span><span class="o">+</span><span class="nx">l</span><span class="p">),</span><span class="nx">j</span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">))</span><span class="o">:</span><span class="nx">j</span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">))}</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">speed</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">complete</span><span class="p">,[</span><span class="o">!</span><span class="mi">1</span><span class="p">])}</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">queue</span><span class="o">===!</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">queue</span><span class="p">,</span><span class="nx">g</span><span class="p">)},</span><span class="nx">stop</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">!=</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">),</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="s2">&quot;fx&quot;</span><span class="p">,[]);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">h</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span><span class="nx">d</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">timers</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">d</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">_unmark</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">g</span><span class="p">){</span><span class="nx">g</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">stop</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;.run&quot;</span><span class="p">)</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="nx">g</span><span class="p">[</span><span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;.run&quot;</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">stop</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">b</span><span class="o">--</span><span class="p">;){</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">elem</span><span class="o">===</span><span class="k">this</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">queue</span><span class="o">===</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">?</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">](</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">saveState</span><span class="p">(),</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="mi">1</span><span class="p">))}(</span><span class="o">!</span><span class="nx">d</span><span class="o">||!</span><span class="nx">c</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">)})}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">({</span><span class="nx">slideDown</span><span class="o">:</span><span class="nx">cu</span><span class="p">(</span><span class="s2">&quot;show&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">slideUp</span><span class="o">:</span><span class="nx">cu</span><span class="p">(</span><span class="s2">&quot;hide&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">slideToggle</span><span class="o">:</span><span class="nx">cu</span><span class="p">(</span><span class="s2">&quot;toggle&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">fadeIn</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="s2">&quot;show&quot;</span><span class="p">},</span><span class="nx">fadeOut</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="s2">&quot;hide&quot;</span><span class="p">},</span><span class="nx">fadeToggle</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="s2">&quot;toggle&quot;</span><span class="p">}},</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">speed</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="p">{</span><span class="nx">complete</span><span class="o">:</span><span class="nx">c</span><span class="o">||!</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">,</span><span class="nx">duration</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">easing</span><span class="o">:</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">||</span><span class="nx">b</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">};</span><span class="nx">d</span><span class="p">.</span><span class="nx">duration</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">off</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">d</span><span class="p">.</span><span class="nx">duration</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">duration</span><span class="o">:</span><span class="nx">d</span><span class="p">.</span><span class="nx">duration</span> <span class="k">in</span> <span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">duration</span><span class="p">]</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">speeds</span><span class="p">.</span><span class="nx">_default</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">queue</span><span class="o">==</span><span class="kc">null</span><span class="o">||</span><span class="nx">d</span><span class="p">.</span><span class="nx">queue</span><span class="o">===!</span><span class="mi">0</span><span class="p">){</span><span class="nx">d</span><span class="p">.</span><span class="nx">queue</span><span class="o">=</span><span class="s2">&quot;fx&quot;</span><span class="p">}</span><span class="nx">d</span><span class="p">.</span><span class="nx">old</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">complete</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">old</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">old</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">queue</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">queue</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="o">!==!</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_unmark</span><span class="p">(</span><span class="k">this</span><span class="p">)};</span><span class="k">return</span> <span class="nx">d</span><span class="p">},</span><span class="nx">easing</span><span class="o">:</span><span class="p">{</span><span class="nx">linear</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span> <span class="nx">c</span><span class="o">+</span><span class="nx">d</span><span class="o">*</span><span class="nx">a</span><span class="p">},</span><span class="nx">swing</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="nx">c</span><span class="p">}},</span><span class="nx">timers</span><span class="o">:</span><span class="p">[],</span><span class="nx">fx</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">orig</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">orig</span><span class="o">||</span><span class="p">{}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">update</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">step</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">step</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">now</span><span class="p">,</span><span class="k">this</span><span class="p">),(</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">.</span><span class="nx">_default</span><span class="p">)(</span><span class="k">this</span><span class="p">)},</span><span class="nx">cur</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">==</span><span class="kc">null</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]}</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">);</span><span class="k">return</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span><span class="o">?!</span><span class="nx">b</span><span class="o">||</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;auto&quot;</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">b</span><span class="o">:</span><span class="nx">a</span><span class="p">},</span><span class="nx">custom</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">function</span> <span class="nx">h</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">step</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">startTime</span><span class="o">=</span><span class="nx">cr</span><span class="o">||</span><span class="nx">cs</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">now</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pos</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">unit</span><span class="o">=</span><span class="nx">d</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">unit</span><span class="o">||</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;px&quot;</span><span class="p">),</span><span class="nx">h</span><span class="p">.</span><span class="nx">queue</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">queue</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">elem</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">saveState</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hide</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="s2">&quot;fxshow&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">prop</span><span class="p">)</span><span class="o">===</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="s2">&quot;fxshow&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">prop</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">start</span><span class="p">)},</span><span class="nx">h</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">timers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="nx">cp</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">cp</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">tick</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">interval</span><span class="p">))},</span><span class="nx">show</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="s2">&quot;fxshow&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">orig</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">show</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="o">!==</span><span class="nx">b</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cur</span><span class="p">(),</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="o">===</span><span class="s2">&quot;width&quot;</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="o">===</span><span class="s2">&quot;height&quot;</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">cur</span><span class="p">()),</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">).</span><span class="nx">show</span><span class="p">()},</span><span class="nx">hide</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">orig</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">_data</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="s2">&quot;fxshow&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">)</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hide</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">custom</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cur</span><span class="p">(),</span><span class="mi">0</span><span class="p">)},</span><span class="nx">step</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">cr</span><span class="o">||</span><span class="nx">cs</span><span class="p">(),</span><span class="nx">g</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">||</span><span class="nx">e</span><span class="o">&gt;=</span><span class="nx">i</span><span class="p">.</span><span class="nx">duration</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">startTime</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">now</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pos</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">i</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">!==!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=!</span><span class="mi">1</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">overflow</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">shrinkWrapBlocks</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;X&quot;</span><span class="p">,</span><span class="s2">&quot;Y&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="s2">&quot;overflow&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">overflow</span><span class="p">[</span><span class="nx">a</span><span class="p">]}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">hide</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">(</span><span class="nx">h</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">hide</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">show</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">i</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">orig</span><span class="p">[</span><span class="nx">b</span><span class="p">]),</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="s2">&quot;fxshow&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="s2">&quot;toggle&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}}</span><span class="nx">d</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">complete</span><span class="p">,</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">complete</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">h</span><span class="p">))}</span><span class="k">return</span> <span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">i</span><span class="p">.</span><span class="nx">duration</span><span class="o">==</span><span class="kc">Infinity</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">now</span><span class="o">=</span><span class="nx">e</span><span class="o">:</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">e</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">startTime</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="nx">c</span><span class="o">/</span><span class="nx">i</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pos</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">easing</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">animatedProperties</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">]](</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">duration</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">now</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">pos</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span><span class="k">return</span> <span class="o">!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">f</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">,{</span><span class="nx">tick</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">timers</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="o">!</span><span class="nx">a</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">===</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">c</span><span class="o">--</span><span class="p">,</span><span class="mi">1</span><span class="p">)}</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">stop</span><span class="p">()},</span><span class="nx">interval</span><span class="o">:</span><span class="mi">13</span><span class="p">,</span><span class="nx">stop</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">cp</span><span class="p">),</span><span class="nx">cp</span><span class="o">=</span><span class="kc">null</span><span class="p">},</span><span class="nx">speeds</span><span class="o">:</span><span class="p">{</span><span class="nx">slow</span><span class="o">:</span><span class="mi">600</span><span class="p">,</span><span class="nx">fast</span><span class="o">:</span><span class="mi">200</span><span class="p">,</span><span class="nx">_default</span><span class="o">:</span><span class="mi">400</span><span class="p">},</span><span class="nx">step</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">now</span><span class="p">)},</span><span class="nx">_default</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">now</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">unit</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">now</span><span class="p">}}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="s2">&quot;height&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">now</span><span class="p">)</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">unit</span><span class="p">)}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">expr</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">animated</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">grep</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">timers</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">elem</span><span class="p">}).</span><span class="nx">length</span><span class="p">});</span><span class="kd">var</span> <span class="nx">cw</span><span class="o">=</span><span class="sr">/^t(?:able|d|h)$/i</span><span class="p">,</span><span class="nx">cx</span><span class="o">=</span><span class="sr">/^(?:body|html)$/i</span><span class="p">;</span><span class="s2">&quot;getBoundingClientRect&quot;</span> <span class="k">in</span> <span class="nx">c</span><span class="p">.</span><span class="nx">documentElement</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">setOffset</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">body</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">bodyOffset</span><span class="p">(</span><span class="nx">b</span><span class="p">)}</span><span class="k">try</span><span class="p">{</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">()}</span><span class="k">catch</span><span class="p">(</span><span class="nx">d</span><span class="p">){}</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="o">||!</span><span class="nx">f</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">)){</span><span class="k">return</span> <span class="nx">c</span><span class="o">?</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">left</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="mi">0</span><span class="p">}}</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">cy</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageYOffset</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">boxModel</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageXOffset</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">boxModel</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nx">l</span><span class="o">-</span><span class="nx">j</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nx">m</span><span class="o">-</span><span class="nx">k</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="nx">n</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">o</span><span class="p">}}</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">setOffset</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="o">||!</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">.</span><span class="nx">body</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">bodyOffset</span><span class="p">(</span><span class="nx">b</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">ownerDocument</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="nx">j</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">defaultView</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">j</span><span class="o">?</span><span class="nx">j</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kc">null</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span><span class="k">while</span><span class="p">((</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">!==</span><span class="nx">h</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">fixedPosition</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">.</span><span class="nx">position</span><span class="o">===</span><span class="s2">&quot;fixed&quot;</span><span class="p">){</span><span class="k">break</span><span class="p">}</span><span class="nx">c</span><span class="o">=</span><span class="nx">j</span><span class="o">?</span><span class="nx">j</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="kc">null</span><span class="p">)</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">,</span><span class="nx">l</span><span class="o">-=</span><span class="nx">b</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">m</span><span class="o">-=</span><span class="nx">b</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">,</span><span class="nx">b</span><span class="o">===</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">+=</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">,</span><span class="nx">m</span><span class="o">+=</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">doesNotAddBorder</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">doesAddBorderForTableAndCells</span><span class="o">||!</span><span class="nx">cw</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">borderTopWidth</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">borderLeftWidth</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">subtractsBorderForOverflowNotVisible</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">overflow</span><span class="o">!==</span><span class="s2">&quot;visible&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">borderTopWidth</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">borderLeftWidth</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">position</span><span class="o">===</span><span class="s2">&quot;relative&quot;</span><span class="o">||</span><span class="nx">k</span><span class="p">.</span><span class="nx">position</span><span class="o">===</span><span class="s2">&quot;static&quot;</span><span class="p">){</span><span class="nx">l</span><span class="o">+=</span><span class="nx">i</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">,</span><span class="nx">m</span><span class="o">+=</span><span class="nx">i</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">}</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">fixedPosition</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">.</span><span class="nx">position</span><span class="o">===</span><span class="s2">&quot;fixed&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">+=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">),</span><span class="nx">m</span><span class="o">+=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">));</span><span class="k">return</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">m</span><span class="p">}},</span><span class="nx">f</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="p">{</span><span class="nx">bodyOffset</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">doesNotIncludeMarginInBodyOffset</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;marginTop&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;marginLeft&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">c</span><span class="p">}},</span><span class="nx">setOffset</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;position&quot;</span><span class="p">);</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;static&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">&quot;relative&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="p">(),</span><span class="nx">h</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;top&quot;</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;left&quot;</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="p">(</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;absolute&quot;</span><span class="o">||</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;fixed&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">,[</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">])</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="p">{},</span><span class="nx">l</span><span class="o">=</span><span class="p">{},</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="nx">j</span><span class="o">?</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">position</span><span class="p">(),</span><span class="nx">m</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">m</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">),</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">g</span><span class="p">)),</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">g</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nx">m</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="o">!=</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">g</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nx">n</span><span class="p">),</span><span class="s2">&quot;using&quot;</span> <span class="k">in</span> <span class="nx">b</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">using</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">k</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">k</span><span class="p">)}},</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">position</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">(),</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="nx">cx</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">?</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="mi">0</span><span class="p">}</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">-=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;marginTop&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">left</span><span class="o">-=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;marginLeft&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">top</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">&quot;borderTopWidth&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">left</span><span class="o">+=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">&quot;borderLeftWidth&quot;</span><span class="p">))</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">d</span><span class="p">.</span><span class="nx">left</span><span class="p">}},</span><span class="nx">offsetParent</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">offsetParent</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;!</span><span class="nx">cx</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;position&quot;</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;static&quot;</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetParent</span><span class="p">}</span><span class="k">return</span> <span class="nx">a</span><span class="p">})}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;Left&quot;</span><span class="p">,</span><span class="s2">&quot;Top&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="s2">&quot;scroll&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">;</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="p">}</span><span class="nx">g</span><span class="o">=</span><span class="nx">cy</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">g</span><span class="o">?</span><span class="s2">&quot;pageXOffset&quot;</span> <span class="k">in</span> <span class="nx">g</span><span class="o">?</span><span class="nx">g</span><span class="p">[</span><span class="nx">a</span><span class="o">?</span><span class="s2">&quot;pageYOffset&quot;</span><span class="o">:</span><span class="s2">&quot;pageXOffset&quot;</span><span class="p">]</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">boxModel</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">||</span><span class="nx">g</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">:</span><span class="nx">e</span><span class="p">[</span><span class="nx">d</span><span class="p">]}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">g</span><span class="o">=</span><span class="nx">cy</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">g</span><span class="o">?</span><span class="nx">g</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="nx">a</span><span class="o">?</span><span class="nx">f</span><span class="p">(</span><span class="nx">g</span><span class="p">).</span><span class="nx">scrollLeft</span><span class="p">()</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">a</span><span class="o">?</span><span class="nx">c</span><span class="o">:</span><span class="nx">f</span><span class="p">(</span><span class="nx">g</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">())</span><span class="o">:</span><span class="k">this</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">})}}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">each</span><span class="p">([</span><span class="s2">&quot;Height&quot;</span><span class="p">,</span><span class="s2">&quot;Width&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="s2">&quot;inner&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">return</span> <span class="nx">a</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="o">?</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;padding&quot;</span><span class="p">))</span><span class="o">:</span><span class="k">this</span><span class="p">[</span><span class="nx">d</span><span class="p">]()</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="s2">&quot;outer&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">return</span> <span class="nx">b</span><span class="o">?</span><span class="nx">b</span><span class="p">.</span><span class="nx">style</span><span class="o">?</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="o">?</span><span class="s2">&quot;margin&quot;</span><span class="o">:</span><span class="s2">&quot;border&quot;</span><span class="p">))</span><span class="o">:</span><span class="k">this</span><span class="p">[</span><span class="nx">d</span><span class="p">]()</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">f</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="k">this</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">](</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">]()))})}</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span><span class="s2">&quot;client&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">compatMode</span><span class="o">===</span><span class="s2">&quot;CSS1Compat&quot;</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="o">||</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">[</span><span class="s2">&quot;client&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="nx">g</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeType</span><span class="o">===</span><span class="mi">9</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span><span class="s2">&quot;client&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="s2">&quot;scroll&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span><span class="s2">&quot;scroll&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">])}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">isNumeric</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span><span class="o">?</span><span class="nx">j</span><span class="o">:</span><span class="nx">i</span><span class="p">}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">)}}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">jQuery</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">$</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="k">typeof</span> <span class="nx">define</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="o">&amp;&amp;</span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">.</span><span class="nx">jQuery</span><span class="o">&amp;&amp;</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;jquery&quot;</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">f</span><span class="p">})})(</span><span class="nb">window</span><span class="p">);</span>
<span class="cm">/*!</span>
<span class="cm">Math.uuid.js (v1.4)</span>
<span class="cm">http://www.broofa.com</span>
<span class="cm">mailto:robert@broofa.com</span>

<span class="cm">Copyright (c) 2010 Robert Kieffer</span>
<span class="cm">Dual licensed under the MIT and GPL licenses.</span>
<span class="cm">*/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">CHARS</span><span class="o">=</span><span class="s2">&quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuid</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span><span class="nx">radix</span><span class="p">){</span><span class="kd">var</span> <span class="nx">chars</span><span class="o">=</span><span class="nx">CHARS</span><span class="p">,</span><span class="nx">uuid</span><span class="o">=</span><span class="p">[];</span><span class="nx">radix</span><span class="o">=</span><span class="nx">radix</span><span class="o">||</span><span class="nx">chars</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">len</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">len</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">uuid</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">chars</span><span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">radix</span><span class="p">]}}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">r</span><span class="p">;</span><span class="nx">uuid</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">=</span><span class="nx">uuid</span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="o">=</span><span class="nx">uuid</span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="o">=</span><span class="nx">uuid</span><span class="p">[</span><span class="mi">23</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">;</span><span class="nx">uuid</span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;4&quot;</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">36</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">uuid</span><span class="p">[</span><span class="nx">i</span><span class="p">]){</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">16</span><span class="p">;</span><span class="nx">uuid</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">chars</span><span class="p">[(</span><span class="nx">i</span><span class="o">==</span><span class="mi">19</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">r</span><span class="o">&amp;</span><span class="mi">3</span><span class="p">)</span><span class="o">|</span><span class="mi">8</span><span class="o">:</span><span class="nx">r</span><span class="p">]}}}</span><span class="k">return</span> <span class="nx">uuid</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)};</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuidFast</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">chars</span><span class="o">=</span><span class="nx">CHARS</span><span class="p">,</span><span class="nx">uuid</span><span class="o">=</span><span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">36</span><span class="p">),</span><span class="nx">rnd</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">36</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="mi">8</span><span class="o">||</span><span class="nx">i</span><span class="o">==</span><span class="mi">13</span><span class="o">||</span><span class="nx">i</span><span class="o">==</span><span class="mi">18</span><span class="o">||</span><span class="nx">i</span><span class="o">==</span><span class="mi">23</span><span class="p">){</span><span class="nx">uuid</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="mi">14</span><span class="p">){</span><span class="nx">uuid</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;4&quot;</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">rnd</span><span class="o">&lt;=</span><span class="mi">2</span><span class="p">){</span><span class="nx">rnd</span><span class="o">=</span><span class="mi">33554432</span><span class="o">+</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">16777216</span><span class="p">)</span><span class="o">|</span><span class="mi">0</span><span class="p">}</span><span class="nx">r</span><span class="o">=</span><span class="nx">rnd</span><span class="o">&amp;</span><span class="mi">15</span><span class="p">;</span><span class="nx">rnd</span><span class="o">=</span><span class="nx">rnd</span><span class="o">&gt;&gt;</span><span class="mi">4</span><span class="p">;</span><span class="nx">uuid</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">chars</span><span class="p">[(</span><span class="nx">i</span><span class="o">==</span><span class="mi">19</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">r</span><span class="o">&amp;</span><span class="mi">3</span><span class="p">)</span><span class="o">|</span><span class="mi">8</span><span class="o">:</span><span class="nx">r</span><span class="p">]}}}</span><span class="k">return</span> <span class="nx">uuid</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)};</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuidCompact</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[xy]/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">16</span><span class="o">|</span><span class="mi">0</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">c</span><span class="o">==</span><span class="s2">&quot;x&quot;</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="p">(</span><span class="nx">r</span><span class="o">&amp;</span><span class="mi">3</span><span class="o">|</span><span class="mi">8</span><span class="p">);</span><span class="k">return</span> <span class="nx">v</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)}).</span><span class="nx">toUpperCase</span><span class="p">()}})();</span><span class="kd">var</span> <span class="nx">Crypto</span><span class="o">=</span><span class="p">{};(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">Crypto</span><span class="p">.</span><span class="nx">MD5</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">string</span><span class="p">){</span><span class="kd">function</span> <span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">lValue</span><span class="p">,</span><span class="nx">iShiftBits</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">lValue</span><span class="o">&lt;&lt;</span><span class="nx">iShiftBits</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="nx">lValue</span><span class="o">&gt;&gt;&gt;</span><span class="p">(</span><span class="mi">32</span><span class="o">-</span><span class="nx">iShiftBits</span><span class="p">))}</span><span class="kd">function</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">lX</span><span class="p">,</span><span class="nx">lY</span><span class="p">){</span><span class="kd">var</span> <span class="nx">lX4</span><span class="p">,</span><span class="nx">lY4</span><span class="p">,</span><span class="nx">lX8</span><span class="p">,</span><span class="nx">lY8</span><span class="p">,</span><span class="nx">lResult</span><span class="p">;</span><span class="nx">lX8</span><span class="o">=</span><span class="p">(</span><span class="nx">lX</span><span class="o">&amp;</span><span class="mi">2147483648</span><span class="p">);</span><span class="nx">lY8</span><span class="o">=</span><span class="p">(</span><span class="nx">lY</span><span class="o">&amp;</span><span class="mi">2147483648</span><span class="p">);</span><span class="nx">lX4</span><span class="o">=</span><span class="p">(</span><span class="nx">lX</span><span class="o">&amp;</span><span class="mi">1073741824</span><span class="p">);</span><span class="nx">lY4</span><span class="o">=</span><span class="p">(</span><span class="nx">lY</span><span class="o">&amp;</span><span class="mi">1073741824</span><span class="p">);</span><span class="nx">lResult</span><span class="o">=</span><span class="p">(</span><span class="nx">lX</span><span class="o">&amp;</span><span class="mi">1073741823</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">lY</span><span class="o">&amp;</span><span class="mi">1073741823</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">lX4</span><span class="o">&amp;</span><span class="nx">lY4</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">lResult</span><span class="o">^</span><span class="mi">2147483648</span><span class="o">^</span><span class="nx">lX8</span><span class="o">^</span><span class="nx">lY8</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">lX4</span><span class="o">|</span><span class="nx">lY4</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">lResult</span><span class="o">&amp;</span><span class="mi">1073741824</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">lResult</span><span class="o">^</span><span class="mi">3221225472</span><span class="o">^</span><span class="nx">lX8</span><span class="o">^</span><span class="nx">lY8</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span><span class="p">(</span><span class="nx">lResult</span><span class="o">^</span><span class="mi">1073741824</span><span class="o">^</span><span class="nx">lX8</span><span class="o">^</span><span class="nx">lY8</span><span class="p">)}}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span><span class="p">(</span><span class="nx">lResult</span><span class="o">^</span><span class="nx">lX8</span><span class="o">^</span><span class="nx">lY8</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">F</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">x</span><span class="o">&amp;</span><span class="nx">y</span><span class="p">)</span><span class="o">|</span><span class="p">((</span><span class="o">~</span><span class="nx">x</span><span class="p">)</span><span class="o">&amp;</span><span class="nx">z</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">G</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">x</span><span class="o">&amp;</span><span class="nx">z</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="nx">y</span><span class="o">&amp;</span><span class="p">(</span><span class="o">~</span><span class="nx">z</span><span class="p">))}</span><span class="kd">function</span> <span class="nx">H</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">x</span><span class="o">^</span><span class="nx">y</span><span class="o">^</span><span class="nx">z</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">I</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">y</span><span class="o">^</span><span class="p">(</span><span class="nx">x</span><span class="o">|</span><span class="p">(</span><span class="o">~</span><span class="nx">z</span><span class="p">)))}</span><span class="kd">function</span> <span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">F</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">x</span><span class="p">),</span><span class="nx">ac</span><span class="p">));</span><span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">G</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">x</span><span class="p">),</span><span class="nx">ac</span><span class="p">));</span><span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">H</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">x</span><span class="p">),</span><span class="nx">ac</span><span class="p">));</span><span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">ac</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">I</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">),</span><span class="nx">x</span><span class="p">),</span><span class="nx">ac</span><span class="p">));</span><span class="k">return</span> <span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">RotateLeft</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">b</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">ConvertToWordArray</span><span class="p">(</span><span class="nx">string</span><span class="p">){</span><span class="kd">var</span> <span class="nx">lWordCount</span><span class="p">;</span><span class="kd">var</span> <span class="nx">lMessageLength</span><span class="o">=</span><span class="nx">string</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="kd">var</span> <span class="nx">lNumberOfWords_temp1</span><span class="o">=</span><span class="nx">lMessageLength</span><span class="o">+</span><span class="mi">8</span><span class="p">;</span><span class="kd">var</span> <span class="nx">lNumberOfWords_temp2</span><span class="o">=</span><span class="p">(</span><span class="nx">lNumberOfWords_temp1</span><span class="o">-</span><span class="p">(</span><span class="nx">lNumberOfWords_temp1</span><span class="o">%</span><span class="mi">64</span><span class="p">))</span><span class="o">/</span><span class="mi">64</span><span class="p">;</span><span class="kd">var</span> <span class="nx">lNumberOfWords</span><span class="o">=</span><span class="p">(</span><span class="nx">lNumberOfWords_temp2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="p">;</span><span class="kd">var</span> <span class="nx">lWordArray</span><span class="o">=</span><span class="nb">Array</span><span class="p">(</span><span class="nx">lNumberOfWords</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">lBytePosition</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">lByteCount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">&lt;</span><span class="nx">lMessageLength</span><span class="p">){</span><span class="nx">lWordCount</span><span class="o">=</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">-</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">%</span><span class="mi">4</span><span class="p">))</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span><span class="nx">lBytePosition</span><span class="o">=</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">%</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="p">;</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span><span class="o">|</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">lByteCount</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="nx">lBytePosition</span><span class="p">));</span><span class="nx">lByteCount</span><span class="o">++</span><span class="p">}</span><span class="nx">lWordCount</span><span class="o">=</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">-</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">%</span><span class="mi">4</span><span class="p">))</span><span class="o">/</span><span class="mi">4</span><span class="p">;</span><span class="nx">lBytePosition</span><span class="o">=</span><span class="p">(</span><span class="nx">lByteCount</span><span class="o">%</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">8</span><span class="p">;</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span><span class="o">=</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lWordCount</span><span class="p">]</span><span class="o">|</span><span class="p">(</span><span class="mi">128</span><span class="o">&lt;&lt;</span><span class="nx">lBytePosition</span><span class="p">);</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lNumberOfWords</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">lMessageLength</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">;</span><span class="nx">lWordArray</span><span class="p">[</span><span class="nx">lNumberOfWords</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">lMessageLength</span><span class="o">&gt;&gt;&gt;</span><span class="mi">29</span><span class="p">;</span><span class="k">return</span> <span class="nx">lWordArray</span><span class="p">}</span><span class="kd">function</span> <span class="nx">WordToHex</span><span class="p">(</span><span class="nx">lValue</span><span class="p">){</span><span class="kd">var</span> <span class="nx">WordToHexValue</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">WordToHexValue_temp</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">lByte</span><span class="p">,</span><span class="nx">lCount</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">lCount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">lCount</span><span class="o">&lt;=</span><span class="mi">3</span><span class="p">;</span><span class="nx">lCount</span><span class="o">++</span><span class="p">){</span><span class="nx">lByte</span><span class="o">=</span><span class="p">(</span><span class="nx">lValue</span><span class="o">&gt;&gt;&gt;</span><span class="p">(</span><span class="nx">lCount</span><span class="o">*</span><span class="mi">8</span><span class="p">))</span><span class="o">&amp;</span><span class="mi">255</span><span class="p">;</span><span class="nx">WordToHexValue_temp</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">+</span><span class="nx">lByte</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span><span class="nx">WordToHexValue</span><span class="o">=</span><span class="nx">WordToHexValue</span><span class="o">+</span><span class="nx">WordToHexValue_temp</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">WordToHexValue_temp</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)}</span><span class="k">return</span> <span class="nx">WordToHexValue</span><span class="p">}</span><span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="nb">Array</span><span class="p">();</span><span class="kd">var</span> <span class="nx">k</span><span class="p">,</span><span class="nx">AA</span><span class="p">,</span><span class="nx">BB</span><span class="p">,</span><span class="nx">CC</span><span class="p">,</span><span class="nx">DD</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="kd">var</span> <span class="nx">S11</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="nx">S12</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="nx">S13</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span><span class="nx">S14</span><span class="o">=</span><span class="mi">22</span><span class="p">;</span><span class="kd">var</span> <span class="nx">S21</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="nx">S22</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="nx">S23</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="nx">S24</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span><span class="kd">var</span> <span class="nx">S31</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="nx">S32</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="nx">S33</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span><span class="nx">S34</span><span class="o">=</span><span class="mi">23</span><span class="p">;</span><span class="kd">var</span> <span class="nx">S41</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="nx">S42</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="nx">S43</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="nx">S44</span><span class="o">=</span><span class="mi">21</span><span class="p">;</span><span class="nx">x</span><span class="o">=</span><span class="nx">ConvertToWordArray</span><span class="p">(</span><span class="nx">string</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="mi">1732584193</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="mi">4023233417</span><span class="p">;</span><span class="nx">c</span><span class="o">=</span><span class="mi">2562383102</span><span class="p">;</span><span class="nx">d</span><span class="o">=</span><span class="mi">271733878</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">k</span><span class="o">&lt;</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">k</span><span class="o">+=</span><span class="mi">16</span><span class="p">){</span><span class="nx">AA</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="nx">BB</span><span class="o">=</span><span class="nx">b</span><span class="p">;</span><span class="nx">CC</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="nx">DD</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span><span class="nx">S11</span><span class="p">,</span><span class="mi">3614090360</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">S12</span><span class="p">,</span><span class="mi">3905402710</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="nx">S13</span><span class="p">,</span><span class="mi">606105819</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span><span class="nx">S14</span><span class="p">,</span><span class="mi">3250441966</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span><span class="nx">S11</span><span class="p">,</span><span class="mi">4118548399</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span><span class="nx">S12</span><span class="p">,</span><span class="mi">1200080426</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span><span class="nx">S13</span><span class="p">,</span><span class="mi">2821735955</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span><span class="nx">S14</span><span class="p">,</span><span class="mi">4249261313</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span><span class="nx">S11</span><span class="p">,</span><span class="mi">1770035416</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span><span class="nx">S12</span><span class="p">,</span><span class="mi">2336552879</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S13</span><span class="p">,</span><span class="mi">4294925233</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S14</span><span class="p">,</span><span class="mi">2304563134</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S11</span><span class="p">,</span><span class="mi">1804603682</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S12</span><span class="p">,</span><span class="mi">4254626195</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S13</span><span class="p">,</span><span class="mi">2792965006</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">FF</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S14</span><span class="p">,</span><span class="mi">1236535329</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">S21</span><span class="p">,</span><span class="mi">4129170786</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span><span class="nx">S22</span><span class="p">,</span><span class="mi">3225465664</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S23</span><span class="p">,</span><span class="mi">643717713</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span><span class="nx">S24</span><span class="p">,</span><span class="mi">3921069994</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span><span class="nx">S21</span><span class="p">,</span><span class="mi">3593408605</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S22</span><span class="p">,</span><span class="mi">38016083</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S23</span><span class="p">,</span><span class="mi">3634488961</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span><span class="nx">S24</span><span class="p">,</span><span class="mi">3889429448</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span><span class="nx">S21</span><span class="p">,</span><span class="mi">568446438</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S22</span><span class="p">,</span><span class="mi">3275163606</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span><span class="nx">S23</span><span class="p">,</span><span class="mi">4107603335</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span><span class="nx">S24</span><span class="p">,</span><span class="mi">1163531501</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S21</span><span class="p">,</span><span class="mi">2850285829</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="nx">S22</span><span class="p">,</span><span class="mi">4243563512</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span><span class="nx">S23</span><span class="p">,</span><span class="mi">1735328473</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">GG</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S24</span><span class="p">,</span><span class="mi">2368359562</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span><span class="nx">S31</span><span class="p">,</span><span class="mi">4294588738</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span><span class="nx">S32</span><span class="p">,</span><span class="mi">2272392833</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S33</span><span class="p">,</span><span class="mi">1839030562</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S34</span><span class="p">,</span><span class="mi">4259657740</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">S31</span><span class="p">,</span><span class="mi">2763975236</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span><span class="nx">S32</span><span class="p">,</span><span class="mi">1272893353</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span><span class="nx">S33</span><span class="p">,</span><span class="mi">4139469664</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S34</span><span class="p">,</span><span class="mi">3200236656</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S31</span><span class="p">,</span><span class="mi">681279174</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span><span class="nx">S32</span><span class="p">,</span><span class="mi">3936430074</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span><span class="nx">S33</span><span class="p">,</span><span class="mi">3572445317</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span><span class="nx">S34</span><span class="p">,</span><span class="mi">76029189</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span><span class="nx">S31</span><span class="p">,</span><span class="mi">3654602809</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S32</span><span class="p">,</span><span class="mi">3873151461</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S33</span><span class="p">,</span><span class="mi">530742520</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">HH</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="nx">S34</span><span class="p">,</span><span class="mi">3299628645</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">0</span><span class="p">],</span><span class="nx">S41</span><span class="p">,</span><span class="mi">4096336452</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span><span class="nx">S42</span><span class="p">,</span><span class="mi">1126891415</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">14</span><span class="p">],</span><span class="nx">S43</span><span class="p">,</span><span class="mi">2878612391</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">5</span><span class="p">],</span><span class="nx">S44</span><span class="p">,</span><span class="mi">4237533241</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">12</span><span class="p">],</span><span class="nx">S41</span><span class="p">,</span><span class="mi">1700485571</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span><span class="nx">S42</span><span class="p">,</span><span class="mi">2399980690</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">10</span><span class="p">],</span><span class="nx">S43</span><span class="p">,</span><span class="mi">4293915773</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">S44</span><span class="p">,</span><span class="mi">2240044497</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">8</span><span class="p">],</span><span class="nx">S41</span><span class="p">,</span><span class="mi">1873313359</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">15</span><span class="p">],</span><span class="nx">S42</span><span class="p">,</span><span class="mi">4264355552</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span><span class="nx">S43</span><span class="p">,</span><span class="mi">2734768916</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">13</span><span class="p">],</span><span class="nx">S44</span><span class="p">,</span><span class="mi">1309151649</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">4</span><span class="p">],</span><span class="nx">S41</span><span class="p">,</span><span class="mi">4149444226</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">11</span><span class="p">],</span><span class="nx">S42</span><span class="p">,</span><span class="mi">3174756917</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="nx">S43</span><span class="p">,</span><span class="mi">718787259</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">II</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">x</span><span class="p">[</span><span class="nx">k</span><span class="o">+</span><span class="mi">9</span><span class="p">],</span><span class="nx">S44</span><span class="p">,</span><span class="mi">3951481745</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">AA</span><span class="p">);</span><span class="nx">b</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">BB</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">CC</span><span class="p">);</span><span class="nx">d</span><span class="o">=</span><span class="nx">AddUnsigned</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">DD</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">temp</span><span class="o">=</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="o">+</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="o">+</span><span class="nx">WordToHex</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span><span class="k">return</span> <span class="nx">temp</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()}})();</span><span class="k">this</span><span class="p">.</span><span class="nx">Pouch</span><span class="o">=</span><span class="kd">function</span> <span class="nx">Pouch</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Pouch</span><span class="p">)){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">Pouch</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="o">||</span><span class="k">typeof</span> <span class="nx">opts</span><span class="o">===</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">backend</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">parseAdapter</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">name</span><span class="o">||</span><span class="nx">name</span><span class="p">);</span><span class="nx">opts</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">backend</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span><span class="nx">opts</span><span class="p">.</span><span class="nx">adapter</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">adapter</span><span class="o">||</span><span class="nx">backend</span><span class="p">.</span><span class="nx">adapter</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">backend</span><span class="p">.</span><span class="nx">adapter</span><span class="p">]){</span><span class="k">throw</span><span class="s2">&quot;Adapter is missing&quot;</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">backend</span><span class="p">.</span><span class="nx">adapter</span><span class="p">].</span><span class="nx">valid</span><span class="p">()){</span><span class="k">throw</span><span class="s2">&quot;Invalid Adapter&quot;</span><span class="p">}</span><span class="kd">var</span> <span class="nx">adapter</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">backend</span><span class="p">.</span><span class="nx">adapter</span><span class="p">](</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="k">in</span> <span class="nx">adapter</span><span class="p">){</span><span class="k">this</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span><span class="o">=</span><span class="nx">adapter</span><span class="p">[</span><span class="nx">j</span><span class="p">]}};</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">parseAdapter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span><span class="kd">var</span> <span class="nx">match</span><span class="o">=</span><span class="nx">name</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/([a-z\-]*):\/\/(.*)/</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">match</span><span class="p">){</span><span class="nx">name</span><span class="o">=</span><span class="sr">/http(s?)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">?</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;://&quot;</span><span class="o">+</span><span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="kd">var</span> <span class="nx">adapter</span><span class="o">=</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">adapter</span><span class="p">].</span><span class="nx">valid</span><span class="p">()){</span><span class="k">throw</span><span class="s2">&quot;Invalid adapter&quot;</span><span class="p">}</span><span class="k">return</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="nx">name</span><span class="p">,</span><span class="nx">adapter</span><span class="o">:</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]}}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">valid</span><span class="p">()){</span><span class="k">return</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="nx">name</span><span class="p">,</span><span class="nx">adapter</span><span class="o">:</span><span class="nx">i</span><span class="p">}}}</span><span class="k">throw</span><span class="s2">&quot;No Valid Adapter.&quot;</span><span class="p">};</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">destroy</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">opts</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">parseAdapter</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">opts</span><span class="p">.</span><span class="nx">adapter</span><span class="p">].</span><span class="nx">destroy</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="o">=</span><span class="p">{};</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="nx">obj</span><span class="p">){</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapters</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="nx">obj</span><span class="p">};</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="o">=</span><span class="p">{</span><span class="nx">MISSING_BULK_DOCS</span><span class="o">:</span><span class="p">{</span><span class="nx">status</span><span class="o">:</span><span class="mi">400</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="s2">&quot;bad_request&quot;</span><span class="p">,</span><span class="nx">reason</span><span class="o">:</span><span class="s2">&quot;Missing JSON list of &#39;docs&#39;&quot;</span><span class="p">},</span><span class="nx">MISSING_DOC</span><span class="o">:</span><span class="p">{</span><span class="nx">status</span><span class="o">:</span><span class="mi">404</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="s2">&quot;not_found&quot;</span><span class="p">,</span><span class="nx">reason</span><span class="o">:</span><span class="s2">&quot;missing&quot;</span><span class="p">},</span><span class="nx">REV_CONFLICT</span><span class="o">:</span><span class="p">{</span><span class="nx">status</span><span class="o">:</span><span class="mi">409</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="s2">&quot;conflict&quot;</span><span class="p">,</span><span class="nx">reason</span><span class="o">:</span><span class="s2">&quot;Document update conflict&quot;</span><span class="p">},</span><span class="nx">INVALID_ID</span><span class="o">:</span><span class="p">{</span><span class="nx">status</span><span class="o">:</span><span class="mi">400</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="s2">&quot;invalid_id&quot;</span><span class="p">,</span><span class="nx">reason</span><span class="o">:</span><span class="s2">&quot;_id field must contain a string&quot;</span><span class="p">},</span><span class="nx">UNKNOWN_ERROR</span><span class="o">:</span><span class="p">{</span><span class="nx">status</span><span class="o">:</span><span class="mi">500</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="s2">&quot;unknown_error&quot;</span><span class="p">,</span><span class="nx">reason</span><span class="o">:</span><span class="s2">&quot;Database encountered an unknown error&quot;</span><span class="p">}};(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">collate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">ai</span><span class="o">=</span><span class="nx">collationIndex</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">bi</span><span class="o">=</span><span class="nx">collationIndex</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="k">if</span><span class="p">((</span><span class="nx">ai</span><span class="o">-</span><span class="nx">bi</span><span class="p">)</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">ai</span><span class="o">-</span><span class="nx">bi</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="k">return</span> <span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">===</span><span class="s2">&quot;number&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">===</span><span class="s2">&quot;boolean&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">&lt;</span><span class="nx">b</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">stringCollate</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">return</span> <span class="nx">arrayCollate</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">===</span><span class="s2">&quot;object&quot;</span><span class="p">){</span><span class="k">return</span> <span class="nx">objectCollate</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)}};</span><span class="kd">var</span> <span class="nx">stringCollate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="o">===</span><span class="nx">b</span><span class="p">)</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">((</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">b</span><span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">objectCollate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">ak</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">bk</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="kd">var</span> <span class="nx">len</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">ak</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">bk</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">len</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">sort</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">collate</span><span class="p">(</span><span class="nx">ak</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">bk</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">sort</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">sort</span><span class="p">}</span><span class="nx">sort</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">collate</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">ak</span><span class="p">[</span><span class="nx">i</span><span class="p">]],</span><span class="nx">b</span><span class="p">[</span><span class="nx">bk</span><span class="p">[</span><span class="nx">i</span><span class="p">]]);</span><span class="k">if</span><span class="p">(</span><span class="nx">sort</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">sort</span><span class="p">}}</span><span class="k">return</span><span class="p">(</span><span class="nx">ak</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="nx">bk</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">(</span><span class="nx">ak</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">bk</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">};</span><span class="kd">var</span> <span class="nx">arrayCollate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">len</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">len</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">sort</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">collate</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="nx">sort</span><span class="o">!==</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">sort</span><span class="p">}}</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">};</span><span class="kd">var</span> <span class="nx">collationIndex</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="kd">var</span> <span class="nx">id</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="s2">&quot;number&quot;</span><span class="p">,</span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="s2">&quot;object&quot;</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">x</span><span class="p">)</span><span class="o">!==-</span><span class="mi">1</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="k">return</span> <span class="mi">1</span><span class="p">}</span><span class="k">return</span> <span class="nx">id</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">x</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">x</span><span class="p">)){</span><span class="k">return</span> <span class="mf">4.5</span><span class="p">}}}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">pathToTree</span><span class="p">(</span><span class="nx">path</span><span class="p">){</span><span class="kd">var</span> <span class="nx">root</span><span class="o">=</span><span class="p">[</span><span class="nx">path</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),[]];</span><span class="kd">var</span> <span class="nx">leaf</span><span class="o">=</span><span class="nx">root</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">nleaf</span><span class="o">=</span><span class="p">[</span><span class="nx">path</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),[]];</span><span class="nx">leaf</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">nleaf</span><span class="p">);</span><span class="nx">leaf</span><span class="o">=</span><span class="nx">nleaf</span><span class="p">}</span><span class="k">return</span> <span class="nx">root</span><span class="p">}</span><span class="kd">function</span> <span class="nx">stem</span><span class="p">(</span><span class="nx">tree</span><span class="p">,</span><span class="nx">depth</span><span class="p">){</span><span class="kd">var</span> <span class="nx">stemmedPaths</span><span class="o">=</span><span class="nx">rootToLeaf</span><span class="p">(</span><span class="nx">tree</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">){</span><span class="kd">var</span> <span class="nx">stemmed</span><span class="o">=</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="nx">depth</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">pos</span><span class="o">:</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="o">+</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="nx">stemmed</span><span class="p">.</span><span class="nx">length</span><span class="p">),</span><span class="nx">ids</span><span class="o">:</span><span class="nx">pathToTree</span><span class="p">(</span><span class="nx">stemmed</span><span class="p">)}});</span><span class="k">return</span> <span class="nx">stemmedPaths</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span><span class="nx">current</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">arr</span><span class="p">){</span><span class="k">return</span> <span class="nx">doMerge</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span><span class="nx">current</span><span class="p">,</span><span class="kc">true</span><span class="p">).</span><span class="nx">tree</span><span class="p">},[</span><span class="nx">stemmedPaths</span><span class="p">.</span><span class="nx">shift</span><span class="p">()])}</span><span class="kd">function</span> <span class="nx">mergeTree</span><span class="p">(</span><span class="nx">tree1</span><span class="p">,</span><span class="nx">tree2</span><span class="p">){</span><span class="kd">var</span> <span class="nx">conflicts</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">tree2</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]){</span><span class="nx">conflicts</span><span class="o">=</span><span class="s2">&quot;new_leaf&quot;</span><span class="p">;</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">tree2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">i</span><span class="p">]}</span><span class="k">if</span><span class="p">(</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">tree2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">===-</span><span class="mi">1</span><span class="p">){</span><span class="nx">conflicts</span><span class="o">=</span><span class="s2">&quot;new_branch&quot;</span><span class="p">;</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">tree2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">i</span><span class="p">]);</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">sort</span><span class="p">()}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">result</span><span class="o">=</span><span class="nx">mergeTree</span><span class="p">(</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nx">tree2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="nx">i</span><span class="p">]);</span><span class="nx">conflicts</span><span class="o">=</span><span class="nx">result</span><span class="p">.</span><span class="nx">conflicts</span><span class="o">||</span><span class="nx">conflicts</span><span class="p">;</span><span class="nx">tree1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">result</span><span class="p">.</span><span class="nx">tree</span><span class="p">}}</span><span class="k">return</span><span class="p">{</span><span class="nx">conflicts</span><span class="o">:</span><span class="nx">conflicts</span><span class="p">,</span><span class="nx">tree</span><span class="o">:</span><span class="nx">tree1</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">doMerge</span><span class="p">(</span><span class="nx">tree</span><span class="p">,</span><span class="nx">path</span><span class="p">,</span><span class="nx">dontExpand</span><span class="p">){</span><span class="kd">var</span> <span class="nx">restree</span><span class="o">=</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">conflicts</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">merged</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">res</span><span class="p">,</span><span class="nx">branch</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tree</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">tree</span><span class="o">:</span><span class="p">[</span><span class="nx">path</span><span class="p">],</span><span class="nx">conflicts</span><span class="o">:</span><span class="s2">&quot;new_leaf&quot;</span><span class="p">}}</span><span class="nx">tree</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">branch</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">branch</span><span class="p">.</span><span class="nx">pos</span><span class="o">===</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="o">&amp;&amp;</span><span class="nx">branch</span><span class="p">.</span><span class="nx">ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="nx">res</span><span class="o">=</span><span class="nx">mergeTree</span><span class="p">(</span><span class="nx">branch</span><span class="p">.</span><span class="nx">ids</span><span class="p">,</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">);</span><span class="nx">restree</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">pos</span><span class="o">:</span><span class="nx">branch</span><span class="p">.</span><span class="nx">pos</span><span class="p">,</span><span class="nx">ids</span><span class="o">:</span><span class="nx">res</span><span class="p">.</span><span class="nx">tree</span><span class="p">});</span><span class="nx">conflicts</span><span class="o">=</span><span class="nx">conflicts</span><span class="o">||</span><span class="nx">res</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">;</span><span class="nx">merged</span><span class="o">=</span><span class="kc">true</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">dontExpand</span><span class="o">!==</span><span class="kc">true</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t1</span><span class="o">=</span><span class="nx">branch</span><span class="p">.</span><span class="nx">pos</span><span class="o">&lt;</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="o">?</span><span class="nx">branch</span><span class="o">:</span><span class="nx">path</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t2</span><span class="o">=</span><span class="nx">branch</span><span class="p">.</span><span class="nx">pos</span><span class="o">&lt;</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="o">?</span><span class="nx">path</span><span class="o">:</span><span class="nx">branch</span><span class="p">;</span><span class="kd">var</span> <span class="nx">diff</span><span class="o">=</span><span class="nx">t2</span><span class="p">.</span><span class="nx">pos</span><span class="o">-</span><span class="nx">t1</span><span class="p">.</span><span class="nx">pos</span><span class="p">;</span><span class="kd">var</span> <span class="nx">parent</span><span class="p">,</span><span class="nx">tmp</span><span class="o">=</span><span class="nx">t1</span><span class="p">.</span><span class="nx">ids</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">diff</span><span class="o">--</span><span class="p">){</span><span class="nx">parent</span><span class="o">=</span><span class="nx">tmp</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="nx">tmp</span><span class="o">=</span><span class="nx">tmp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]}</span><span class="k">if</span><span class="p">(</span><span class="nx">tmp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!==</span><span class="nx">t2</span><span class="p">.</span><span class="nx">ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span><span class="nx">restree</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">branch</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">res</span><span class="o">=</span><span class="nx">mergeTree</span><span class="p">(</span><span class="nx">tmp</span><span class="p">,</span><span class="nx">t2</span><span class="p">.</span><span class="nx">ids</span><span class="p">);</span><span class="nx">parent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">res</span><span class="p">.</span><span class="nx">tree</span><span class="p">;</span><span class="nx">restree</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">pos</span><span class="o">:</span><span class="nx">t1</span><span class="p">.</span><span class="nx">pos</span><span class="p">,</span><span class="nx">ids</span><span class="o">:</span><span class="nx">t1</span><span class="p">.</span><span class="nx">ids</span><span class="p">});</span><span class="nx">conflicts</span><span class="o">=</span><span class="nx">conflicts</span><span class="o">||</span><span class="nx">res</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">;</span><span class="nx">merged</span><span class="o">=</span><span class="kc">true</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="nx">restree</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">branch</span><span class="p">)}}});</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">merged</span><span class="p">){</span><span class="nx">restree</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">path</span><span class="p">)}</span><span class="nx">restree</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">pos</span><span class="o">-</span><span class="nx">b</span><span class="p">.</span><span class="nx">pos</span><span class="p">});</span><span class="k">return</span><span class="p">{</span><span class="nx">tree</span><span class="o">:</span><span class="nx">restree</span><span class="p">,</span><span class="nx">conflicts</span><span class="o">:</span><span class="nx">conflicts</span><span class="o">||</span><span class="s2">&quot;internal_node&quot;</span><span class="p">}}</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">merge</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">tree</span><span class="p">,</span><span class="nx">path</span><span class="p">,</span><span class="nx">depth</span><span class="p">){</span><span class="nx">tree</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">tree</span><span class="p">));</span><span class="nx">path</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">path</span><span class="p">));</span><span class="kd">var</span> <span class="nx">newTree</span><span class="o">=</span><span class="nx">doMerge</span><span class="p">(</span><span class="nx">tree</span><span class="p">,</span><span class="nx">path</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">tree</span><span class="o">:</span><span class="nx">stem</span><span class="p">(</span><span class="nx">newTree</span><span class="p">.</span><span class="nx">tree</span><span class="p">,</span><span class="nx">depth</span><span class="p">),</span><span class="nx">conflicts</span><span class="o">:</span><span class="nx">newTree</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">}}}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">replicate</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">,</span><span class="nx">replicateRet</span><span class="p">){</span><span class="nx">fetchCheckpoint</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">checkpoint</span><span class="p">){</span><span class="kd">var</span> <span class="nx">results</span><span class="o">=</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">completed</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">pending</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">last_seq</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">continuous</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="o">||</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">result</span><span class="o">=</span><span class="p">{</span><span class="nx">ok</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">start_time</span><span class="o">:</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span><span class="nx">docs_read</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">docs_written</span><span class="o">:</span><span class="mi">0</span><span class="p">};</span><span class="kd">function</span> <span class="nx">isCompleted</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">completed</span><span class="o">&amp;&amp;</span><span class="nx">pending</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="nx">result</span><span class="p">.</span><span class="nx">end_time</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span><span class="nx">writeCheckpoint</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="nx">last_seq</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">result</span><span class="p">)})}}</span><span class="k">if</span><span class="p">(</span><span class="nx">replicateRet</span><span class="p">.</span><span class="nx">cancelled</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">repOpts</span><span class="o">=</span><span class="p">{</span><span class="nx">continuous</span><span class="o">:</span><span class="nx">continuous</span><span class="p">,</span><span class="nx">since</span><span class="o">:</span><span class="nx">checkpoint</span><span class="p">,</span><span class="nx">onChange</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">change</span><span class="p">){</span><span class="nx">last_seq</span><span class="o">=</span><span class="nx">change</span><span class="p">.</span><span class="nx">seq</span><span class="p">;</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">change</span><span class="p">);</span><span class="nx">result</span><span class="p">.</span><span class="nx">docs_read</span><span class="o">++</span><span class="p">;</span><span class="nx">pending</span><span class="o">++</span><span class="p">;</span><span class="kd">var</span> <span class="nx">diff</span><span class="o">=</span><span class="p">{};</span><span class="nx">diff</span><span class="p">[</span><span class="nx">change</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="nx">change</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">rev</span><span class="p">});</span><span class="nx">target</span><span class="p">.</span><span class="nx">revsDiff</span><span class="p">(</span><span class="nx">diff</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">diffs</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">diffs</span><span class="p">).</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="nx">pending</span><span class="o">--</span><span class="p">;</span><span class="nx">isCompleted</span><span class="p">();</span><span class="k">return</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">id</span> <span class="k">in</span> <span class="nx">diffs</span><span class="p">){</span><span class="nx">diffs</span><span class="p">[</span><span class="nx">id</span><span class="p">].</span><span class="nx">missing</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">rev</span><span class="p">){</span><span class="nx">src</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">id</span><span class="p">,{</span><span class="nx">revs</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">rev</span><span class="o">:</span><span class="nx">rev</span><span class="p">,</span><span class="nx">attachments</span><span class="o">:</span><span class="kc">true</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">){</span><span class="nx">target</span><span class="p">.</span><span class="nx">bulkDocs</span><span class="p">({</span><span class="nx">docs</span><span class="o">:</span><span class="p">[</span><span class="nx">doc</span><span class="p">]},{</span><span class="nx">new_edits</span><span class="o">:</span><span class="kc">false</span><span class="p">},</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">onChange</span><span class="p">){</span><span class="nx">opts</span><span class="p">.</span><span class="nx">onChange</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[</span><span class="nx">result</span><span class="p">])}</span><span class="nx">result</span><span class="p">.</span><span class="nx">docs_written</span><span class="o">++</span><span class="p">;</span><span class="nx">pending</span><span class="o">--</span><span class="p">;</span><span class="nx">isCompleted</span><span class="p">()})})})}})},</span><span class="nx">complete</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">){</span><span class="nx">completed</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="nx">isCompleted</span><span class="p">()}};</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">){</span><span class="nx">repOpts</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">}</span><span class="kd">var</span> <span class="nx">changes</span><span class="o">=</span><span class="nx">src</span><span class="p">.</span><span class="nx">changes</span><span class="p">(</span><span class="nx">repOpts</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">){</span><span class="nx">replicateRet</span><span class="p">.</span><span class="nx">cancel</span><span class="o">=</span><span class="nx">changes</span><span class="p">.</span><span class="nx">cancel</span><span class="p">}})}</span><span class="kd">function</span> <span class="nx">toPouch</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">db</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">Pouch</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span><span class="nx">callback</span><span class="p">)}</span><span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">db</span><span class="p">)}</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">replicate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">ret</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">cancelled</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">cancel</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">cancelled</span><span class="o">=</span><span class="kc">true</span><span class="p">}};</span><span class="kd">var</span> <span class="nx">replicateRet</span><span class="o">=</span><span class="k">new</span> <span class="nx">ret</span><span class="p">();</span><span class="nx">toPouch</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span><span class="nx">src</span><span class="p">){</span><span class="nx">toPouch</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span><span class="nx">target</span><span class="p">){</span><span class="nx">replicate</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">,</span><span class="nx">replicateRet</span><span class="p">)})});</span><span class="k">return</span> <span class="nx">replicateRet</span><span class="p">}}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">call</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">fun</span><span class="p">){</span><span class="kd">var</span> <span class="nx">args</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">fun</span><span class="o">===</span><span class="k">typeof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">fun</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">args</span><span class="p">)}};</span><span class="kd">var</span> <span class="nx">parseDoc</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">newEdits</span><span class="p">){</span><span class="kd">var</span> <span class="nx">error</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">newEdits</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuid</span><span class="p">()}</span><span class="kd">var</span> <span class="nx">newRevId</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuid</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="mi">16</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="kd">var</span> <span class="nx">nRevNum</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">){</span><span class="kd">var</span> <span class="nx">revInfo</span><span class="o">=</span><span class="sr">/^(\d+)-(.+)$/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">revInfo</span><span class="p">){</span><span class="k">throw</span><span class="s2">&quot;invalid value for property &#39;_rev&#39;&quot;</span><span class="p">}</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev_tree</span><span class="o">=</span><span class="p">[{</span><span class="nx">pos</span><span class="o">:</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">10</span><span class="p">),</span><span class="nx">ids</span><span class="o">:</span><span class="p">[</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">2</span><span class="p">],[[</span><span class="nx">newRevId</span><span class="p">,[]]]]}];</span><span class="nx">nRevNum</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev_tree</span><span class="o">=</span><span class="p">[{</span><span class="nx">pos</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">ids</span><span class="o">:</span><span class="p">[</span><span class="nx">newRevId</span><span class="p">,[]]}];</span><span class="nx">nRevNum</span><span class="o">=</span><span class="mi">1</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revisions</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev_tree</span><span class="o">=</span><span class="p">[{</span><span class="nx">pos</span><span class="o">:</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revisions</span><span class="p">.</span><span class="nx">start</span><span class="o">-</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revisions</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">ids</span><span class="o">:</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revisions</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span><span class="nx">x</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">acc</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="k">return</span><span class="p">[</span><span class="nx">x</span><span class="p">,[]]}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span><span class="p">[</span><span class="nx">x</span><span class="p">,[</span><span class="nx">acc</span><span class="p">]]}},</span><span class="kc">null</span><span class="p">)}]}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev_tree</span><span class="p">){</span><span class="kd">var</span> <span class="nx">revInfo</span><span class="o">=</span><span class="sr">/^(\d+)-(.+)$/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">);</span><span class="nx">nRevNum</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">10</span><span class="p">);</span><span class="nx">newRevId</span><span class="o">=</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev_tree</span><span class="o">=</span><span class="p">[{</span><span class="nx">pos</span><span class="o">:</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">10</span><span class="p">),</span><span class="nx">ids</span><span class="o">:</span><span class="p">[</span><span class="nx">revInfo</span><span class="p">[</span><span class="mi">2</span><span class="p">],[]]}]}}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="o">!==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="nx">error</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">INVALID_ID</span><span class="p">}</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="o">=</span><span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="p">);</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="p">[</span><span class="nx">nRevNum</span><span class="p">,</span><span class="nx">newRevId</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span><span class="k">return</span> <span class="nx">error</span><span class="p">}</span><span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">doc</span><span class="p">).</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">acc</span><span class="p">,</span><span class="nx">key</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="sr">/^_/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">key</span><span class="o">!==</span><span class="s2">&quot;_attachments&quot;</span><span class="p">){</span><span class="nx">acc</span><span class="p">.</span><span class="nx">metadata</span><span class="p">[</span><span class="nx">key</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span><span class="o">=</span><span class="nx">doc</span><span class="p">[</span><span class="nx">key</span><span class="p">]}</span><span class="k">else</span><span class="p">{</span><span class="nx">acc</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="o">=</span><span class="nx">doc</span><span class="p">[</span><span class="nx">key</span><span class="p">]}</span><span class="k">return</span> <span class="nx">acc</span><span class="p">},{</span><span class="nx">metadata</span><span class="o">:</span><span class="p">{},</span><span class="nx">data</span><span class="o">:</span><span class="p">{}})};</span><span class="kd">var</span> <span class="nx">compareRevs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">id</span><span class="o">!==</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">id</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">deleted</span><span class="o">^</span><span class="nx">b</span><span class="p">.</span><span class="nx">deleted</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">deleted</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="o">===</span><span class="nx">b</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)}</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">start</span><span class="o">&lt;</span><span class="nx">b</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">start</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">expandTree</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">tree</span><span class="p">){</span><span class="nx">all</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">rev</span><span class="o">:</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;-&quot;</span><span class="o">+</span><span class="nx">tree</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">status</span><span class="o">:</span><span class="s2">&quot;available&quot;</span><span class="p">});</span><span class="nx">tree</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">child</span><span class="p">){</span><span class="nx">expandTree</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">child</span><span class="p">)})};</span><span class="kd">var</span> <span class="nx">collectRevs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">){</span><span class="kd">var</span> <span class="nx">revs</span><span class="o">=</span><span class="p">[];</span><span class="nx">expandTree</span><span class="p">(</span><span class="nx">revs</span><span class="p">,</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="p">,</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">);</span><span class="k">return</span> <span class="nx">revs</span><span class="p">};</span><span class="kd">var</span> <span class="nx">collectLeavesInner</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span><span class="nx">pos</span><span class="p">,</span><span class="nx">tree</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tree</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">){</span><span class="nx">all</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">rev</span><span class="o">:</span><span class="nx">pos</span><span class="o">+</span><span class="s2">&quot;-&quot;</span><span class="o">+</span><span class="nx">tree</span><span class="p">[</span><span class="mi">0</span><span class="p">]})}</span><span class="nx">tree</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">child</span><span class="p">){</span><span class="nx">collectLeavesInner</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span><span class="nx">pos</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">child</span><span class="p">)})};</span><span class="kd">var</span> <span class="nx">collectLeaves</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">revs</span><span class="p">){</span><span class="kd">var</span> <span class="nx">leaves</span><span class="o">=</span><span class="p">[];</span><span class="nx">revs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">tree</span><span class="p">){</span><span class="nx">collectLeavesInner</span><span class="p">(</span><span class="nx">leaves</span><span class="p">,</span><span class="nx">tree</span><span class="p">.</span><span class="nx">pos</span><span class="p">,</span><span class="nx">tree</span><span class="p">.</span><span class="nx">ids</span><span class="p">)});</span><span class="k">return</span> <span class="nx">leaves</span><span class="p">};</span><span class="kd">var</span> <span class="nx">collectConflicts</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">revs</span><span class="p">){</span><span class="kd">var</span> <span class="nx">leaves</span><span class="o">=</span><span class="nx">collectLeaves</span><span class="p">(</span><span class="nx">revs</span><span class="p">);</span><span class="nx">leaves</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span><span class="k">return</span> <span class="nx">leaves</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">rev</span><span class="p">})};</span><span class="kd">var</span> <span class="nx">fetchCheckpoint</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">id</span><span class="o">=</span><span class="nx">Crypto</span><span class="p">.</span><span class="nx">MD5</span><span class="p">(</span><span class="nx">src</span><span class="p">.</span><span class="nx">id</span><span class="p">()</span><span class="o">+</span><span class="nx">target</span><span class="p">.</span><span class="nx">id</span><span class="p">());</span><span class="nx">src</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;_local/&quot;</span><span class="o">+</span><span class="nx">id</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="o">&amp;&amp;</span><span class="nx">err</span><span class="p">.</span><span class="nx">status</span><span class="o">===</span><span class="mi">404</span><span class="p">){</span><span class="nx">callback</span><span class="p">(</span><span class="mi">0</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">callback</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">last_seq</span><span class="p">)}})};</span><span class="kd">var</span> <span class="nx">writeCheckpoint</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">,</span><span class="nx">target</span><span class="p">,</span><span class="nx">checkpoint</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">check</span><span class="o">=</span><span class="p">{</span><span class="nx">_id</span><span class="o">:</span><span class="s2">&quot;_local/&quot;</span><span class="o">+</span><span class="nx">Crypto</span><span class="p">.</span><span class="nx">MD5</span><span class="p">(</span><span class="nx">src</span><span class="p">.</span><span class="nx">id</span><span class="p">()</span><span class="o">+</span><span class="nx">target</span><span class="p">.</span><span class="nx">id</span><span class="p">()),</span><span class="nx">last_seq</span><span class="o">:</span><span class="nx">checkpoint</span><span class="p">};</span><span class="nx">src</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">check</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">doc</span><span class="o">&amp;&amp;</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">){</span><span class="nx">check</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">}</span><span class="nx">src</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">check</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">){</span><span class="nx">callback</span><span class="p">()})})};</span><span class="kd">function</span> <span class="nx">expandTree2</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span><span class="nx">current</span><span class="p">,</span><span class="nx">pos</span><span class="p">,</span><span class="nx">arr</span><span class="p">){</span><span class="nx">current</span><span class="o">=</span><span class="nx">current</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="nx">current</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">){</span><span class="nx">all</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">pos</span><span class="o">:</span><span class="nx">pos</span><span class="p">,</span><span class="nx">ids</span><span class="o">:</span><span class="nx">current</span><span class="p">})}</span><span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">child</span><span class="p">){</span><span class="nx">expandTree2</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span><span class="nx">current</span><span class="p">,</span><span class="nx">pos</span><span class="p">,</span><span class="nx">child</span><span class="p">)})}</span><span class="kd">function</span> <span class="nx">rootToLeaf</span><span class="p">(</span><span class="nx">tree</span><span class="p">){</span><span class="kd">var</span> <span class="nx">all</span><span class="o">=</span><span class="p">[];</span><span class="nx">tree</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">path</span><span class="p">){</span><span class="nx">expandTree2</span><span class="p">(</span><span class="nx">all</span><span class="p">,[],</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="p">,</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">)});</span><span class="k">return</span> <span class="nx">all</span><span class="p">}</span><span class="kd">var</span> <span class="nx">arrayFirst</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">callback</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">i</span><span class="p">)</span><span class="o">===</span><span class="kc">true</span><span class="p">){</span><span class="k">return</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]}}</span><span class="k">return</span> <span class="kc">false</span><span class="p">};</span><span class="kd">var</span> <span class="nx">localJSON</span><span class="o">=</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">localStorage</span><span class="p">){</span><span class="k">return</span> <span class="kc">false</span><span class="p">}</span><span class="k">return</span><span class="p">{</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span><span class="nx">val</span><span class="p">){</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">val</span><span class="p">))},</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span><span class="nx">def</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">prop</span><span class="p">)</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="k">return</span> <span class="nx">def</span><span class="p">}</span><span class="k">return</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">((</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">prop</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;false&quot;</span><span class="p">))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span><span class="k">return</span> <span class="nx">def</span><span class="p">}},</span><span class="nx">remove</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">prop</span><span class="p">){</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="nx">prop</span><span class="p">)}}})();</span><span class="kd">function</span> <span class="nx">parseUri</span><span class="p">(</span><span class="nx">str</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">parseUri</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">parser</span><span class="p">[</span><span class="nx">o</span><span class="p">.</span><span class="nx">strictMode</span><span class="o">?</span><span class="s2">&quot;strict&quot;</span><span class="o">:</span><span class="s2">&quot;loose&quot;</span><span class="p">].</span><span class="nx">exec</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span><span class="kd">var</span> <span class="nx">uri</span><span class="o">=</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">14</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">i</span><span class="o">--</span><span class="p">){</span><span class="nx">uri</span><span class="p">[</span><span class="nx">o</span><span class="p">.</span><span class="nx">key</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">}</span><span class="nx">uri</span><span class="p">[</span><span class="nx">o</span><span class="p">.</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span><span class="o">=</span><span class="p">{};</span><span class="nx">uri</span><span class="p">[</span><span class="nx">o</span><span class="p">.</span><span class="nx">key</span><span class="p">[</span><span class="mi">12</span><span class="p">]].</span><span class="nx">replace</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">q</span><span class="p">.</span><span class="nx">parser</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">$0</span><span class="p">,</span><span class="nx">$1</span><span class="p">,</span><span class="nx">$2</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">$1</span><span class="p">){</span><span class="nx">uri</span><span class="p">[</span><span class="nx">o</span><span class="p">.</span><span class="nx">q</span><span class="p">.</span><span class="nx">name</span><span class="p">][</span><span class="nx">$1</span><span class="p">]</span><span class="o">=</span><span class="nx">$2</span><span class="p">}});</span><span class="k">return</span> <span class="nx">uri</span><span class="p">}</span><span class="nx">parseUri</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="p">{</span><span class="nx">strictMode</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span><span class="nx">key</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">,</span><span class="s2">&quot;protocol&quot;</span><span class="p">,</span><span class="s2">&quot;authority&quot;</span><span class="p">,</span><span class="s2">&quot;userInfo&quot;</span><span class="p">,</span><span class="s2">&quot;user&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span><span class="p">,</span><span class="s2">&quot;host&quot;</span><span class="p">,</span><span class="s2">&quot;port&quot;</span><span class="p">,</span><span class="s2">&quot;relative&quot;</span><span class="p">,</span><span class="s2">&quot;path&quot;</span><span class="p">,</span><span class="s2">&quot;directory&quot;</span><span class="p">,</span><span class="s2">&quot;file&quot;</span><span class="p">,</span><span class="s2">&quot;query&quot;</span><span class="p">,</span><span class="s2">&quot;anchor&quot;</span><span class="p">],</span><span class="nx">q</span><span class="o">:</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;queryKey&quot;</span><span class="p">,</span><span class="nx">parser</span><span class="o">:</span><span class="sr">/(?:^|&amp;)([^&amp;=]*)=?([^&amp;]*)/g</span><span class="p">},</span><span class="nx">parser</span><span class="o">:</span><span class="p">{</span><span class="nx">strict</span><span class="o">:</span><span class="sr">/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/</span><span class="p">,</span><span class="nx">loose</span><span class="o">:</span><span class="sr">/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/</span><span class="p">}};</span><span class="kd">function</span> <span class="nx">getHost</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="sr">/http(s?):/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">name</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">uri</span><span class="o">=</span><span class="nx">parseUri</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span><span class="nx">uri</span><span class="p">.</span><span class="nx">remote</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="nx">uri</span><span class="p">.</span><span class="nx">auth</span><span class="o">=</span><span class="p">{</span><span class="nx">username</span><span class="o">:</span><span class="nx">uri</span><span class="p">.</span><span class="nx">user</span><span class="p">,</span><span class="nx">password</span><span class="o">:</span><span class="nx">uri</span><span class="p">.</span><span class="nx">password</span><span class="p">};</span><span class="kd">var</span> <span class="nx">parts</span><span class="o">=</span><span class="nx">uri</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(^\/|\/$)/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="nx">uri</span><span class="p">.</span><span class="nx">db</span><span class="o">=</span><span class="nx">parts</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span><span class="nx">uri</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">parts</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">uri</span><span class="p">}</span><span class="k">return</span><span class="p">{</span><span class="nx">host</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="nx">db</span><span class="o">:</span><span class="nx">name</span><span class="p">,</span><span class="nx">auth</span><span class="o">:</span><span class="kc">false</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">genUrl</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">path</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">remote</span><span class="p">){</span><span class="kd">var</span> <span class="nx">pathDel</span><span class="o">=!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">path</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;/&quot;</span><span class="p">;</span><span class="k">return</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">protocol</span><span class="o">+</span><span class="s2">&quot;://&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">host</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">port</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">path</span><span class="o">+</span><span class="nx">pathDel</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">db</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nx">path</span><span class="p">}</span><span class="k">return</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">db</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nx">path</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ajax</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">defaults</span><span class="o">=</span><span class="p">{</span><span class="nx">success</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="nx">_</span><span class="p">,</span><span class="nx">xhr</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">obj</span><span class="p">,</span><span class="nx">xhr</span><span class="p">)},</span><span class="nx">error</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span><span class="kd">var</span> <span class="nx">errObj</span><span class="o">=</span><span class="p">{</span><span class="nx">status</span><span class="o">:</span><span class="nx">err</span><span class="p">.</span><span class="nx">status</span><span class="p">};</span><span class="k">try</span><span class="p">{</span><span class="nx">errObj</span><span class="o">=</span><span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">errObj</span><span class="p">,</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">responseText</span><span class="p">))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">errObj</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">true</span><span class="p">)}},</span><span class="nx">headers</span><span class="o">:</span><span class="p">{</span><span class="nx">Accept</span><span class="o">:</span><span class="s2">&quot;application/json&quot;</span><span class="p">},</span><span class="nx">dataType</span><span class="o">:</span><span class="s2">&quot;json&quot;</span><span class="p">,</span><span class="nx">contentType</span><span class="o">:</span><span class="s2">&quot;application/json&quot;</span><span class="p">};</span><span class="nx">options</span><span class="o">=</span><span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">defaults</span><span class="p">,</span><span class="nx">options</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">data</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">data</span><span class="o">!==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="nx">options</span><span class="p">.</span><span class="nx">data</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">data</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">auth</span><span class="p">){</span><span class="nx">options</span><span class="p">.</span><span class="nx">beforeSend</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">){</span><span class="kd">var</span> <span class="nx">token</span><span class="o">=</span><span class="nx">btoa</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">username</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="o">+</span><span class="nx">options</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">password</span><span class="p">);</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;Authorization&quot;</span><span class="p">,</span><span class="s2">&quot;Basic &quot;</span><span class="o">+</span><span class="nx">token</span><span class="p">)}}</span><span class="k">return</span> <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">options</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">HttpPouch</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">host</span><span class="o">=</span><span class="nx">getHost</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span><span class="kd">var</span> <span class="nx">db_url</span><span class="o">=</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="kd">var</span> <span class="nx">api</span><span class="o">=</span><span class="p">{};</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">db_url</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">ret</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="o">&amp;&amp;</span><span class="nx">err</span><span class="p">.</span><span class="nx">status</span><span class="o">===</span><span class="mi">401</span><span class="p">){</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;HEAD&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">db_url</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">ret</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">err</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">api</span><span class="p">)}})}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">err</span><span class="o">||</span><span class="nx">err</span><span class="p">.</span><span class="nx">status</span><span class="o">===</span><span class="mi">412</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">api</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">UNKNOWN_ERROR</span><span class="p">)}}});</span><span class="nx">api</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">info</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">params</span><span class="o">=</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">revs</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;revs=true&quot;</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">revs_info</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;revs_info=true&quot;</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">attachments</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;attachments=true&quot;</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">rev</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;rev=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">rev</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;conflicts=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">)}</span><span class="nx">params</span><span class="o">=</span><span class="nx">params</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">);</span><span class="nx">params</span><span class="o">=</span><span class="nx">params</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;?&quot;</span><span class="o">+</span><span class="nx">params</span><span class="p">;</span><span class="kd">var</span> <span class="nx">options</span><span class="o">=</span><span class="p">{</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="nx">id</span><span class="o">+</span><span class="nx">params</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">parts</span><span class="o">=</span><span class="nx">id</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">((</span><span class="nx">parts</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!==</span><span class="s2">&quot;_design&quot;</span><span class="o">&amp;&amp;</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!==</span><span class="s2">&quot;_local&quot;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">parts</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;_design&quot;</span><span class="o">&amp;&amp;</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!==</span><span class="s2">&quot;_local&quot;</span><span class="p">)){</span><span class="nx">options</span><span class="p">.</span><span class="nx">dataType</span><span class="o">=</span><span class="kc">false</span><span class="p">}</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">,</span><span class="nx">xhr</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span><span class="k">return</span> <span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">MISSING_DOC</span><span class="p">)}</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">doc</span><span class="p">,</span><span class="nx">xhr</span><span class="p">)})};</span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">fun</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">params</span><span class="o">=</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">reduce</span><span class="o">!==</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;reduce=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">reduce</span><span class="p">)}</span><span class="nx">params</span><span class="o">=</span><span class="nx">params</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">);</span><span class="nx">params</span><span class="o">=</span><span class="nx">params</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;?&quot;</span><span class="o">+</span><span class="nx">params</span><span class="p">;</span><span class="kd">var</span> <span class="nx">parts</span><span class="o">=</span><span class="nx">fun</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;_design/&quot;</span><span class="o">+</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;/_view/&quot;</span><span class="o">+</span><span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">params</span><span class="p">),},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">remove</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;?rev=&quot;</span><span class="o">+</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">putAttachment</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="nx">rev</span><span class="p">,</span><span class="nx">doc</span><span class="p">,</span><span class="nx">type</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="nx">id</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;?rev=&quot;</span><span class="o">+</span><span class="nx">rev</span><span class="p">,</span><span class="nx">headers</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;Content-Type&quot;</span><span class="o">:</span><span class="nx">type</span><span class="p">},</span><span class="nx">data</span><span class="o">:</span><span class="nx">doc</span><span class="p">},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">put</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">params</span><span class="o">=</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">new_edits</span><span class="o">!==</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;new_edits=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">new_edits</span><span class="p">)}</span><span class="nx">params</span><span class="o">=</span><span class="nx">params</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">params</span><span class="o">!==</span><span class="s2">&quot;&quot;</span><span class="p">){</span><span class="nx">params</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="o">+</span><span class="nx">params</span><span class="p">}</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="p">)</span><span class="o">+</span><span class="nx">params</span><span class="p">,</span><span class="nx">data</span><span class="o">:</span><span class="nx">doc</span><span class="p">},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">data</span><span class="o">:</span><span class="nx">doc</span><span class="p">},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">bulkDocs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">new_edits</span><span class="o">!==</span><span class="s2">&quot;undefined&quot;</span><span class="p">){</span><span class="nx">req</span><span class="p">.</span><span class="nx">new_edits</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">new_edits</span><span class="p">}</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;_bulk_docs&quot;</span><span class="p">),</span><span class="nx">data</span><span class="o">:</span><span class="nx">req</span><span class="p">},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">allDocs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">params</span><span class="o">=</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;conflicts=true&quot;</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">include_docs</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;include_docs=true&quot;</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">startkey</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;startkey=&quot;</span><span class="o">+</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">startkey</span><span class="p">)))}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">endkey</span><span class="p">){</span><span class="nx">params</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;endkey=&quot;</span><span class="o">+</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">endkey</span><span class="p">)))}</span><span class="nx">params</span><span class="o">=</span><span class="nx">params</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">params</span><span class="o">!==</span><span class="s2">&quot;&quot;</span><span class="p">){</span><span class="nx">params</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="o">+</span><span class="nx">params</span><span class="p">}</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;_all_docs&quot;</span><span class="o">+</span><span class="nx">params</span><span class="p">)},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">changes</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">opts</span><span class="o">=</span><span class="p">{</span><span class="nx">complete</span><span class="o">:</span><span class="nx">opts</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="nx">callback</span><span class="p">}</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">db_url</span><span class="o">+</span><span class="s2">&quot;: Start Changes Feed: continuous=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">);</span><span class="kd">var</span> <span class="nx">params</span><span class="o">=</span><span class="s2">&quot;?style=all_docs&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">include_docs</span><span class="o">||</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">===</span><span class="s2">&quot;function&quot;</span><span class="p">){</span><span class="nx">params</span><span class="o">+=</span><span class="s2">&quot;&amp;include_docs=true&quot;</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">){</span><span class="nx">params</span><span class="o">+=</span><span class="s2">&quot;&amp;feed=longpoll&quot;</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">){</span><span class="nx">params</span><span class="o">+=</span><span class="s2">&quot;&amp;conflicts=true&quot;</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">descending</span><span class="p">){</span><span class="nx">params</span><span class="o">+=</span><span class="s2">&quot;&amp;descending=true&quot;</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="nx">params</span><span class="o">+=</span><span class="s2">&quot;&amp;filter=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">}</span><span class="kd">var</span> <span class="nx">xhr</span><span class="p">;</span><span class="kd">var</span> <span class="nx">fetch</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">since</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">xhrOpts</span><span class="o">=</span><span class="p">{</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;_changes&quot;</span><span class="o">+</span><span class="nx">params</span><span class="o">+</span><span class="s2">&quot;&amp;since=&quot;</span><span class="o">+</span><span class="nx">since</span><span class="p">)};</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">aborted</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="nx">xhr</span><span class="o">=</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">xhrOpts</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">){</span><span class="nx">callback</span><span class="p">(</span><span class="nx">res</span><span class="p">)})};</span><span class="kd">var</span> <span class="nx">fetched</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">res</span><span class="o">&amp;&amp;</span><span class="nx">res</span><span class="p">.</span><span class="nx">results</span><span class="p">){</span><span class="nx">res</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">hasFilter</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">===</span><span class="s2">&quot;function&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">aborted</span><span class="o">||</span><span class="nx">hasFilter</span><span class="o">&amp;&amp;!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[</span><span class="nx">c</span><span class="p">.</span><span class="nx">doc</span><span class="p">])){</span><span class="k">return</span><span class="p">}</span><span class="nx">call</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">onChange</span><span class="p">,</span><span class="nx">c</span><span class="p">)})}</span><span class="k">if</span><span class="p">(</span><span class="nx">res</span><span class="o">&amp;&amp;</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">){</span><span class="nx">fetch</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">last_seq</span><span class="p">,</span><span class="nx">fetched</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">call</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">res</span><span class="p">)}};</span><span class="nx">fetch</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">since</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">fetched</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">cancel</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">db_url</span><span class="o">+</span><span class="s2">&quot;: Cancel Changes Feed&quot;</span><span class="p">);</span><span class="nx">opts</span><span class="p">.</span><span class="nx">aborted</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">abort</span><span class="p">()}}};</span><span class="nx">api</span><span class="p">.</span><span class="nx">revsDiff</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;_revs_diff&quot;</span><span class="p">),</span><span class="nx">data</span><span class="o">:</span><span class="nx">req</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">res</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">res</span><span class="p">)})};</span><span class="nx">api</span><span class="p">.</span><span class="nx">replicate</span><span class="o">=</span><span class="p">{};</span><span class="nx">api</span><span class="p">.</span><span class="nx">replicate</span><span class="p">.</span><span class="nx">from</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">return</span> <span class="nx">Pouch</span><span class="p">.</span><span class="nx">replicate</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">api</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">replicate</span><span class="p">.</span><span class="nx">to</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">dbName</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">return</span> <span class="nx">Pouch</span><span class="p">.</span><span class="nx">replicate</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="nx">dbName</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">)};</span><span class="k">return</span> <span class="nx">api</span><span class="p">};</span><span class="nx">HttpPouch</span><span class="p">.</span><span class="nx">destroy</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">host</span><span class="o">=</span><span class="nx">getHost</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">auth</span><span class="o">:</span><span class="nx">host</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="nx">genUrl</span><span class="p">(</span><span class="nx">host</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">HttpPouch</span><span class="p">.</span><span class="nx">valid</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="kc">true</span><span class="p">};</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapter</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span><span class="nx">HttpPouch</span><span class="p">);</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapter</span><span class="p">(</span><span class="s2">&quot;https&quot;</span><span class="p">,</span><span class="nx">HttpPouch</span><span class="p">);</span><span class="nb">window</span><span class="p">.</span><span class="nx">indexedDB</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">indexedDB</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">mozIndexedDB</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">webkitIndexedDB</span><span class="p">;</span><span class="nb">window</span><span class="p">.</span><span class="nx">IDBCursor</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">IDBCursor</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">webkitIDBCursor</span><span class="p">;</span><span class="nb">window</span><span class="p">.</span><span class="nx">IDBKeyRange</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">IDBKeyRange</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">webkitIDBKeyRange</span><span class="p">;</span><span class="nb">window</span><span class="p">.</span><span class="nx">IDBTransaction</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">IDBTransaction</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">webkitIDBTransaction</span><span class="p">;</span><span class="nx">IDBTransaction</span><span class="o">=</span><span class="nx">IDBTransaction</span><span class="o">||</span><span class="p">{};</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ_WRITE</span><span class="o">=</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ_WRITE</span><span class="o">||</span><span class="s2">&quot;readwrite&quot;</span><span class="p">;</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ</span><span class="o">=</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ</span><span class="o">||</span><span class="s2">&quot;readonly&quot;</span><span class="p">;</span><span class="nx">IDBCursor</span><span class="o">=</span><span class="nx">IDBCursor</span><span class="o">||</span><span class="p">{};</span><span class="nx">IDBCursor</span><span class="p">.</span><span class="nx">NEXT</span><span class="o">=</span><span class="nx">IDBCursor</span><span class="p">.</span><span class="nx">NEXT</span><span class="o">||</span><span class="s2">&quot;next&quot;</span><span class="p">;</span><span class="nx">IDBCursor</span><span class="p">.</span><span class="nx">PREV</span><span class="o">=</span><span class="nx">IDBCursor</span><span class="p">.</span><span class="nx">PREV</span><span class="o">||</span><span class="s2">&quot;prev&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">idbError</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,{</span><span class="nx">status</span><span class="o">:</span><span class="mi">500</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="nx">reason</span><span class="o">:</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">})}};</span><span class="kd">var</span> <span class="nx">IdbPouch</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">POUCH_VERSION</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">DOC_STORE</span><span class="o">=</span><span class="s2">&quot;document-store&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">BY_SEQ_STORE</span><span class="o">=</span><span class="s2">&quot;by-sequence&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">ATTACH_STORE</span><span class="o">=</span><span class="s2">&quot;attach-store&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">name</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span><span class="kd">var</span> <span class="nx">req</span><span class="o">=</span><span class="nx">indexedDB</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">POUCH_VERSION</span><span class="p">);</span><span class="kd">var</span> <span class="nx">update_seq</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">api</span><span class="o">=</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">idb</span><span class="p">;</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: Open Database&quot;</span><span class="p">);</span><span class="nx">req</span><span class="p">.</span><span class="nx">onupgradeneeded</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">db</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="nx">db</span><span class="p">.</span><span class="nx">createObjectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">,{</span><span class="nx">keyPath</span><span class="o">:</span><span class="s2">&quot;id&quot;</span><span class="p">}).</span><span class="nx">createIndex</span><span class="p">(</span><span class="s2">&quot;seq&quot;</span><span class="p">,</span><span class="s2">&quot;seq&quot;</span><span class="p">,{</span><span class="nx">unique</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span><span class="nx">db</span><span class="p">.</span><span class="nx">createObjectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">,{</span><span class="nx">autoIncrement</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span><span class="nx">db</span><span class="p">.</span><span class="nx">createObjectStore</span><span class="p">(</span><span class="nx">ATTACH_STORE</span><span class="p">,{</span><span class="nx">keyPath</span><span class="o">:</span><span class="s2">&quot;digest&quot;</span><span class="p">})};</span><span class="nx">req</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">idb</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="nx">idb</span><span class="p">.</span><span class="nx">onversionchange</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">idb</span><span class="p">.</span><span class="nx">close</span><span class="p">()};</span><span class="k">if</span><span class="p">(</span><span class="nx">idb</span><span class="p">.</span><span class="nx">setVersion</span><span class="o">&amp;&amp;</span><span class="nb">Number</span><span class="p">(</span><span class="nx">idb</span><span class="p">.</span><span class="nx">version</span><span class="p">)</span><span class="o">!==</span><span class="nx">POUCH_VERSION</span><span class="p">){</span><span class="kd">var</span> <span class="nx">versionReq</span><span class="o">=</span><span class="nx">idb</span><span class="p">.</span><span class="nx">setVersion</span><span class="p">(</span><span class="nx">POUCH_VERSION</span><span class="p">);</span><span class="nx">versionReq</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">){</span><span class="kd">function</span> <span class="nx">setVersionComplete</span><span class="p">(){</span><span class="nx">req</span><span class="p">.</span><span class="nx">onsuccess</span><span class="p">(</span><span class="nx">e</span><span class="p">)}</span><span class="nx">evt</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">oncomplete</span><span class="o">=</span><span class="nx">setVersionComplete</span><span class="p">;</span><span class="nx">req</span><span class="p">.</span><span class="nx">onupgradeneeded</span><span class="p">(</span><span class="nx">e</span><span class="p">)};</span><span class="k">return</span><span class="p">}</span><span class="nx">api</span><span class="p">.</span><span class="nx">changes</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">changes</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">changes</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">update_seq</span><span class="o">=</span><span class="nx">changes</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="nx">changes</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">seq</span><span class="p">}</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">api</span><span class="p">)})};</span><span class="nx">req</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="nx">idbError</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span><span class="nx">api</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_id</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">id</span><span class="o">=</span><span class="nx">localJSON</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="kc">null</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">id</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="nx">id</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuid</span><span class="p">();</span><span class="nx">localJSON</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span><span class="nx">id</span><span class="p">)}</span><span class="k">return</span> <span class="nx">id</span><span class="p">};</span><span class="nx">api</span><span class="p">.</span><span class="nx">bulkDocs</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_bulkDocs</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">opts</span><span class="p">){</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">docs</span><span class="p">){</span><span class="k">return</span> <span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">MISSING_BULK_DOCS</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">newEdits</span><span class="o">=</span><span class="s2">&quot;new_edits&quot;</span> <span class="k">in</span> <span class="nx">opts</span><span class="o">?</span><span class="nx">opts</span><span class="p">.</span><span class="nx">new_edits</span><span class="o">:</span><span class="kc">true</span><span class="p">;</span><span class="kd">var</span> <span class="nx">userDocs</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">docs</span><span class="p">));</span><span class="kd">var</span> <span class="nx">docInfos</span><span class="o">=</span><span class="nx">userDocs</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">newDoc</span><span class="o">=</span><span class="nx">parseDoc</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">newEdits</span><span class="p">);</span><span class="nx">newDoc</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="o">=</span><span class="nx">i</span><span class="p">;</span><span class="k">return</span> <span class="nx">newDoc</span><span class="p">});</span><span class="kd">var</span> <span class="nx">results</span><span class="o">=</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">docs</span><span class="o">=</span><span class="p">[];</span><span class="nx">docInfos</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">error</span><span class="p">){</span><span class="k">return</span> <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">docs</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="o">!==</span><span class="nx">docs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">){</span><span class="k">return</span> <span class="nx">docs</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">)}</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">makeErr</span><span class="p">(</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">REV_CONFLICT</span><span class="p">,</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="p">))});</span><span class="kd">var</span> <span class="nx">txn</span><span class="o">=</span><span class="nx">idb</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="nx">DOC_STORE</span><span class="p">,</span><span class="nx">BY_SEQ_STORE</span><span class="p">,</span><span class="nx">ATTACH_STORE</span><span class="p">],</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ_WRITE</span><span class="p">);</span><span class="nx">txn</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="nx">idbError</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span><span class="nx">txn</span><span class="p">.</span><span class="nx">ontimeout</span><span class="o">=</span><span class="nx">idbError</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span><span class="nx">processDocs</span><span class="p">();</span><span class="kd">function</span> <span class="nx">processDocs</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">docs</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">return</span> <span class="nx">complete</span><span class="p">()}</span><span class="kd">var</span> <span class="nx">currentDoc</span><span class="o">=</span><span class="nx">docs</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span><span class="kd">var</span> <span class="nx">req</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">currentDoc</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span><span class="nx">req</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span> <span class="nx">process_docRead</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="kd">var</span> <span class="nx">oldDoc</span><span class="o">=</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">oldDoc</span><span class="p">){</span><span class="nx">insertDoc</span><span class="p">(</span><span class="nx">currentDoc</span><span class="p">,</span><span class="nx">processDocs</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="nx">updateDoc</span><span class="p">(</span><span class="nx">oldDoc</span><span class="p">,</span><span class="nx">currentDoc</span><span class="p">)}}}</span><span class="kd">function</span> <span class="nx">complete</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="kd">var</span> <span class="nx">aresults</span><span class="o">=</span><span class="p">[];</span><span class="nx">results</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">sortByBulkSeq</span><span class="p">);</span><span class="nx">results</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span><span class="k">delete</span> <span class="nx">result</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">error</span><span class="p">){</span><span class="nx">aresults</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">metadata</span><span class="o">=</span><span class="nx">result</span><span class="p">.</span><span class="nx">metadata</span><span class="p">;</span><span class="kd">var</span> <span class="nx">rev</span><span class="o">=</span><span class="nx">winningRev</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">,</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="p">);</span><span class="nx">aresults</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">ok</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">id</span><span class="o">:</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">rev</span><span class="o">:</span><span class="nx">rev</span><span class="p">,});</span><span class="k">if</span><span class="p">(</span><span class="sr">/_local/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">)){</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">change</span><span class="o">=</span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">seq</span><span class="o">:</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">seq</span><span class="p">,</span><span class="nx">changes</span><span class="o">:</span><span class="nx">collectLeaves</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">),</span><span class="nx">doc</span><span class="o">:</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">};</span><span class="nx">change</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="nx">rev</span><span class="p">;</span><span class="nx">update_seq</span><span class="o">++</span><span class="p">;</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">Changes</span><span class="p">.</span><span class="nx">emitChange</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">change</span><span class="p">)});</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">aresults</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">writeDoc</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">stub</span><span class="p">){</span><span class="kd">var</span> <span class="nx">data</span><span class="o">=</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">data</span><span class="p">;</span><span class="kd">var</span> <span class="nx">digest</span><span class="o">=</span><span class="s2">&quot;md5-&quot;</span><span class="o">+</span><span class="nx">Crypto</span><span class="p">.</span><span class="nx">MD5</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span><span class="k">delete</span> <span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">data</span><span class="p">;</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">digest</span><span class="o">=</span><span class="nx">digest</span><span class="p">;</span><span class="nx">saveAttachment</span><span class="p">(</span><span class="nx">digest</span><span class="p">,</span><span class="nx">data</span><span class="p">)}}</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_id</span><span class="o">=</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="p">){</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">_deleted</span><span class="o">=</span><span class="kc">true</span><span class="p">}</span><span class="kd">var</span> <span class="nx">dataReq</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">).</span><span class="nx">put</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span><span class="nx">dataReq</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: Wrote Document &quot;</span><span class="p">,</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">seq</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="k">delete</span> <span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev</span><span class="p">;</span><span class="kd">var</span> <span class="nx">metaDataReq</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">).</span><span class="nx">put</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">);</span><span class="nx">metaDataReq</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">);</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">)}}}</span><span class="kd">function</span> <span class="nx">updateDoc</span><span class="p">(</span><span class="nx">oldDoc</span><span class="p">,</span><span class="nx">docInfo</span><span class="p">){</span><span class="kd">var</span> <span class="nx">merged</span><span class="o">=</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">oldDoc</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">,</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1000</span><span class="p">);</span><span class="kd">var</span> <span class="nx">inConflict</span><span class="o">=</span><span class="p">(</span><span class="nx">oldDoc</span><span class="p">.</span><span class="nx">deleted</span><span class="o">&amp;&amp;</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="o">!</span><span class="nx">oldDoc</span><span class="p">.</span><span class="nx">deleted</span><span class="o">&amp;&amp;</span><span class="nx">newEdits</span><span class="o">&amp;&amp;</span><span class="nx">merged</span><span class="p">.</span><span class="nx">conflicts</span><span class="o">!==</span><span class="s2">&quot;new_leaf&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">inConflict</span><span class="p">){</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">makeErr</span><span class="p">(</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">REV_CONFLICT</span><span class="p">,</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="p">));</span><span class="k">return</span> <span class="nx">processDocs</span><span class="p">()}</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="o">=</span><span class="nx">merged</span><span class="p">.</span><span class="nx">tree</span><span class="p">;</span><span class="nx">writeDoc</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">,</span><span class="nx">processDocs</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">insertDoc</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">&quot;was_delete&quot;</span> <span class="k">in</span> <span class="nx">opts</span><span class="o">&amp;&amp;</span><span class="nx">docInfo</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="p">){</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">MISSING_DOC</span><span class="p">);</span><span class="k">return</span> <span class="nx">processDocs</span><span class="p">()}</span><span class="nx">writeDoc</span><span class="p">(</span><span class="nx">docInfo</span><span class="p">,</span><span class="nx">processDocs</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">makeErr</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">seq</span><span class="p">){</span><span class="nx">err</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="o">=</span><span class="nx">seq</span><span class="p">;</span><span class="k">return</span> <span class="nx">err</span><span class="p">}</span><span class="kd">function</span> <span class="nx">saveAttachment</span><span class="p">(</span><span class="nx">digest</span><span class="p">,</span><span class="nx">data</span><span class="p">){</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">ATTACH_STORE</span><span class="p">).</span><span class="nx">put</span><span class="p">({</span><span class="nx">digest</span><span class="o">:</span><span class="nx">digest</span><span class="p">,</span><span class="nx">body</span><span class="o">:</span><span class="nx">data</span><span class="p">})}};</span><span class="kd">function</span> <span class="nx">sortByBulkSeq</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="o">-</span><span class="nx">b</span><span class="p">.</span><span class="nx">_bulk_seq</span><span class="p">}</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_get</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">txn</span><span class="o">=</span><span class="nx">idb</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="nx">DOC_STORE</span><span class="p">,</span><span class="nx">BY_SEQ_STORE</span><span class="p">,</span><span class="nx">ATTACH_STORE</span><span class="p">],</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="sr">/\//</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="sr">/^_local/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="sr">/^_design/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">docId</span><span class="o">=</span><span class="nx">id</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="kd">var</span> <span class="nx">attachId</span><span class="o">=</span><span class="nx">id</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">docId</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">metadata</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="kd">var</span> <span class="nx">bySeq</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">);</span><span class="nx">bySeq</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">seq</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">digest</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">attachId</span><span class="p">].</span><span class="nx">digest</span><span class="p">;</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">ATTACH_STORE</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">digest</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">atob</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">body</span><span class="p">))}}};</span><span class="k">return</span><span class="p">}</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">metadata</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="o">||</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="o">&amp;&amp;!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">rev</span><span class="p">)){</span><span class="k">return</span> <span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">Errors</span><span class="p">.</span><span class="nx">MISSING_DOC</span><span class="p">)}</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">seq</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">doc</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="o">=</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="nx">winningRev</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">,</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">revs</span><span class="p">){</span><span class="kd">var</span> <span class="nx">path</span><span class="o">=</span><span class="nx">arrayFirst</span><span class="p">(</span><span class="nx">rootToLeaf</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">),</span><span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span><span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">!==-</span><span class="mi">1</span><span class="p">});</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revisions</span><span class="o">=</span><span class="p">{</span><span class="nx">start</span><span class="o">:</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">pos</span><span class="o">+</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">ids</span><span class="o">:</span><span class="nx">path</span><span class="p">.</span><span class="nx">ids</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">revs_info</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revs_info</span><span class="o">=</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span><span class="nx">current</span><span class="p">){</span><span class="k">return</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">collectRevs</span><span class="p">(</span><span class="nx">current</span><span class="p">))},[])}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">){</span><span class="kd">var</span> <span class="nx">conflicts</span><span class="o">=</span><span class="nx">collectConflicts</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">conflicts</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_conflicts</span><span class="o">=</span><span class="nx">conflicts</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">attachments</span><span class="o">&amp;&amp;</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">){</span><span class="kd">var</span> <span class="nx">attachments</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">);</span><span class="kd">var</span> <span class="nx">recv</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">attachments</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">){</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_id</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="nx">key</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">data</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">data</span><span class="o">=</span><span class="nx">btoa</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">++</span><span class="nx">recv</span><span class="o">===</span><span class="nx">attachments</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">doc</span><span class="p">)}})})}</span><span class="k">else</span><span class="p">{</span><span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">doc</span><span class="p">)}}}};</span><span class="nx">api</span><span class="p">.</span><span class="nx">put</span><span class="o">=</span><span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_put</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">bulkDocs</span><span class="p">({</span><span class="nx">docs</span><span class="o">:</span><span class="p">[</span><span class="nx">doc</span><span class="p">]},</span><span class="nx">opts</span><span class="p">,</span><span class="nx">yankError</span><span class="p">(</span><span class="nx">callback</span><span class="p">))};</span><span class="nx">api</span><span class="p">.</span><span class="nx">remove</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_remove</span><span class="p">(</span><span class="nx">doc</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="nx">opts</span><span class="p">.</span><span class="nx">was_delete</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="kd">var</span> <span class="nx">newDoc</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">doc</span><span class="p">));</span><span class="nx">newDoc</span><span class="p">.</span><span class="nx">_deleted</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">bulkDocs</span><span class="p">({</span><span class="nx">docs</span><span class="o">:</span><span class="p">[</span><span class="nx">newDoc</span><span class="p">]},</span><span class="nx">opts</span><span class="p">,</span><span class="nx">yankError</span><span class="p">(</span><span class="nx">callback</span><span class="p">))};</span><span class="nx">api</span><span class="p">.</span><span class="nx">allDocs</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_allDocs</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">start</span><span class="o">=</span><span class="s2">&quot;startkey&quot;</span> <span class="k">in</span> <span class="nx">opts</span><span class="o">?</span><span class="nx">opts</span><span class="p">.</span><span class="nx">startkey</span><span class="o">:</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">end</span><span class="o">=</span><span class="s2">&quot;endkey&quot;</span> <span class="k">in</span> <span class="nx">opts</span><span class="o">?</span><span class="nx">opts</span><span class="p">.</span><span class="nx">endkey</span><span class="o">:</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">descending</span><span class="o">=</span><span class="s2">&quot;descending&quot;</span> <span class="k">in</span> <span class="nx">opts</span><span class="o">?</span><span class="nx">opts</span><span class="p">.</span><span class="nx">descending</span><span class="o">:</span><span class="kc">false</span><span class="p">;</span><span class="nx">descending</span><span class="o">=</span><span class="nx">descending</span><span class="o">?</span><span class="nx">IDBCursor</span><span class="p">.</span><span class="nx">PREV</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">keyRange</span><span class="o">=</span><span class="nx">start</span><span class="o">&amp;&amp;</span><span class="nx">end</span><span class="o">?</span><span class="nx">IDBKeyRange</span><span class="p">.</span><span class="nx">bound</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span><span class="nx">end</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="p">)</span><span class="o">:</span><span class="nx">start</span><span class="o">?</span><span class="nx">IDBKeyRange</span><span class="p">.</span><span class="nx">lowerBound</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span><span class="kc">true</span><span class="p">)</span><span class="o">:</span><span class="nx">end</span><span class="o">?</span><span class="nx">IDBKeyRange</span><span class="p">.</span><span class="nx">upperBound</span><span class="p">(</span><span class="nx">end</span><span class="p">)</span><span class="o">:</span><span class="kc">false</span><span class="p">;</span><span class="kd">var</span> <span class="nx">transaction</span><span class="o">=</span><span class="nx">idb</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="nx">DOC_STORE</span><span class="p">,</span><span class="nx">BY_SEQ_STORE</span><span class="p">],</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ</span><span class="p">);</span><span class="nx">keyRange</span><span class="o">=</span><span class="nx">keyRange</span><span class="o">||</span><span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">oStore</span><span class="o">=</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">);</span><span class="kd">var</span> <span class="nx">oCursor</span><span class="o">=</span><span class="nx">descending</span><span class="o">?</span><span class="nx">oStore</span><span class="p">.</span><span class="nx">openCursor</span><span class="p">(</span><span class="nx">keyRange</span><span class="p">,</span><span class="nx">descending</span><span class="p">)</span><span class="o">:</span><span class="nx">oStore</span><span class="p">.</span><span class="nx">openCursor</span><span class="p">(</span><span class="nx">keyRange</span><span class="p">);</span><span class="kd">var</span> <span class="nx">results</span><span class="o">=</span><span class="p">[];</span><span class="nx">oCursor</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">){</span><span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,{</span><span class="nx">total_rows</span><span class="o">:</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">rows</span><span class="o">:</span><span class="nx">results</span><span class="p">})}</span><span class="kd">var</span> <span class="nx">cursor</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="kd">function</span> <span class="nx">allDocsInner</span><span class="p">(</span><span class="nx">metadata</span><span class="p">,</span><span class="nx">data</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="sr">/_local/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">)){</span><span class="k">return</span> <span class="nx">cursor</span><span class="p">[</span><span class="s2">&quot;continue&quot;</span><span class="p">]()}</span><span class="k">if</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="o">!==</span><span class="kc">true</span><span class="p">){</span><span class="kd">var</span> <span class="nx">doc</span><span class="o">=</span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">key</span><span class="o">:</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="p">{</span><span class="nx">rev</span><span class="o">:</span><span class="nx">winningRev</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">,</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="p">)}};</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">include_docs</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">doc</span><span class="o">=</span><span class="nx">data</span><span class="p">;</span><span class="nx">doc</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="nx">winningRev</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">,</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">){</span><span class="nx">doc</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_conflicts</span><span class="o">=</span><span class="nx">collectConflicts</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">)}}</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">doc</span><span class="p">)}</span><span class="nx">cursor</span><span class="p">[</span><span class="s2">&quot;continue&quot;</span><span class="p">]()}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">include_docs</span><span class="p">){</span><span class="nx">allDocsInner</span><span class="p">(</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">index</span><span class="o">=</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">);</span><span class="nx">index</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">seq</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="nx">allDocsInner</span><span class="p">(</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">)}}}};</span><span class="nx">api</span><span class="p">.</span><span class="nx">info</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_info</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">idb</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="nx">DOC_STORE</span><span class="p">],</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ</span><span class="p">).</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">).</span><span class="nx">openCursor</span><span class="p">().</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">cursor</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">cursor</span><span class="p">){</span><span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,{</span><span class="nx">db_name</span><span class="o">:</span><span class="nx">name</span><span class="p">,</span><span class="nx">doc_count</span><span class="o">:</span><span class="nx">count</span><span class="p">,</span><span class="nx">update_seq</span><span class="o">:</span><span class="nx">update_seq</span><span class="p">})}</span><span class="k">if</span><span class="p">(</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">deleted</span><span class="o">!==</span><span class="kc">true</span><span class="p">){</span><span class="nx">count</span><span class="o">++</span><span class="p">}</span><span class="nx">cursor</span><span class="p">[</span><span class="s2">&quot;continue&quot;</span><span class="p">]()}};</span><span class="nx">api</span><span class="p">.</span><span class="nx">putAttachment</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_putAttachment</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="nx">rev</span><span class="p">,</span><span class="nx">doc</span><span class="p">,</span><span class="nx">type</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="kd">var</span> <span class="nx">docId</span><span class="o">=</span><span class="nx">id</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="kd">var</span> <span class="nx">attachId</span><span class="o">=</span><span class="nx">id</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">docId</span><span class="p">,{</span><span class="nx">attachments</span><span class="o">:</span><span class="kc">true</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">obj</span><span class="p">){</span><span class="nx">obj</span><span class="p">.</span><span class="nx">_attachments</span><span class="o">||</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">_attachments</span><span class="o">=</span><span class="p">{});</span><span class="nx">obj</span><span class="p">.</span><span class="nx">_attachments</span><span class="p">[</span><span class="nx">attachId</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">content_type</span><span class="o">:</span><span class="nx">type</span><span class="p">,</span><span class="nx">data</span><span class="o">:</span><span class="nx">btoa</span><span class="p">(</span><span class="nx">doc</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="nx">callback</span><span class="p">)})};</span><span class="nx">api</span><span class="p">.</span><span class="nx">revsDiff</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_revsDiff</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="kd">var</span> <span class="nx">ids</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">req</span><span class="p">);</span><span class="kd">var</span> <span class="nx">count</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">missing</span><span class="o">=</span><span class="p">{};</span><span class="kd">function</span> <span class="nx">readDoc</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="nx">req</span><span class="p">[</span><span class="nx">id</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">revId</span><span class="p">){</span><span class="kd">var</span> <span class="nx">matches</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">rev</span><span class="o">!==</span><span class="nx">revId</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">doc</span><span class="o">||</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_revs_info</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="nx">matches</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">missing</span><span class="p">[</span><span class="nx">id</span><span class="p">]){</span><span class="nx">missing</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">missing</span><span class="o">:</span><span class="p">[]}}</span><span class="nx">missing</span><span class="p">[</span><span class="nx">id</span><span class="p">].</span><span class="nx">missing</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">revId</span><span class="p">)}});</span><span class="k">if</span><span class="p">(</span><span class="o">++</span><span class="nx">count</span><span class="o">===</span><span class="nx">ids</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">return</span> <span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">missing</span><span class="p">)}}</span><span class="nx">ids</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">id</span><span class="p">,{</span><span class="nx">revs_info</span><span class="o">:</span><span class="kc">true</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">){</span><span class="nx">readDoc</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">,</span><span class="nx">id</span><span class="p">)})})};</span><span class="nx">api</span><span class="p">.</span><span class="nx">changes</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_changes</span><span class="p">(</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">opts</span><span class="o">=</span><span class="p">{</span><span class="nx">complete</span><span class="o">:</span><span class="nx">opts</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="nx">callback</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">seq</span><span class="p">){</span><span class="nx">opts</span><span class="p">.</span><span class="nx">seq</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">since</span><span class="p">){</span><span class="nx">opts</span><span class="p">.</span><span class="nx">seq</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">since</span><span class="p">}</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: Start Changes Feed: continuous=&quot;</span><span class="o">+</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">);</span><span class="kd">var</span> <span class="nx">descending</span><span class="o">=</span><span class="s2">&quot;descending&quot;</span> <span class="k">in</span> <span class="nx">opts</span><span class="o">?</span><span class="nx">opts</span><span class="p">.</span><span class="nx">descending</span><span class="o">:</span><span class="kc">false</span><span class="p">;</span><span class="nx">descending</span><span class="o">=</span><span class="nx">descending</span><span class="o">?</span><span class="nx">IDBCursor</span><span class="p">.</span><span class="nx">PREV</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">results</span><span class="o">=</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">id</span><span class="o">=</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">uuid</span><span class="p">();</span><span class="kd">var</span> <span class="nx">txn</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">filterName</span><span class="o">=</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;_design/&quot;</span><span class="o">+</span><span class="nx">filterName</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">ddoc</span><span class="p">){</span><span class="kd">var</span> <span class="nx">filter</span><span class="o">=</span><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;(function() { return &quot;</span><span class="o">+</span><span class="nx">ddoc</span><span class="p">.</span><span class="nx">filters</span><span class="p">[</span><span class="nx">filterName</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="s2">&quot; })()&quot;</span><span class="p">);</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="nx">filter</span><span class="p">;</span><span class="nx">fetchChanges</span><span class="p">()})}</span><span class="k">else</span><span class="p">{</span><span class="nx">fetchChanges</span><span class="p">()}</span><span class="kd">function</span> <span class="nx">fetchChanges</span><span class="p">(){</span><span class="nx">txn</span><span class="o">=</span><span class="nx">idb</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="nx">DOC_STORE</span><span class="p">,</span><span class="nx">BY_SEQ_STORE</span><span class="p">]);</span><span class="nx">txn</span><span class="p">.</span><span class="nx">oncomplete</span><span class="o">=</span><span class="nx">onTxnComplete</span><span class="p">;</span><span class="kd">var</span> <span class="nx">req</span><span class="o">=</span><span class="nx">descending</span><span class="o">?</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">).</span><span class="nx">openCursor</span><span class="p">(</span><span class="nx">IDBKeyRange</span><span class="p">.</span><span class="nx">lowerBound</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">seq</span><span class="p">,</span><span class="kc">true</span><span class="p">),</span><span class="nx">descending</span><span class="p">)</span><span class="o">:</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">).</span><span class="nx">openCursor</span><span class="p">(</span><span class="nx">IDBKeyRange</span><span class="p">.</span><span class="nx">lowerBound</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">seq</span><span class="p">,</span><span class="kc">true</span><span class="p">));</span><span class="nx">req</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="nx">onsuccess</span><span class="p">;</span><span class="nx">req</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="nx">onerror</span><span class="p">}</span><span class="kd">function</span> <span class="nx">onsuccess</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="o">&amp;&amp;!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">cancelled</span><span class="p">){</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">Changes</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">id</span><span class="p">,</span><span class="nx">opts</span><span class="p">)}</span><span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">&amp;&amp;!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[</span><span class="nx">c</span><span class="p">.</span><span class="nx">doc</span><span class="p">])){</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">include_docs</span><span class="p">){</span><span class="k">delete</span> <span class="nx">c</span><span class="p">.</span><span class="nx">doc</span><span class="p">}</span><span class="nx">call</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">onChange</span><span class="p">,</span><span class="nx">c</span><span class="p">)});</span><span class="k">return</span> <span class="kc">false</span><span class="p">}</span><span class="kd">var</span> <span class="nx">cursor</span><span class="o">=</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="kd">var</span> <span class="nx">index</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">);</span><span class="nx">index</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">_id</span><span class="p">).</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span><span class="kd">var</span> <span class="nx">metadata</span><span class="o">=</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="sr">/_local/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">)){</span><span class="k">return</span> <span class="nx">cursor</span><span class="p">[</span><span class="s2">&quot;continue&quot;</span><span class="p">]()}</span><span class="kd">var</span> <span class="nx">change</span><span class="o">=</span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">seq</span><span class="o">:</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">changes</span><span class="o">:</span><span class="nx">collectLeaves</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">),</span><span class="nx">doc</span><span class="o">:</span><span class="nx">cursor</span><span class="p">.</span><span class="nx">value</span><span class="p">,};</span><span class="nx">change</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="nx">winningRev</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">,</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="p">){</span><span class="nx">change</span><span class="p">.</span><span class="nx">deleted</span><span class="o">=</span><span class="kc">true</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">conflicts</span><span class="p">){</span><span class="nx">change</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_conflicts</span><span class="o">=</span><span class="nx">collectConflicts</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">)}</span><span class="nx">results</span><span class="o">=</span><span class="nx">results</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">doc</span><span class="p">){</span><span class="k">return</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">id</span><span class="o">!==</span><span class="nx">change</span><span class="p">.</span><span class="nx">id</span><span class="p">});</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">change</span><span class="p">);</span><span class="nx">cursor</span><span class="p">[</span><span class="s2">&quot;continue&quot;</span><span class="p">]()}}</span><span class="kd">function</span> <span class="nx">onTxnComplete</span><span class="p">(){</span><span class="nx">call</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span><span class="p">,</span><span class="kc">null</span><span class="p">,{</span><span class="nx">results</span><span class="o">:</span><span class="nx">results</span><span class="p">})}</span><span class="kd">function</span> <span class="nx">onerror</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">){</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">Changes</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">id</span><span class="p">,</span><span class="nx">opts</span><span class="p">)}</span><span class="nx">call</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">continuous</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">cancel</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: Cancel Changes Feed&quot;</span><span class="p">);</span><span class="nx">opts</span><span class="p">.</span><span class="nx">cancelled</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">Changes</span><span class="p">.</span><span class="nx">removeListener</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">id</span><span class="p">)}}}};</span><span class="nx">api</span><span class="p">.</span><span class="nx">replicate</span><span class="o">=</span><span class="p">{};</span><span class="nx">api</span><span class="p">.</span><span class="nx">replicate</span><span class="p">.</span><span class="nx">from</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_replicate_from</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">return</span> <span class="nx">Pouch</span><span class="p">.</span><span class="nx">replicate</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">api</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">replicate</span><span class="p">.</span><span class="nx">to</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_replicate_to</span><span class="p">(</span><span class="nx">dbName</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">return</span> <span class="nx">Pouch</span><span class="p">.</span><span class="nx">replicate</span><span class="p">(</span><span class="nx">api</span><span class="p">,</span><span class="nx">dbName</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">api</span><span class="p">.</span><span class="nx">query</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_query</span><span class="p">(</span><span class="nx">fun</span><span class="p">,</span><span class="nx">opts</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">){</span><span class="nx">callback</span><span class="o">=</span><span class="nx">opts</span><span class="p">;</span><span class="nx">opts</span><span class="o">=</span><span class="p">{}}</span><span class="k">if</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="nx">opts</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="nx">callback</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">fun</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">parts</span><span class="o">=</span><span class="nx">fun</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="nx">api</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;_design/&quot;</span><span class="o">+</span><span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">doc</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">err</span><span class="p">)}</span><span class="k">new</span> <span class="nx">viewQuery</span><span class="p">({</span><span class="nx">map</span><span class="o">:</span><span class="nx">doc</span><span class="p">.</span><span class="nx">views</span><span class="p">[</span><span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]].</span><span class="nx">map</span><span class="p">,</span><span class="nx">reduce</span><span class="o">:</span><span class="nx">doc</span><span class="p">.</span><span class="nx">views</span><span class="p">[</span><span class="nx">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]].</span><span class="nx">reduce</span><span class="p">},</span><span class="nx">idb</span><span class="p">,</span><span class="nx">opts</span><span class="p">)})}</span><span class="k">else</span><span class="p">{</span><span class="k">new</span> <span class="nx">viewQuery</span><span class="p">(</span><span class="nx">fun</span><span class="p">,</span><span class="nx">idb</span><span class="p">,</span><span class="nx">opts</span><span class="p">)}};</span><span class="kd">var</span> <span class="nx">yankError</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">results</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="o">||</span><span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">error</span><span class="p">){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="nx">err</span><span class="o">||</span><span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])}</span><span class="k">else</span><span class="p">{</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])}}};</span><span class="kd">var</span> <span class="nx">viewQuery</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">fun</span><span class="p">,</span><span class="nx">idb</span><span class="p">,</span><span class="nx">options</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">complete</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">values</span><span class="p">){</span><span class="k">return</span> <span class="nx">values</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="p">},</span><span class="mi">0</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">txn</span><span class="o">=</span><span class="nx">idb</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="nx">DOC_STORE</span><span class="p">,</span><span class="nx">BY_SEQ_STORE</span><span class="p">],</span><span class="nx">IDBTransaction</span><span class="p">.</span><span class="nx">READ</span><span class="p">);</span><span class="kd">var</span> <span class="nx">objectStore</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">DOC_STORE</span><span class="p">);</span><span class="kd">var</span> <span class="nx">results</span><span class="o">=</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">current</span><span class="p">;</span><span class="kd">var</span> <span class="nx">emit</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="nx">val</span><span class="p">){</span><span class="kd">var</span> <span class="nx">viewRow</span><span class="o">=</span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">current</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span><span class="nx">key</span><span class="o">:</span><span class="nx">key</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">val</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">include_docs</span><span class="p">){</span><span class="nx">viewRow</span><span class="p">.</span><span class="nx">doc</span><span class="o">=</span><span class="nx">current</span><span class="p">.</span><span class="nx">doc</span><span class="p">}</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">viewRow</span><span class="p">)};</span><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;fun.map = &quot;</span><span class="o">+</span><span class="nx">fun</span><span class="p">.</span><span class="nx">map</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">fun</span><span class="p">.</span><span class="nx">reduce</span><span class="p">){</span><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;fun.reduce = &quot;</span><span class="o">+</span><span class="nx">fun</span><span class="p">.</span><span class="nx">reduce</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;;&quot;</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">request</span><span class="o">=</span><span class="nx">objectStore</span><span class="p">.</span><span class="nx">openCursor</span><span class="p">();</span><span class="nx">request</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="nx">idbError</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span><span class="nx">request</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="nx">fetchMetadata</span><span class="p">;</span><span class="kd">function</span> <span class="nx">viewComplete</span><span class="p">(){</span><span class="nx">results</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">Pouch</span><span class="p">.</span><span class="nx">collate</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">key</span><span class="p">)});</span><span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">descending</span><span class="p">){</span><span class="nx">results</span><span class="p">.</span><span class="nx">reverse</span><span class="p">()}</span><span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">reduce</span><span class="o">===</span><span class="kc">false</span><span class="p">){</span><span class="k">return</span> <span class="nx">options</span><span class="p">.</span><span class="nx">complete</span><span class="p">(</span><span class="kc">null</span><span class="p">,{</span><span class="nx">rows</span><span class="o">:</span><span class="nx">results</span><span class="p">})}</span><span class="kd">var</span> <span class="nx">groups</span><span class="o">=</span><span class="p">[];</span><span class="nx">results</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">last</span><span class="o">=</span><span class="nx">groups</span><span class="p">[</span><span class="nx">groups</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">last</span><span class="o">&amp;&amp;</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">collate</span><span class="p">(</span><span class="nx">last</span><span class="p">.</span><span class="nx">key</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">)</span><span class="o">===</span><span class="mi">0</span><span class="p">){</span><span class="nx">last</span><span class="p">.</span><span class="nx">key</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="p">]);</span><span class="nx">last</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="nx">groups</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">key</span><span class="o">:</span><span class="p">[[</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="p">]],</span><span class="nx">value</span><span class="o">:</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">]})});</span><span class="nx">groups</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">fun</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">||</span><span class="kc">null</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]});</span><span class="nx">options</span><span class="p">.</span><span class="nx">complete</span><span class="p">(</span><span class="kc">null</span><span class="p">,{</span><span class="nx">rows</span><span class="o">:</span><span class="nx">groups</span><span class="p">})}</span><span class="kd">function</span> <span class="nx">fetchDocData</span><span class="p">(</span><span class="nx">cursor</span><span class="p">,</span><span class="nx">metadata</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">current</span><span class="o">=</span><span class="p">{</span><span class="nx">doc</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">,</span><span class="nx">metadata</span><span class="o">:</span><span class="nx">metadata</span><span class="p">};</span><span class="nx">current</span><span class="p">.</span><span class="nx">doc</span><span class="p">.</span><span class="nx">_rev</span><span class="o">=</span><span class="nx">winningRev</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pos</span><span class="p">,</span><span class="nx">current</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">rev_tree</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">ids</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">complete</span><span class="o">&amp;&amp;!</span><span class="nx">current</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">deleted</span><span class="p">){</span><span class="nx">fun</span><span class="p">.</span><span class="nx">map</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[</span><span class="nx">current</span><span class="p">.</span><span class="nx">doc</span><span class="p">])}</span><span class="nx">cursor</span><span class="p">[</span><span class="s2">&quot;continue&quot;</span><span class="p">]()}</span><span class="kd">function</span> <span class="nx">fetchMetadata</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">cursor</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">cursor</span><span class="p">){</span><span class="k">return</span> <span class="nx">viewComplete</span><span class="p">()}</span><span class="kd">var</span> <span class="nx">metadata</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="kd">var</span> <span class="nx">dataReq</span><span class="o">=</span><span class="nx">txn</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="nx">BY_SEQ_STORE</span><span class="p">).</span><span class="nx">get</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">seq</span><span class="p">);</span><span class="nx">dataReq</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="nx">fetchDocData</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">cursor</span><span class="p">,</span><span class="nx">metadata</span><span class="p">);</span><span class="nx">dataReq</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="nx">idbError</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">complete</span><span class="p">)}};</span><span class="kd">function</span> <span class="nx">winningRev</span><span class="p">(</span><span class="nx">pos</span><span class="p">,</span><span class="nx">tree</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">tree</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">){</span><span class="k">return</span> <span class="nx">pos</span><span class="o">+</span><span class="s2">&quot;-&quot;</span><span class="o">+</span><span class="nx">tree</span><span class="p">[</span><span class="mi">0</span><span class="p">]}</span><span class="k">return</span> <span class="nx">winningRev</span><span class="p">(</span><span class="nx">pos</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">tree</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])}</span><span class="k">return</span> <span class="nx">api</span><span class="p">};</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">valid</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_valid</span><span class="p">(){</span><span class="k">return</span> <span class="o">!!</span><span class="nb">window</span><span class="p">.</span><span class="nx">indexedDB</span><span class="p">};</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">destroy</span><span class="o">=</span><span class="kd">function</span> <span class="nx">idb_destroy</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">callback</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: Delete Database&quot;</span><span class="p">);</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">Changes</span><span class="p">.</span><span class="nx">clearListeners</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span><span class="kd">var</span> <span class="nx">req</span><span class="o">=</span><span class="nx">indexedDB</span><span class="p">.</span><span class="nx">deleteDatabase</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span><span class="nx">req</span><span class="p">.</span><span class="nx">onsuccess</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">call</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span><span class="kc">null</span><span class="p">)};</span><span class="nx">req</span><span class="p">.</span><span class="nx">onerror</span><span class="o">=</span><span class="nx">idbError</span><span class="p">(</span><span class="nx">callback</span><span class="p">)};</span><span class="nx">IdbPouch</span><span class="p">.</span><span class="nx">Changes</span><span class="o">=</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">api</span><span class="o">=</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">listeners</span><span class="o">=</span><span class="p">{};</span><span class="nx">api</span><span class="p">.</span><span class="nx">addListener</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span><span class="nx">id</span><span class="p">,</span><span class="nx">opts</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">]){</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">]</span><span class="o">=</span><span class="p">{}}</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">][</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="nx">opts</span><span class="p">};</span><span class="nx">api</span><span class="p">.</span><span class="nx">removeListener</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="k">delete</span> <span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">][</span><span class="nx">id</span><span class="p">]};</span><span class="nx">api</span><span class="p">.</span><span class="nx">clearListeners</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">db</span><span class="p">){</span><span class="k">delete</span> <span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">]};</span><span class="nx">api</span><span class="p">.</span><span class="nx">emitChange</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span><span class="nx">change</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">]){</span><span class="k">return</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">opts</span><span class="o">=</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">db</span><span class="p">][</span><span class="nx">i</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="o">&amp;&amp;!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">filter</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[</span><span class="nx">change</span><span class="p">.</span><span class="nx">doc</span><span class="p">])){</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">opts</span><span class="p">.</span><span class="nx">include_docs</span><span class="p">){</span><span class="k">delete</span> <span class="nx">change</span><span class="p">.</span><span class="nx">doc</span><span class="p">}</span><span class="nx">opts</span><span class="p">.</span><span class="nx">onChange</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">onChange</span><span class="p">,[</span><span class="nx">change</span><span class="p">])}};</span><span class="k">return</span> <span class="nx">api</span><span class="p">})();</span><span class="nx">Pouch</span><span class="p">.</span><span class="nx">adapter</span><span class="p">(</span><span class="s2">&quot;idb&quot;</span><span class="p">,</span><span class="nx">IdbPouch</span><span class="p">)})(</span><span class="k">this</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 